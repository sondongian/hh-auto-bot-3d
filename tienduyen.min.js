!async function n(){let h="https://hoathinh3d.cam/wp-json/hh3d/v1/action",t=["\uD83C\uDF38 Duy\xean khởi từ t\xe2m, đạo hợp bởi \xfd! Ch\xfac hai vị đạo hữu đồng h\xe0nh bất diệt!","\uD83C\uDF3F T\xecnh th\xe2m như suối nguồn, đạo bền như n\xfai đ\xe1! Ch\xfac ph\xfac Song Tu vi\xean m\xe3n!","\uD83C\uDF1F Mong hai đạo hữu tay nắm tay vượt qua vạn kiếp, đồng h\xe0nh mu\xf4n kiếp!","\uD83D\uDD25 T\xecnh như lửa đỏ, đạo như trăng rằm. Nguyện Song Tu kết th\xe0nh Thi\xean Đạo!","\uD83C\uDF08 Ch\xfac hai vị lu\xf4n h\xf2a hợp, tỏa s\xe1ng như vầng dương giữa trời cao!"],a=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window?.Better_Messages?.nonce||""},body:JSON.stringify({action:"show_all_wedding"})}),o=await a.json(),i=o?.data||[],e=i.filter(n=>!n.has_blessed);if(!e.length){console.log("✅ Tất cả c\xe1c ph\xf2ng đ\xe3 ch\xfac ph\xfac h\xf4m nay.");return}for(let g of e){let c=g.wedding_room_id;console.log(`💠 Đang xử l\xfd ph\xf2ng ${c}...`);let s=await fetch(`https://hoathinh3d.cam/phong-cuoi?id=${c}`),d=await s.text(),l=d.match(/const\s+rest_nonce\s*=\s*['"]([^'"]+)['"]/),p=l?.[1];if(!p){console.warn(`❌ Kh\xf4ng t\xecm thấy nonce cho ph\xf2ng ${c}`);continue}let r=t[Math.floor(Math.random()*t.length)],m=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":p},body:JSON.stringify({action:"hh3d_add_blessing",wedding_room_id:c,message:r})}),u=await m.json();u.success?console.log(`🎉 Ph\xf2ng ${c}: Ch\xfac ph\xfac th\xe0nh c\xf4ng → "${r}"`):console.warn(`⚠️ Ph\xf2ng ${c}: ${u.message||"Lỗi kh\xf4ng r\xf5"}`),await new Promise(n=>setTimeout(n,1e3))}}();
