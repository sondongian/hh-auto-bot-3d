const DOMAIN="https://hoathinh3d.team",ACTION_URL=DOMAIN+"/wp-json/hh3d/v1/action",HH3D_AJAX_URL=DOMAIN+"/wp-content/themes/halimmovies-child/hh3d-ajax.php",ADMIN_AJAX_URL=DOMAIN+"/wp-admin/admin-ajax.php",quizBank={"Ai l\xe0 huynh đệ v\xe0 cũng l\xe0 người thầy m\xe0 Vương L\xe2m trong Ti\xean Nghịch k\xednh trọng nhất ?":"Tư Đồ Nam","Ai l\xe0 mẹ của Đường Tam?":"A Ng\xe2n","Ai l\xe0 người đứng đầu Vũ Hồn Điện?":"Bỉ Bỉ Đ\xf4ng","Ai l\xe0 người thầy của Đường Tam?":"Đại Sư","Ai l\xe0 nh\xe2n vật ch\xednh trong bộ phim hoạt h\xecnh trung quốc Thần Mộ ?":"Thần Nam","\xc1m tinh giới được xuất hiện trong bộ phim hoạt h\xecnh n\xe0o dưới đ\xe2y ?":"Tinh Thần Biến","B\xe1ch L\xfd Đ\xf4ng Qu\xe2n l\xe0 nh\xe2n vật trong bộ hoạt h\xecnh trung quốc n\xe0o sau đ\xe2y ?":"Thiếu Ni\xean Bạch M\xe3 Tu\xfd Xu\xe2n Phong","Bạch Nguyệt Kh\xf4i l\xe0 t\xean nh\xe2n vật ch\xednh trong bộ phim hoạt h\xecnh trung quốc n\xe0o sau đ\xe2y ?":"Linh Lung","Bạch Tiểu Thuần l\xe0 nh\xe2n vật ch\xednh trong bộ hoạt h\xecnh trung quốc n\xe0o ?":"Nhất Niệm Vĩnh Hằng","Bạch Tiểu Thuần trong Nhất Niệm Vĩnh Hằng lu\xf4n được ai \xe2m thầm gi\xfap đỡ ?":"Đỗ Lăng Phỉ","Bộ phim n\xe0o sau đ\xe2y thuộc tiểu thuyết của t\xe1c giả Thi\xean Tằm Thổ Đậu":"Tất cả đ\xe1p \xe1n","C\xe1c cấp bậc n\xe0o sau đ\xe2y thuộc phim Đấu Ph\xe1 Thương Khung ?":"Đấu T\xf4ng","Ch\xe1u dượng của Bạch Tiểu Thuần trong Nhất Niệm Vĩnh Hằng l\xe0 ai ?":"Tống Khuyết","Chủ nh\xe2n đời trước của Vẫn Lạc T\xe2m Vi\xeam trong Đấu Ph\xe1 Thương Khung l\xe0 ai ?":"Diệu Thi\xean Hoả","C\xf4ng ph\xe1p g\xec gi\xfap Ti\xeau Vi\xeam trong Đấu Ph\xe1 Thương Khung hấp thụ nhiều loại dị hỏa ?":"Phần Quyết","C\xf4ng ph\xe1p n\xe0o sau đ\xe2y l\xe0 của H\xe0n Lập trong Ph\xe0m Nh\xe2n Tu Ti\xean ?":"Tất cả đ\xe1p \xe1n","Cơ Tử Nguyệt l\xe0 nh\xe2n vật trong c\xe1c bộ hoạt h\xecnh trung quốc n\xe0o sau đ\xe2y ?":"Gi\xe0 Thi\xean","Dạ T\xe1ng c\xf2n l\xe0 biệt danh của ai trong Nhất Niệm Vĩnh Hằng ?":"Bạch Tiểu Thuần","Danh xưng T\xe0n Thi Bại Thuế l\xe0 của nh\xe2n vật n\xe0o trong Hoạ Giang Hồ Chi Bất Lương Nh\xe2n ?":"H\xe0ng Thần","Diễm Linh Cơ l\xe0 nh\xe2n vật trong phim hoạt h\xecnh trung quốc n\xe0o ?":"Thi\xean H\xe0nh Cửu Ca","Diệp Ph\xe0m l\xe0 nh\xe2n vật ch\xednh trong bộ hoạt h\xecnh trung quốc n\xe0o ?":"Gi\xe0 Thi\xean","Diệp Thần trong Ti\xean V\xf5 Đế T\xf4n gia nhập T\xf4ng M\xf4n n\xe0o đầu ti\xean ?":"Ch\xednh Dương T\xf4ng","Dược Trần trong Đấu Ph\xe1 Thương Khung đ\xe3 từng bị đồ đệ n\xe0o phản bội ?":"H\xe0n Phong","Đại ca của Ti\xeau Vi\xeam trong Đấu Ph\xe1 Thương Khung t\xean g\xec ?":"Ti\xeau Đỉnh","Đ\xe0m V\xe2n l\xe0 nh\xe2n vật ch\xednh trong bộ phim hoạt h\xecnh trung quốc n\xe0o sau đ\xe2y ?":"Nghịch Thi\xean Ch\xed T\xf4n","Đạo lữ của H\xe0n Lập l\xe0 ai ?":"Nam Cung Uyển","Đ\xe2u l\xe0 nh\xe2n vật ch\xednh trong phim B\xe1ch Luyện Th\xe0nh Thần ?":"La Chinh","Đ\xe2u l\xe0 Th\xe1i Cổ Thập Hung trong phim Thế Giới Ho\xe0n Mỹ ?":"Tất cả đ\xe1p \xe1n","Đ\xe2u l\xe0 tuyệt kỹ số 1 Hạo Thi\xean T\xf4ng m\xe0 Đường Hạo dạy cho con trai trong Đấu La Đại Lục ?":"Đại Tu Di Ch\xf9y","Đấu S\xe1t To\xe0n Vi\xean Kiếm l\xe0 một kỹ năng trong bộ phim hoạt h\xecnh trung quốc n\xe0o ?":"Thần Ấn Vương Tọa","Độc C\xf4 B\xe1c trong Đấu La Đại Lục c\xf3 vũ hồn g\xec ?":"B\xedch L\xe2n X\xe0","Em trai ruột của Thạch Hạo trong Thế Giới Ho\xe0n Mỹ l\xe0 ai ?":"Tần Hạo","H\xe0n lập sở hữu những vật phẩm n\xe0o dưới đ\xe2y ?":"Thanh Tr\xfac Phong V\xe2n Kiếm","H\xe0n Lập trong Ph\xe0m Nh\xe2n Tu Ti\xean đến Thất Huyền M\xf4n b\xe1i ai l\xe0m thầy ?":"Mặc Đại Phu","H\xe0n Lập trong Ph\xe0m Nh\xe2n Tu Ti\xean gia nhập m\xf4n ph\xe1i n\xe0o đầu ti\xean ?":"Thất Huyền M\xf4n","H\xe0n Lập trong Ph\xe0m Nh\xe2n Tu Ti\xean từng cứu ai m\xe0 bị hấp thụ tu vi giảm xuống Luyện Kh\xed Kỳ ?":"Nam Cung Uyển","Hoang Thi\xean Đế l\xe0 nh\xe2n vật ch\xednh trong bộ phim hoạt h\xecnh trung quốc nổi tiếng n\xe0o ?":"Thế Giới Ho\xe0n Mỹ","Hoắc Vũ Hạo l\xe0 hậu nh\xe2n của ai trong Sử Lai Khắc ?":"Đ\xe1i Mộc Bạch","Hồn ho\xe0n m\xe0u n\xe0o mạnh nhất?":"Đỏ","Hu\xe2n Nhi l\xe0 c\xf4ng ch\xfaa của bộ tộc n\xe0o?":"Cổ tộc","Kh\xf4 L\xe2u Đ\xe0 Chủ xuất hiện trong bộ phim hoạt h\xecnh n\xe0o dưới đ\xe2y ?":"V\xf5 Thần Ch\xfaa Tể","Khi ở Gi\xe0 Nam Học Viện, Ti\xeau Vi\xeam thu phục được loại dị hỏa n\xe0o ?":"Vẫn Lạc T\xe2m Vi\xeam","K\xednh Huyền trong Quyến Tư Lượng l\xe0 hậu duệ của tộc n\xe0o ?":"Thần Tộc","Lạc Ly trong Đại Ch\xfaa Tể l\xe0 nh\xe2n vật trong Tộc n\xe0o ?":"Lạc Thần Tộc","L\xe2m Động trong Vũ Động C\xe0n Kh\xf4n học được Linh V\xf5 Học n\xe0o khi v\xe0o bia cổ Đại Hoang ?":"Đại Hoang T\xf9 Thi\xean Chỉ","L\xe2m Động trong Vũ Động C\xe0n Kh\xf4n luyện h\xf3a Tổ Ph\xf9 n\xe0o đầu ti\xean ?":"Th\xf4n Phệ Tổ Ph\xf9","L\xe2m Động trong Vũ Động C\xe0n Kh\xf4n sử dụng vũ kh\xed loại n\xe0o sau đ\xe2y ?":"Thương","L\xe2m Phong l\xe0 nh\xe2n vật trong bộ hoạt h\xecnh trung quốc n\xe0o sau đ\xe2y ?":"Vạn Giới Độc T\xf4n","L\xe2m Thất Dạ l\xe0 nh\xe2n vật trong bộ hoạt h\xecnh trung quốc n\xe0o sau đ\xe2y ?":"Trảm Thần","L\xe2m Thất Dạ trong Trảm Thần sở hữu sức mạnh của vị thần n\xe0o ?":"Thi\xean Sứ","Long Tuyền Kiếm xuất hiện trong bộ phim hoạt h\xecnh n\xe0o dưới đ\xe2y ?":"Họa Giang Hồ Chi Bất Lương Nh\xe2n","Lục Tuyết Kỳ trong Tru Ti\xean thuộc Phong n\xe0o trong Thanh V\xe2n M\xf4n?":"Tiểu Tr\xfac Phong","L\xfd Tinh V\xe2n trong Họa Giang Hồ Chi Bất Lương Nh\xe2n sử dụng vũ kh\xed n\xe0o sau đ\xe2y ?":"Long Tuyền Kiếm","L\xfd Tinh V\xe2n l\xe0 một nh\xe2n vật trong bộ phim hoạt h\xecnh trung quốc n\xe0o sau đ\xe2y ?":"Họa Giang Hồ Chi Bất Lương Nh\xe2n","L\xfd Trường Thọ trong Sư Huynh A Sư Huynh xuy\xean kh\xf4ng về Hồng Hoang b\xe1i sư ở đ\xe2u ?":"Độ Ti\xean M\xf4n",'Man Hồ Tử trong phim "Ph\xe0m Nh\xe2n Tu Ti\xean" tu luyện c\xf4ng ph\xe1p n\xe0o?':"Th\xe1c Thi\xean Ma C\xf4ng","Mẫu th\xe2n của La Phong trong Th\xf4n Phệ Tinh Kh\xf4ng t\xean l\xe0 g\xec ?":"Cung T\xe2m Lan","Mẹ của Mạnh Xuy\xean trong Thương Nguy\xean Đồ t\xean l\xe0 g\xec ?":"Bạch Niệm V\xe2n","Mẹ của Tần Trần l\xe0 ai ?":"Tần Nguyệt Tr\xec","Mẹ của Thạch Hạo trong Thế Giới Ho\xe0n Mỹ t\xean l\xe0 g\xec":"Tần Di Ninh","Mối t\xecnh đầu của Diệp Thần trong Ti\xean V\xf5 Đế T\xf4n l\xe0 ai ?":"Cơ Ngưng Sương","Mục đ\xedch tu luyện của Vương L\xe2m trong Ti\xean Nghịch theo diễn biến phim hiện tại l\xe0 g\xec ?":"B\xe1o Th\xf9","Mục Trần trong Đại Ch\xfaa Tể li\xean kết Huyết Mạch với ?":"Cửu U Tước","Mục V\xe2n l\xe0 nh\xe2n vật trong bộ hoạt h\xecnh trung quốc n\xe0o sau đ\xe2y ?":"V\xf4 Thượng Thần Đế","Nam ch\xednh trong bộ hoạt h\xecnh trung quốc \xc1m H\xe0 Truyện l\xe0 ai ?":"T\xf4 Mộ Vũ","Nam ch\xednh trong bộ Quyến Tư Lượng l\xe0 ai ?":"K\xednh Huyền","Nghịch H\xe0 T\xf4ng l\xe0 T\xf4ng M\xf4n trong bộ hoạt h\xecnh trung quốc n\xe0o sau đ\xe2y ?":"Nhất Niệm Vĩnh Hằng","Nghịch Thi\xean Nhi H\xe0nh l\xe0 một nh\xe2n vật trong bộ phim hh3d n\xe0o sau đ\xe2y ?":"Vũ Canh Kỷ","Ngụy Anh (Ngụy V\xf4 Tiện) l\xe0 nh\xe2n vật trong bộ hhtq n\xe0o sau đ\xe2y ?":"Ma Đạo Tổ Sư","Người bạn thuở nhỏ của Trương Tiểu Ph\xe0m trong Tru Ti\xean l\xe0 ai ?":"L\xe2m Kinh Vũ","Nh\xe2n vật B\xe1ch L\xfd Đồ Minh xuất hiện trong phim hoạt h\xecnh n\xe0o dưới đ\xe2y ?":"Trảm Thần Chi Ph\xe0m Trần Thần Vực",'Nh\xe2n vật ch\xednh của "Thần Ấn Vương Tọa" l\xe0 ai?':"Long Hạo Thần","Nh\xe2n vật ch\xednh của Đấu La Đại Lục l\xe0 ai?":"Đường Tam","Nh\xe2n vật ch\xednh L\xfd Trường Thọ trong Sư Huynh A Sư Huynh đ\xe3 tỏ t\xecnh với ai ?":"V\xe2n Ti\xeau","Nh\xe2n vật ch\xednh trong Thương Nguy\xean đồ l\xe0 ai ?":"Mạnh Xuy\xean","Nh\xe2n vật ch\xednh trong Y\xeau Thần K\xfd t\xean l\xe0 g\xec ?":"Nhiếp Ly","Nh\xe2n vật ch\xednh trong Man Hoang Ti\xean Giới l\xe0 ai ?":"Lục H\xe0ng Chi","Nh\xe2n vật n\xe0o lu\xf4n bất bại trong phim Hoạt H\xecnh Trung Quốc, được v\xed như One-Punch Man ?":"Từ Dương","Nh\xe2n vật n\xe0o sau đ\xe2y được mệnh danh l\xe0 Vua Lỳ Đ\xf2n trong Đấu Ph\xe1 Thương Khung ?":"Phượng Thanh Nhi","Nhị ca của Ti\xeau Vi\xeam trong Đấu Ph\xe1 Thương Khung t\xean g\xec ?":"Ti\xeau Lệ","Nhiếp Phong l\xe0 nh\xe2n vật ch\xednh trong phim hoạt h\xecnh trung quốc n\xe0o ?":"Ch\xe2n V\xf5 Đỉnh Phong","Ninh Di\xeau l\xe0 một nh\xe2n vật trong bộ phim hoạt h\xecnh trung quốc n\xe0o sau đ\xe2y ?":"Kiếm Lai","Nữ ch\xednh cũng l\xe0 vợ Đ\xf4ng B\xe1 Tuyết Ưng trong Tuyết Ưng Lĩnh Chủ l\xe0 ai sau đ\xe2y ?":"Dư Tĩnh Thu","Nữ ch\xednh trong bộ Quyến Tư Lượng l\xe0 ai ?":"Đồ Lệ","\xd4ng nội của L\xe2m Động trong Vũ Động C\xe0n Kh\xf4n l\xe0 ai ?":"L\xe2m Chấn Thi\xean","Phụ Th\xe2n của L\xe2m Động trong Vũ Động C\xe0n Kh\xf4n l\xe0 ai ?":"L\xe2m Khiếu","Phương H\xe0n l\xe0 nh\xe2n vật trong bộ hoạt h\xecnh trung quốc n\xe0o sau đ\xe2y ?":"Vĩnh Sinh","Phương H\xe0n trong Vĩnh Sinh nhận được Giao Phục Ho\xe0ng Tuyền Đồ từ ai ?":"Bạch Hải Thiện","Phương H\xe0n trong Vĩnh Sinh xuất th\xe2n l\xe0 g\xec ở nh\xe0 họ Phương ?":"N\xf4 Bộc","Phượng Thanh Nhi trong Đấu Ph\xe1 Thương Khung thuộc chủng tộc n\xe0o ?":"Thi\xean Y\xeau Ho\xe0ng Tộc","Số hiệu vị thần của main trong Trảm Thần: Ph\xe0m Trần Thần Vực l\xe0 số mấy ?":"003","Sử Lai Khắc Thất Qu\xe1i đ\xe3 từng đến nơi n\xe0o để luyện tập?":"Hải Thần Đảo","Sư mẫu của Bạch Tiểu Thuần trong Nhất Niệm Vĩnh Hằng l\xe0 ai ?":"Hứa Mị Nương","Sư phụ của Bạch Tiểu Thuần trong Nhất Niệm Vĩnh hằng l\xe0 ai ?":"L\xfd Thanh Hậu","Sư phụ của L\xfd Trường Thọ l\xe0 ai ?":"Tề Nguy\xean","Sư phụ m\xe0 Diệp Thần y\xeau trong Ti\xean V\xf5 Đế T\xf4n l\xe0 ai ?":"Sở Huy\xean Nhi","Sư Phụ thứ 2 của L\xfd Trường Thọ trong phim":"Th\xe1i Thanh Th\xe1nh Nh\xe2n","Tại sao Đường Tam bị Đường M\xf4n truy s\xe1t ở tập đầu phim Đấu La Đại Lục ?":"Học trộm tuyệt học bổn m\xf4n","Tần Vũ trong Tinh Thần Biến được tặng ph\xe1p bảo si\xeau cấp vip pro n\xe0o để tu luyện nhanh ch\xf3ng ?":"Khương Lan Th\xe1p","Tần Vũ trong Tinh Thần Biến khiếm khuyết đan điền nhờ đ\xe2u mới c\xf3 thể tu luyện ?":"Lưu Tinh Lệ","Th\xe1nh nữ n\xe0o trong Gi\xe0 Thi\xean bị nh\xe2n vật ch\xednh Diệp Ph\xe0m lấy mất c\xe1i \xe1o l\xf3t ?":"Di\xeau Hi","Thần Th\xf4ng B\xed Cảnh xuất hiện trong bộ phim hoạt h\xecnh n\xe0o dưới đ\xe2y ?":"Vĩnh Sinh","Thần vị m\xe0 Đường Tam đạt được l\xe0 g\xec?":"Hải Thần v\xe0 Tu La Thần","Thế lực n\xe0o l\xe0 đối thủ lớn nhất của Ti\xeau Vi\xeam trong Đấu Ph\xe1 Thương Khung?":"Hồn Điện","Thi\xean Hoả T\xf4n Giả trong Đấu Ph\xe1 Thương Khung d\xf9ng thi thể của ai để hồi sinh ?":"V\xe2n Sơn","Th\xfa cưng Th\xf4n Th\xf4n trong Nguy\xean T\xf4n sinh ra c\xf3 sức mạnh ngang cảnh giới n\xe0o ?":"Th\xe1i Sơ Cảnh","Ti\xeau Khinh Tuyết xuất hiện trong bộ hoạt h\xecnh n\xe0o dưới đ\xe2y ?":"Tuyệt Thế Chiến Hồn","Ti\xeau Vi\xeam đ\xe3 lập n\xean thế lực n\xe0o khi ở Học Viện Gi\xe0 Nam ?":"B\xe0n M\xf4n","Ti\xeau Vi\xeam trong Đấu Ph\xe1 Thương Khung đ\xe3 Hẹn Ước 3 Năm với ai ?":"Nạp Lan Y\xean Nhi\xean","Ti\xeau Vi\xeam trong Đấu Ph\xe1 Thương Khung sử dụng loại vũ kh\xed n\xe0o sau đ\xe2y ?":"Thước","Ti\xeau Vi\xeam trong Đấu Ph\xe1 Thương Khung thuộc gia tộc n\xe0o?":"Ti\xeau gia","Ti\xeau Thần l\xe0 nh\xe2n vật ch\xednh trong bộ phim hoạt h\xecnh trung quốc n\xe0o sau đ\xe2y ?":"Trường Sinh Giới","T\xecnh đầu của Diệp Ph\xe0m trong Gi\xe0 Thi\xean l\xe0 ai ?":"L\xfd Tiểu Mạn","Trần B\xecnh An l\xe0 nam ch\xednh trong bộ phim hoạt h\xecnh trung quốc n\xe0o ?":"Kiếm Lai","Triệu Ngọc Ch\xe2n l\xe0 nh\xe2n vật trong bộ hoạt h\xecnh trung quốc n\xe0o sau đ\xe2y ?":"Thiếu Ni\xean Bạch M\xe3 Tu\xfd Xu\xe2n Phong","Trong bộ Đấu Ph\xe1 Thương Khung, Ti\xeau Vi\xeam t\xecm đến ai để cứu Dược L\xe3o ?":"Phong T\xf4n Giả","Trong bộ Ti\xean Nghịch, nh\xe2n vật ch\xednh Vương L\xe2m khi ở qu\xea nh\xe0 c\xf2n c\xf3 t\xean kh\xe1c l\xe0 g\xec ?":"Thiết Trụ","Trong Đấu La Đại Lục, Đường Hạo l\xe0 g\xec của Đường Tam?":"Cha","Trong Gi\xe0 Thi\xean, thể chất Diệp Ph\xe0m l\xe0 thể chất g\xec ?":"Hoang Cổ Th\xe1nh Thể","Trong Ph\xe0m Nh\xe2n Tu Ti\xean ai bị luyện th\xe0nh kh\xf4i lỗi Kh\xfac Hồn ?":"Trương Thiết","Trong phim Ti\xean Nghịch, Vương L\xe2m v\xf4 t\xecnh c\xf3 được ph\xe1p bảo nghịch thi\xean n\xe0o ?":"Thi\xean Nghịch Ch\xe2u","Trong Ti\xean Nghịch, Vương L\xe2m nhận được truyền thừa g\xec ở Cổ Thần Chi Địa ?":"K\xfd Ức","Trong Tru Ti\xean, Điền Bất Dịch l\xe0 thủ tọa của Phong n\xe0o?":"Đại Tr\xfac Phong","Trong Vĩnh Sinh - Phương H\xe0n hẹn ước 10 năm c\xf9ng với ai ?":"Hoa Thi\xean Đ\xf4","Trước khi đến Linh Kh\xea T\xf4ng, Bạch Tiểu Thuần trong Nhất Niệm Vĩnh Hằng ở đ\xe2u ?":"Mạo Nhi Sơn Th\xf4n","Trương Tiểu Ph\xe0m trong phim Tru Ti\xean c\xf2n c\xf3 t\xean gọi l\xe0 ?":"Quỷ Lệ","Trương Tiểu Ph\xe0m trong Tru Ti\xean từng được nhận v\xe0o m\xf4n ph\xe1i n\xe0o?":"Thanh V\xe2n M\xf4n","Tử Nghi\xean trong Đấu Ph\xe1 Thương Khung thuộc chủng tộc n\xe0o ?":"Th\xe1i Hư Cổ Long","V\xe2n Triệt l\xe0 t\xean nh\xe2n vật ch\xednh trong bộ phim hoạt h\xecnh trung quốc n\xe0o sau đ\xe2y ?":"Nghịch Thi\xean T\xe0 Thần","Tại sao H\xe0n Lập khi gặp Phong Hi kh\xf4ng chạy m\xe0 ở lại gi\xfap đỡ chế tạo Phong L\xf4i S\xed ?":'V\xec đ\xe1nh kh\xf4ng lại"."',"Vũ Canh l\xe0 nh\xe2n vật trong bộ hoạt h\xecnh trung quốc n\xe0o sau đ\xe2y ?":"Vũ Canh Kỷ","Vũ hồn của Chu Tr\xfac Thanh l\xe0 g\xec?":"U Minh Linh Mi\xeau","Vũ hồn của Đới Mộc Bạch l\xe0 g\xec?":"Bạch Hổ","Vũ hồn của M\xe3 Hồng Tuấn l\xe0 g\xec?":"Hỏa Phượng Ho\xe0ng","Vũ hồn của Tiểu Vũ l\xe0 g\xec?":"Nhu Cốt Thỏ","Vũ hồn thứ hai của Đường Tam l\xe0 g\xec?":"Hạo Thi\xean Ch\xf9y","Vũ kh\xed của Đ\xe0m V\xe2n trong Nghịch Thi\xean Ch\xed T\xf4n l\xe0 g\xec ?":"Hồng M\xf4ng Thần Kiếm","Vũ kh\xed m\xe0 Ti\xeau Vi\xeam trong Đấu Ph\xe1 Thương Khung lu\xf4n mang b\xean m\xecnh c\xf3 t\xean gọi l\xe0 g\xec ?":"Huyền Trọng X\xedch","Vương L\xe2m trong phim Ti\xean Nghịch dựa v\xe0o g\xec để v\xf4 địch c\xf9ng cảnh giới ?":"Cực cảnh","Y Lai Khắc Tư l\xe0 một nh\xe2n vật trong bộ phim hoạt h\xecnh trung quốc n\xe0o sau đ\xe2y ?":"Cả 1 v\xe0 2","Tần Mục l\xe0 nh\xe2n vật ch\xednh trong bộ phim hoạt h\xecnh trung quốc n\xe0o sau đ\xe2y ?":"Mục Thần K\xfd","Mục đ\xedch ch\xednh tu luyện của Tần Vũ trong Tinh Thần Biến l\xe0 g\xec ??":"V\xec muốn được cưới Khương Lập","Trong Đấu Ph\xe1 Thương Khung, Ti\xeau Vi\xeam hơn Cổ H\xe0 ở điểm g\xec ?":"Dị Hỏa","Tại sao H\xe0n Lập khi gặp Phong Hi kh\xf4ng chạy m\xe0 ở lại gi\xfap đỡ chế tạo Phong L\xf4i S\xed ?":"V\xec đ\xe1nh kh\xf4ng lại.","Nh\xe2n vật ch\xednh trong Ta C\xf3 Thể Gi\xe1c Ngộ V\xf4 Hạn l\xe0 ai ?":"Ti\xeau V\xe2n","Nh\xe2n vật ch\xednh trong Đấu Chiến Thi\xean Hạ l\xe0 ai ?":"Đại Phong","Nh\xe2n vật ch\xednh trong Qu\xe2n Tử V\xf4 Tật l\xe0 ai ?":"Dao Cơ","Nh\xe2n vật ch\xednh trong Man Hoang Ti\xean Giới l\xe0 ai ?":"Lục H\xe0ng Chi","1 Trong 2 Admin của website HoatHinh3D l\xe0 ai ? (Biệt danh ch\xednh x\xe1c ở web)":"Từ Dương","Tỉnh Cửu l\xe0 nh\xe2n vật ch\xednh trong bộ phim hoạt h\xecnh trung quốc n\xe0o sau đ\xe2y ?":"Đại Đạo Triều Thi\xean","Tần Nam l\xe0 nh\xe2n vật ch\xednh trong bộ hoạt h\xecnh trung quốc n\xe0o sau đ\xe2y ?":"Tuyệt Thế Chiến Hồn"},latinMap={đ:"d",Đ:"D",А:"A",В:"B",С:"C",Е:"E",Н:"H",К:"K",М:"M",О:"O",Р:"P",Т:"T",Х:"X",а:"a",е:"e",о:"o",р:"p",с:"c",х:"x",н:"n",і:"i",ѕ:"s",ԁ:"d",ј:"j",Α:"A",Β:"B",Ε:"E",Ζ:"Z",Η:"H",Ι:"I",Κ:"K",Μ:"M",Ν:"N",Ο:"O",Ρ:"P",Τ:"T",Υ:"Y",Χ:"X",α:"a",β:"b",γ:"y",δ:"d",ε:"e",ι:"i",κ:"k",μ:"m",ο:"o",ρ:"p",τ:"t",υ:"u",χ:"x",ａ:"a",ｂ:"b",ｃ:"c",ｄ:"d",ｅ:"e",ｆ:"f",ｇ:"g",ｈ:"h",ｉ:"i",ｊ:"j",ｋ:"k",ｌ:"l",ｍ:"m",ｎ:"n",ｏ:"o",ｐ:"p",ｑ:"q",ｒ:"r",ｓ:"s",ｔ:"t",ｕ:"u",ｖ:"v",ｗ:"w",ｘ:"x",ｙ:"y",ｚ:"z",Ａ:"A",Ｂ:"B",Ｃ:"C",Ｄ:"D",Ｅ:"E",Ｆ:"F",Ｇ:"G",Ｈ:"H",Ｉ:"I",Ｊ:"J",Ｋ:"K",Ｌ:"L",Ｍ:"M",Ｎ:"N",Ｏ:"O",Ｐ:"P",Ｑ:"Q",Ｒ:"R",Ｓ:"S",Ｔ:"T",Ｕ:"U",Ｖ:"V",Ｗ:"W",Ｘ:"X",Ｙ:"Y",Ｚ:"Z",ᴀ:"a",ᴄ:"c",ᴅ:"d",ᴇ:"e",ɢ:"g",ʜ:"h",ɪ:"i",ᴊ:"j",ᴋ:"k",ʟ:"l",ᴍ:"m",ɴ:"n",ᴏ:"o",ᴘ:"p",ǫ:"q",ʀ:"r",s:"s",ᴛ:"t",ᴜ:"u",ᴠ:"v",ᴡ:"w",x:"x",ʏ:"y",ᴢ:"z"},normalize=n=>n.split("").map(n=>latinMap[n]||n).join("").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9 ]+/g,"").replace(/\s+/g," ").trim(),levenshteinDistance=(n,t)=>{let e=Array.from({length:n.length+1},(n,e)=>Array.from({length:t.length+1},(n,t)=>0===e?t:0===t?e:0));for(let h=1;h<=n.length;h++)for(let i=1;i<=t.length;i++)e[h][i]=Math.min(e[h-1][i]+1,e[h][i-1]+1,e[h-1][i-1]+(n[h-1]===t[i-1]?0:1));return e[n.length][t.length]},similarityPercent=(n,t)=>{if(!n&&!t)return 100;let e=levenshteinDistance(n,t),h=Math.max(n.length,t.length);return((1-e/h)*100).toFixed(2)},bestMatch=(n,t)=>{let e=normalize(t),h=-1,i=-1;for(let a=0;a<n.length;a++){let o=normalize(n[a]),g=parseFloat(similarityPercent(o,e));g>i&&(h=a,i=g)}return console.log("<Logger>",`🔐 target: ${t} - result: ${n[h]} (${i})`),h},getRequestData=n=>[...n.matchAll(/data\s*(?:=|:)\s*{([\s\S]*?)}/g)].map(n=>{let t=n[1],e=(t.match(/['"]?action['"]?\s*:\s*['"]([^'"]+)['"]/)||[])[1]||"",h=(t.match(/['"]?nonce['"]?\s*:\s*['"]([a-f0-9]+)['"]/)||[])[1]||"",i=(t.match(/['"]?security['"]?\s*:\s*['"]([a-f0-9]+)['"]/)||[])[1]||"";return e?{action:e,nonce:h,security:i}:null}).filter(Boolean),postRequest=async(n,{headers:t,body:e})=>{try{let h=await fetch(n,{method:"POST",headers:t,body:e});return await h.json()}catch(i){return console.error("<Logger>",`🔴 POST: ${n} - ${i}`),{success:!1,error:i}}},loadPage=async n=>{let t=await fetch(n),e=await t.text(),h=new DOMParser().parseFromString(e,"text/html");return{html:e,doc:h}};async function checkIn(){let n=Better_Messages.nonce;if(!n)return console.log("<Logger>",`🔴 [Điểm Danh] - Kh\xf4ng t\xecm thấy nonce daily_check_in`);let t=await postRequest(ACTION_URL,{headers:{"Content-Type":"application/json","X-WP-Nonce":n},body:JSON.stringify({action:"daily_check_in"})}),e=t.success?`🟢 [Điểm Danh] - Th\xe0nh c\xf4ng.`:`🟡 [Điểm Danh] - ${t.message}`;console.log("<Logger>",e)}async function claimBossChest(n){if(!n)return console.log("<Logger>",`🔴 [Hoang Vực] - Kh\xf4ng t\xecm thấy nonce claim_chest`);let t=await postRequest(ADMIN_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"claim_chest",nonce:n})});if(t.error)return console.log("<Logger>",`🔴 [Hoang Vực] - ${t.error}`);console.log("<Logger>",`🟢 [Hoang Vực] - Nhận thưởng th\xe0nh c\xf4ng.`);let e=t.total_rewards||{},h=[];e.tu_vi&&h.push(`✨ Tu Vi: ${e.tu_vi}`),e.tinh_thach&&h.push(`💎 Tinh Thạch: ${e.tinh_thach}`),e.tinh_huyet&&h.push(`🩸 Tinh Huyết: ${e.tinh_huyet}`),h.length&&console.log(h.join(" | "))}async function attackBoss(){let n=await loadPage(DOMAIN+"/hoang-vuc"),t=n.html.includes('id="reward-button"'),e=n.html.match(/var\s+ajax_boss_nonce\s*=\s*'([^']+)'/)?.[1];if(t){await claimBossChest(e),await attackBoss();return}let h=n.html.match(/boss_id\s*==\s*"(\d+)"/)?.[1];if(!e)return console.log("<Logger>",`🔴 [Hoang Vực] - Kh\xf4ng t\xecm thấy nonce attack_boss`);if(!h)return console.log("<Logger>",`🔴 [Hoang Vực] - Kh\xf4ng t\xecm thấy bossId attack_boss`);let i="req_"+Math.random().toString(36).slice(2,11)+"_"+Date.now(),a=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"attack_boss",boss_id:h,nonce:e,request_id:i})}),o=a.success?"\uD83D\uDFE2 [Hoang Vực] - Tấn c\xf4ng th\xe0nh c\xf4ng.":`🟡 [Hoang Vực] - Tấn c\xf4ng thất bại - ${a.data?.error}`;console.log("<Logger>",o)}async function claimBonusReward(n){let t=async(n,t)=>{let e=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"claim_bonus_reward",chest_id:n,security:t})});return console.log(`${e.success?"✅":"❌"} [Ph\xfac Lợi Đường] - ${e.data?.message}`),!!e.success};n||(n=await loadPage(DOMAIN+"/phuc-loi-duong"));let e=Array.from(document.querySelectorAll(".reward-progress-container .milestone")).map(n=>{let t=n.querySelector(".gift-box");if(!t)return null;let e=t.classList,h=e.contains("active"),i=e.contains("received-reward"),a=(t.getAttribute("style")||"").match(/pointer-events\s*:\s*([a-zA-Z-]+)/),o=a?.[1]?.trim();return!h||i||o&&"auto"!==o?null:n.getAttribute("data-id")}).filter(Boolean),h=getRequestData(n.html),i=h.find(n=>"claim_bonus_reward"===n.action)?.security;if(!i)return console.log("<Logger>",`🔴 [Ph\xfac Lợi Đường] - Kh\xf4ng t\xecm thấy security claim_bonus_reward`);for(let a of e){if(await t(a,i)&&3===Number(a))return await new Promise(n=>setTimeout(n,250)),await t(4,i);await new Promise(n=>setTimeout(n,250))}}async function getNextTimePL(n){if(!n)return console.log("<Logger>",`🔴 [Ph\xfac Lợi Đường] - Kh\xf4ng t\xecm thấy security get_next_time_pl`);let t=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"get_next_time_pl",security:n})}),e=parseInt(t.data?.chest_level,10),h=t.data?.time;if(!t.success||isNaN(e))return console.log("<Logger>",`🔴 [Ph\xfac Lợi Đường] - Kh\xf4ng lấy được dữ liệu get_next_time_pl`);if(4===e)console.log("<Logger>",`🟢 [Ph\xfac Lợi Đường] - Đ\xe3 mở đủ 4 rương.`);else{if("00:00"===h)return e+1;console.log("<Logger>",`🟡 [Ph\xfac Lợi Đường] - Chưa đến thời gian mở | ${h}`)}return null}async function openChestPL(){let n=await loadPage(DOMAIN+"/phuc-loi-duong");await claimBonusReward(n);let t=n.html.match(/get_next_time_pl[\s\S]*?security\s*:\s*'([^']+)'/)?.[1],e=await getNextTimePL(t);if(null===e)return;if(!t)return console.log("<Logger>",`🔴 [Ph\xfac Lợi Đường] - Kh\xf4ng t\xecm thấy security open_chest_pl`);let h=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"open_chest_pl",security:t,chest_id:e})}),i=h.success?`🟢 [Ph\xfac Lợi Đường] - Rương ${e} - ${h.data?.message}`:`🟡 [Ph\xfac Lợi Đường] - Kh\xf4ng th\xe0nh c\xf4ng - ${h.data?.message}`;console.log("<Logger>",i)}async function getRemainingTimeTLTM(n){if(!n)return console.log("<Logger>",`🔴 [Th\xed Luyện T\xf4ng M\xf4n] - Kh\xf4ng t\xecm thấy security get_remaining_time_tltm`);let t=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"get_remaining_time_tltm",security:n})}),e=t.data?.time_remaining;return t.success?"00:00"===e?e:(console.log("<Logger>",`🟡 [Th\xed Luyện T\xf4ng M\xf4n] - Chưa đến thời gian mở | ${e}`),null):console.log("<Logger>",`🔴 [Th\xed Luyện T\xf4ng M\xf4n] - Kh\xf4ng lấy được dữ liệu get_next_time_pl`)}async function openChestTLTM(){let n=await loadPage(DOMAIN+"/thi-luyen-tong-mon-hh3d"),t=n.html.match(/get_remaining_time_tltm[\s\S]*?security\s*:\s*'([^']+)'/)?.[1],e=await getRemainingTimeTLTM(t);if(null===e)return;if(!t)return console.log("<Logger>",`🔴 [Th\xed Luyện T\xf4ng M\xf4n] - Kh\xf4ng t\xecm thấy security open_chest_tltm`);let h=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"open_chest_tltm",security:t})}),i=h.success?`🟢 [Th\xed Luyện T\xf4ng M\xf4n] - Mở th\xe0nh c\xf4ng - ${h.data?.message}`:`🟡 [Th\xed Luyện T\xf4ng M\xf4n] - ${h.data?.message}`;console.log("<Logger>",i)}async function runQuiz(){let n=Object.fromEntries(Object.entries(quizBank).map(([n,t])=>[normalize(n),normalize(t)])),t=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"load_quiz_data"})}),{success:e,data:h}=t||{},{questions:i,completed:a}=h||{};if(!e||!h||!i)return console.log("<Logger>",`🔴 [Vấn Đ\xe1p] - Kh\xf4ng lấy được dữ liệu load_quiz_data`);if(a)return console.log("<Logger>","\uD83D\uDFE1 [Vấn Đ\xe1p] - Đ\xe3 ho\xe0n th\xe0nh!");for(let[o,g]of i.entries()){let c=parseInt(g.is_correct,10)||0;if(1===c)console.log(`✅ [Vấn Đ\xe1p] - C\xe2u ${o+1}`);else if(2===c)console.log(`❌ [Vấn Đ\xe1p] - C\xe2u ${o+1}`);else{let r=normalize(g.question),l=n[r]??"",u=g.options.map(n=>"string"==typeof n?n:n.content),s=Math.max(0,Math.min(3,bestMatch(u,l)));await saveQuizResult(g.id,s,o),await new Promise(n=>setTimeout(n,250))}}console.log("<Logger>",`🟢 [Vấn Đ\xe1p] - Đ\xe3 ho\xe0n th\xe0nh.`)}async function saveQuizResult(n,t,e){let h=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"save_quiz_result",question_id:n,answer:t})});if(h.success){let i=1===parseInt(h.data?.is_correct,10)?`✅ [Vấn Đ\xe1p] - C\xe2u ${e+1}`:`❌ [Vấn Đ\xe1p] - C\xe2u ${e+1}`;console.log(i)}else console.log("<Logger>",`🔴 [Vấn Đ\xe1p] - Chưa trả lời c\xe2u ${e+1}`)}async function teLeTongMon(){let n=Better_Messages.nonce;if(!n)return console.log("<Logger>",`🔴 [Tế Lễ] - Kh\xf4ng t\xecm thấy nonce te_le_tong_mon`);let t=await postRequest(ADMIN_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"te_le_tong_mon",nonce:n})}),e=t.success?`🟢 [Tế Lễ] - Th\xe0nh c\xf4ng.`:`🟡 [Tế Lễ] - ${t.data}`;console.log("<Logger>",e)}async function claimDailyActivityReward(){let n=async n=>{let t=await postRequest(ADMIN_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"daily_activity_reward",stage:"stage"+n})}),e=t.success?`✅ [Hoạt Động Hằng Ng\xe0y] - Nhận th\xe0nh c\xf4ng - ${n}`:`❌ [Hoạt Động Hằng Ng\xe0y] - Nhận thất bại - ${t.data?.message}`;return console.log(e),!!t.success},t=await loadPage(DOMAIN+"/bang-hoat-dong-ngay"),e=t.doc.querySelectorAll('[id^="reward-box-"]'),h=0;for(let i=0;i<e.length;i++){let a=e[i],o=i+1;a.classList.contains("claimed")?h+=1:a.classList.contains("unlocked")&&await n(o)&&(h+=1,await new Promise(n=>setTimeout(n,250)))}console.log("<Logger>",`🟢 [Hoạt Động Hằng Ng\xe0y] - Đ\xe3 nhận ${h}`)}async function handleFollow({ids:n,clean:t=!1}){let e=await loadPage(DOMAIN+"/luan-vo-duong"),h=e.doc.getElementById("custom-ajax-challenge-js-extra")?.textContent,i=h?.match(/\{[\s\S]*\}/),a=i?JSON.parse(i[0].replace(/\\\//g,"/")):{};if(t){let o=await getUsers({action:"get_following_users",nonce:a.nonce,loadmore:!0});await handleUnfollow(o)}let g=parseInt(a.current_user_id);if(!a.nonce)return console.log("<Logger>",`🔴 [Luận V\xf5] - Kh\xf4ng t\xecm thấy nonce handle_follow`);for(let c of n){if(c===g)continue;let r=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"handle_follow",followed_user_id:c,nonce:a.nonce})}),l=r.success?`✅ [Luận V\xf5] - Theo d\xf5i th\xe0nh c\xf4ng ID: ${c}`:`❌ [Luận V\xf5] - Theo d\xf5i thất bại ID: ${c}`;console.log(l),await new Promise(n=>setTimeout(n,250))}console.log("<Logger>",`🟢 [Luận V\xf5] - Ho\xe0n th\xe0nh xử l\xfd theo d\xf5i.`)}async function handleUnfollow(n){let t=await loadPage(DOMAIN+"/luan-vo-duong"),e=t.doc.getElementById("custom-ajax-challenge-js-extra")?.textContent,h=e?.match(/\{[\s\S]*\}/),i=h?JSON.parse(h[0].replace(/\\\//g,"/")):{};if(!i.nonce)return console.log("<Logger>",`🔴 [Luận V\xf5] - Kh\xf4ng t\xecm thấy nonce handle_unfollow`);let a=parseInt(i.current_user_id);for(let o of n){let g=o.id;if(g===a)continue;let c=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"handle_unfollow",unfollow_user_id:g,nonce:i.nonce})}),r=c.success?`✅ [Luận V\xf5] - Hủy theo d\xf5i th\xe0nh c\xf4ng ID: ${g}`:`❌ [Luận V\xf5] - Hủy theo d\xf5i thất bại ID: ${g}`;console.log(r),await new Promise(n=>setTimeout(n,250))}console.log("<Logger>",`🟢 [Luận V\xf5] - Ho\xe0n th\xe0nh xử l\xfd hủy theo d\xf5i.`)}async function getUsers({action:n,nonce:t,page:e=1,current:h=[],loadmore:i}){if(!t)return console.log("<Logger>",`🔴 [Luận V\xf5] - Kh\xf4ng t\xecm thấy nonce ${n}`);let a=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:n,page:e,nonce:t})});if(!a.success||!a.data?.html)return h;let o=new DOMParser().parseFromString(a.data.html,"text/html"),g=o.querySelectorAll(".card-box"),c=Array.from(g).map(n=>{let t=parseInt(n.querySelector('a[href*="/profile/"]')?.href?.match(/\/profile\/(\d+)/)?.[1]);return t?{id:t,rank:n.querySelector("h4")?.textContent.trim()||"",challengesLeft:+(n.querySelector(".challenge_number_accept")?.textContent.replace(/\D/g,"")||"0"),autoAccept:!!n.querySelector(".auto-accept-on")}:null}).filter(Boolean),r=[...h,...c];return a.data.load_more&&i?(await new Promise(n=>setTimeout(n,250)),await getUsers({action:n,nonce:t,page:e+1,current:r,loadmore:!0})):r}async function joinBattle(){let n=Better_Messages.nonce;if(!n)return console.log("<Logger>",`🔴 [Luận V\xf5] - Kh\xf4ng t\xecm thấy nonce join_battle_new`),!1;let t=await postRequest(ACTION_URL,{headers:{"Content-Type":"application/json","x-wp-nonce":n},body:JSON.stringify({action:"join_battle_new"})}),e=t.success?`✅ [Luận V\xf5] - Tham gia th\xe0nh c\xf4ng.`:`❌ [Luận V\xf5] - Tham gia thất bại.`;return console.log(e),!!t.success}async function toggleAutoAccept(n){let t=Better_Messages.nonce;if(!t)return console.log("<Logger>",`🔴 [Luận V\xf5] - Kh\xf4ng t\xecm thấy nonce toggle_auto_accept`);let e=await postRequest(ACTION_URL,{headers:{"Content-Type":"application/json","x-wp-nonce":t},body:JSON.stringify({action:"toggle_auto_accept"})}),h=e.success?`✅ [Luận V\xf5] - ${n?"Bật":"Tắt"} tự động khi\xeau chiến th\xe0nh c\xf4ng.`:`❌ [Luận V\xf5] - ${n?"Bật":"Tắt"} tự động khi\xeau chiến thất bại.`;console.log(h)}async function receiveReward(n){if(!n)return console.log("<Logger>",`🔴 [Luận V\xf5] - Kh\xf4ng t\xecm thấy nonce receive_reward`);let t=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"receive_reward",nonce:n})}),e=t.success?`✅ [Luận V\xf5] - Nhận thưởng th\xe0nh c\xf4ng - ${t.data?.message}`:`❌ [Luận V\xf5] - Nhận thưởng thất bại - ${t.data?.message}`;console.log(e)}async function getReceivedChallenges(){let n=await loadPage(DOMAIN+"/luan-vo-duong"),t=n.doc.getElementById("custom-ajax-challenge-js-extra")?.textContent,e=t?.match(/\{[\s\S]*\}/),h=e?JSON.parse(e[0].replace(/\\\//g,"/")):{};if(!h.nonce)return console.log("<Logger>",`🔴 [Luận V\xf5] - Kh\xf4ng t\xecm thấy nonce get_received_challenges`),[];let i=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"get_received_challenges",nonce:h.nonce})});if(!i.success||!i.data?.html)return{challenges:[],nonce};let a=new DOMParser().parseFromString(i.data.html,"text/html"),o=Array.from(a.querySelectorAll("tbody tr")).map(n=>{let t=n.querySelector(".approve-request"),e=n.querySelector(".challenger-name")?.textContent.trim()||"",h=parseInt(n.children[1]?.textContent.trim()||"0"),i=parseInt(t?.dataset.userId||"0"),a=t?.dataset.challengeId||"";return{name:e,power:h,target_user_id:i,challenge_id:a}}).filter(n=>n.target_user_id&&n.challenge_id);return{challenges:o,nonce}}async function handleRejectReceivedChallenge(n,t){if(!t)return console.log("<Logger>",`🔴 [Luận V\xf5] - Kh\xf4ng t\xecm thấy nonce handle_reject_received_challenge`);let e=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"handle_reject_received_challenge",target_user_id:n.target_user_id,challenge_id:n.challenge_id,nonce:t})}),h=e.success?`✅ [Luận V\xf5] - Từ chối th\xe0nh c\xf4ng y\xeau cầu của ${n.name} (${n.target_user_id})`:`❌ [Luận V\xf5] -Từ chối thất bại y\xeau cầu của ${n.name} (${n.target_user_id})`;console.log(h)}async function sendChallenge(n,t){if(!t)return console.log("<Logger>",`🔴 [Luận V\xf5] - Kh\xf4ng t\xecm thấy nonce send_challenge`),null;let e=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"send_challenge",target_user_id:n.id,nonce:t})});return e.success&&e.data?console.log(`⚔️ [Luận V\xf5] Đ\xe3 gửi khi\xeau chiến đến ${n.rank} (${n.id})`):console.log(`❌ [Luận V\xf5] Gửi khi\xeau chiến kh\xf4ng th\xe0nh c\xf4ng đến ${n.rank} (${n.id})`),e.data}async function autoHandleApproveChallenge(n,t){if(!t)return console.log("<Logger>",`🔴 [Luận V\xf5] - Kh\xf4ng t\xecm thấy nonce auto_handle_approve_challenge`),null;let e=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"auto_handle_approve_challenge",target_user_id:n.target_user_id,challenge_id:n.challenge_id,nonce:t})});return e.success&&e.data||(e.success&&e.data?console.log(`✅ [Luận V\xf5] Ho\xe0n th\xe0nh khi\xeau chiến.`):console.log(`❌ [Luận V\xf5] Kh\xf4ng ho\xe0n th\xe0nh được khi\xeau chiến.`)),e.data}async function handleRejectAllReceivedChallenges(){let{challenges:n,nonce:t}=await getReceivedChallenges();for(let e of n)await handleRejectReceivedChallenge(e,t),await new Promise(n=>setTimeout(n,250))}async function autoBattle(n=!0){let t=(n,t)=>{let e=Array.from(t.querySelectorAll("p")).find(t=>t.textContent.trim().startsWith(n));return e?.querySelector("span.highlight")?.textContent||null},e=await loadPage(DOMAIN+"/luan-vo-duong");if(e.doc.querySelector('[onclick*="joinBattleFunction()"]')){if(!await joinBattle())return!1;e=await loadPage(DOMAIN+"/luan-vo-duong")}let h=t("Đ\xe3 gửi:",e.doc),i=t("Đ\xe3 nhận:",e.doc);if("5/5"===h&&"5/5"===i){let a=e.doc.getElementById("receive-reward-btn"),o=getRequestData(e.html),g=o.find(n=>"receive_reward"===n.action)?.nonce;return a&&g?await receiveReward(g):console.log("<Logger>",`🟢 [Luận V\xf5] - Đ\xe3 nhận thưởng.`),!1}let c=parseInt(e.doc.querySelector("#ViewReceivedChallengesBtn .notification-badge")?.textContent.trim()||"0");n&&c>0&&await handleRejectAllReceivedChallenges();let r=!!e.doc.getElementById("auto_accept_toggle")?.checked;return r!==n?await toggleAutoAccept(n):console.log("<Logger>",`🟢 [Luận V\xf5] - Đang ${n?"bật":"tắt"} tự động khi\xeau chiến.`),!0}async function runBattle({following:n=!0,online:t=!1,retry:e=3,page:h=null}={}){h||(h=await loadPage(DOMAIN+"/luan-vo-duong"));let i=h.doc.getElementById("custom-ajax-challenge-js-extra")?.textContent,a=i?.match(/\{[\s\S]*\}/),o=a?JSON.parse(a[0].replace(/\\\//g,"/")):{},g=[];if(n)g=await getUsers({action:"get_following_users",nonce:o.nonce,loadmore:!0});else{let c=h.doc.getElementById("custom-ajax-challenge_new-js-extra")?.textContent,r=c?.match(/\{[\s\S]*\}/),l=r?JSON.parse(r[0].replace(/\\\//g,"/")):{};g=await getUsers({action:"get_users_challenge_online",nonce:l.nonce,loadmore:!1})}let u=g.filter(n=>n.autoAccept&&n.challengesLeft>0);for(;u.length;){let s=u[0];if(s.challengesLeft<1){u.shift();continue}let T=await sendChallenge(s,o.nonce);if("string"==typeof T&&T.toLowerCase().includes("tối đa")){if(T.toLowerCase().includes("nhận tối đa")){u.shift();continue}console.log("<Logger>",`🟡 [Luận V\xf5] - Đ\xe3 gửi tối đa - ${T}`);return}if("object"==typeof T&&null!==T){let d=await autoHandleApproveChallenge(T,o.nonce);if(!d){u.shift();continue}let m=+d.received_remaining||0;s.challengesLeft=Math.min(s.challengesLeft-1,m)}else u.shift();await new Promise(n=>setTimeout(n,5e3))}if(t&&e>0)return runBattle({following:!1,online:t,retry:e-1,page:h});console.log("<Logger>",`🟡 [Luận V\xf5] - Chưa ho\xe0n th\xe0nh gửi khi\xeau chiến.`)}async function showAllWedding(){let n=Better_Messages.nonce;if(!n)return console.log("<Logger>",`🔴 [Ti\xean Duy\xean] - Kh\xf4ng t\xecm thấy nonce show_all_wedding`);let t=await postRequest(ACTION_URL,{headers:{"Content-Type":"application/json","X-WP-Nonce":n},body:JSON.stringify({action:"show_all_wedding"})});return Array.isArray(t.data)?t.data:[]}async function receiveLiXi(n){let t=await loadPage(DOMAIN+"/phong-cuoi?id="+n),e=Array.from(t.doc.querySelectorAll("script")).map(n=>n.textContent.match(/const\s+rest_nonce\s*=\s*['"]([^'"]+)['"]/)).find(n=>n)?.[1];if(!e)return console.log("<Logger>",`🔴 [Ti\xean Duy\xean] - Kh\xf4ng t\xecm thấy nonce hh3d_receive_li_xi`);let h=null!==t.doc.getElementById("liXiModal");if(!h)return;let i=await postRequest(ACTION_URL,{headers:{"Content-Type":"application/json","X-WP-Nonce":e},body:JSON.stringify({action:"hh3d_receive_li_xi",wedding_room_id:n})}),a=i.success?`✅ [Ti\xean Duy\xean] - Mở L\xec X\xec th\xe0nh c\xf4ng ph\xf2ng ${n} - Nhận ${i.data?.amount} ${i.data?.name}`:`❌ [Ti\xean Duy\xean] - Mở L\xec X\xec thất bại - ${i.data?.message}`;console.log(a)}async function receiveAllLiXi(){let n=await showAllWedding();for(let t of n)!0!==t.has_blessed?console.log(`⚠️ [Ti\xean Duy\xean] - Chưa ch\xfac ph\xfac ph\xf2ng ${t.wedding_room_id}`):!0===t.has_sent_li_xi?(await receiveLiXi(t.wedding_room_id),await new Promise(n=>setTimeout(n,250))):console.log(`❌ [Ti\xean Duy\xean] - Ph\xf2ng ${t.wedding_room_id} chưa ph\xe1t L\xec X\xec.`);n.length?console.log("<Logger>",`🟢 [Ti\xean Duy\xean] - Đ\xe3 nhận hết L\xec X\xec.`):console.log("<Logger>",`🟡 [Ti\xean Duy\xean] - Kh\xf4ng c\xf3 ph\xf2ng cưới n\xe0o.`)}async function redeemCode(n){let t=await loadPage(DOMAIN+"/linh-thach"),e=t.html.match(/'nonce'\s*:\s*'([a-f0-9]+)'/i)?.[1];if(!e)return console.log("<Logger>",`🔴 [Linh Thạch] - Kh\xf4ng t\xecm thấy nonce redeem_linh_thach`);let h=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"redeem_linh_thach",code:n,nonce:e,hold_timestamp:Math.floor(Date.now()/1e3)})}),i=h.success=`${h.success?"✅":"⚠️"} [Linh Thạch] - ${n} - ${h.data?.message}`;console.log(i)}async function redeemCodes(n){for(let t of n)await redeemCode(t),await new Promise(n=>setTimeout(n,250));console.log("<Logger>",`🟢 [Linh Thạch] - Đ\xe3 nhập xong.`)}async function giveNewbieGift(n){let t=n.find(n=>"give_newbie_gift"===n.action)?.security;if(!t)return console.log("<Logger>",`🔴 [Đổ Thạch] - Kh\xf4ng t\xecm thấy security give_newbie_gift`);let e=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"give_newbie_gift",security:t})}),h=e.success?`🟢 [Đổ Thạch] - Nhận qu\xe0 t\xe2n thủ th\xe0nh c\xf4ng - ${e.data}`:`🔴 [Đổ Thạch] - Nhận qu\xe0 t\xe2n thủ thất bại - ${e.data}`;console.log("<Logger>",h)}async function claimDoThachReward(n){let t=n.find(n=>"claim_do_thach_reward"===n.action)?.security;if(!t)return console.log("<Logger>",`🔴 [Đổ Thạch] - Kh\xf4ng t\xecm thấy security claim_do_thach_reward`);let e=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"claim_do_thach_reward",security:t})}),h=e.success?`🟢 [Đổ Thạch] - Nhận thưởng th\xe0nh c\xf4ng - ${e.data?.message}`:`🔴 [Đổ Thạch] - ${e.data?.message}`;console.log("<Logger>",h)}async function loadDoThachData(n){let t=n.find(n=>"load_do_thach_data"===n.action)?.security;if(!t)return console.log("<Logger>",`🔴 [Đổ Thạch] - Kh\xf4ng t\xecm thấy security load_do_thach_data`);let e=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"load_do_thach_data",security:t})}),{success:h,data:i}=e||{},{stones:a,is_reward_time:o,winning_stone_id:g}=i||{};if(!h||!a)return console.log("<Logger>",`🔴 [Đổ Thạch] - Kh\xf4ng lấy được dữ liệu load_do_thach_data`),[];if(!o)return a;let c=a.find(n=>n.id==g&&!0===n.bet_placed);return c?!0===c.reward_claimed?(console.log("<Logger>",`🟢 [Đổ Thạch] - Đ\xe3 nhận thưởng.`),[]):(await claimDoThachReward(n),[]):(console.log("<Logger>",`🟡 [Đổ Thạch] - Kh\xf4ng c\xf3 thưởng!`),[])}async function placeDoThachBet(n,t,e=20){let h=n.find(n=>"place_do_thach_bet"===n.action)?.security;if(!h)return console.log("<Logger>",`🔴 [Đổ Thạch] - Kh\xf4ng t\xecm thấy security place_do_thach_bet`);let i=await postRequest(HH3D_AJAX_URL,{headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"place_do_thach_bet",security:h,stone_id:t.stone_id,bet_amount:e})}),a=i.success?`🟢 [Đổ Thạch] - Đặt cược th\xe0nh c\xf4ng - ${t.name} (x${t.reward_multiplier}) - ${e} Ti\xean Ngọc`:`🔴 [Đổ Thạch] - Đặt cược thất bại - ${i.data}`;console.log("<Logger>",a)}async function autoDoThach(n,t=2){let e=await loadPage(DOMAIN+"/do-thach-hh3d"),h=getRequestData(e.html),i=e.doc.querySelector(".custom-button.gift-button");i&&await giveNewbieGift(h);let a=e.doc.querySelector("#claim-reward-button");if(a)return await claimDoThachReward(h),await autoDoThach(n,t);let o=await loadDoThachData(h);if(0===o.length)return;o.sort((n,t)=>(Number(t.reward_multiplier)||0)-(Number(n.reward_multiplier)||0));let g=o.filter((t,e)=>n.includes(e+1));for(let c of g)!1===c.bet_placed?(await placeDoThachBet(h,c,t),await new Promise(n=>setTimeout(n,250))):console.log(`[Đổ Thạch] - Đ\xe3 dặt cược v\xe0o ${c.name} (x${c.reward_multiplier})`)}const tasks=[1,2,3,4,5,8,10],bets=[1,2],battleAutoOn=!0,battleOptions={online:!0,retry:3},codes=["CAOLOITIENDUYEN","TIENDUYEN","HAPTHULINHTHACH"];(async()=>{tasks.includes(1)&&(await checkIn(),await runQuiz(),await teLeTongMon()),tasks.includes(2)&&await autoDoThach(bets),tasks.includes(3)&&await openChestTLTM(),tasks.includes(4)&&await openChestPL(),tasks.includes(5)&&await attackBoss(),tasks.includes(8)&&await receiveAllLiXi(),tasks.includes(10)&&await autoBattle(!0)&&(await new Promise(n=>setTimeout(n,3e3)),await runBattle(battleOptions)),await autoBattle(!0),await claimDailyActivityReward(),await redeemCodes(codes),console.log(`❤️♥️❤️♥️❤️♥️❤️♥️❤️♥️❤️`)})();
