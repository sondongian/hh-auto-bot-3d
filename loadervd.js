// ðŸ“¦ Ultimate Secure Loader v3.0 - Full Anti-DevTools, Anti-Inspect, Self-Protect
(function() {
  const encoded = 'Y29uc3QgRE9NQUlOID0gJ2h0dHBzOi8vaG9hdGhpbmgzZC5jYW0nOw0KY29uc3QgQUNUSU9OX1VSTCA9IERPTUFJTiArICcvd3AtanNvbi9oaDNkL3YxL2FjdGlvbic7DQpjb25zdCBISDNEX0FKQVhfVVJMID0gRE9NQUlOICsgJy93cC1jb250ZW50L3RoZW1lcy9oYWxpbW1vdmllcy1jaGlsZC9oaDNkLWFqYXgucGhwJw0KY29uc3QgQURNSU5fQUpBWF9VUkwgPSBET01BSU4gKyAnL3dwLWFkbWluL2FkbWluLWFqYXgucGhwJw0KDQpmdW5jdGlvbiBzaG93Tm90aWZpY2F0aW9uVUkobWVzc2FnZSwgdHlwZSA9ICJzdWNjZXNzIiwgZHVyYXRpb24gPSA0MDAwKSB7DQogICAgY29uc3QgY29udGFpbmVyQ2xhc3MgPSAnaGgzZC1ub3RpZmljYXRpb24tY29udGFpbmVyJzsNCiAgICBsZXQgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7Y29udGFpbmVyQ2xhc3N9YCk7DQogICAgaWYgKCFjb250YWluZXIpIHsNCiAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQogICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBjb250YWluZXJDbGFzczsNCiAgICAgICAgT2JqZWN0LmFzc2lnbihjb250YWluZXIuc3R5bGUsIHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLA0KICAgICAgICAgICAgdG9wOiAnMTBweCcsDQogICAgICAgICAgICByaWdodDogJzEwcHgnLA0KICAgICAgICAgICAgekluZGV4OiA5OTk5LA0KICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLA0KICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsDQogICAgICAgICAgICBnYXA6ICcxMHB4JywNCiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdQb3BwaW5zLCBzYW5zLXNlcmlmJywNCiAgICAgICAgfSk7DQogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTsNCiAgICB9DQoNCiAgICBjb25zdCBub3RpZmljYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICBub3RpZmljYXRpb24udGV4dENvbnRlbnQgPSBtZXNzYWdlOw0KICAgIG5vdGlmaWNhdGlvbi5zdHlsZS5jc3NUZXh0ID0gYA0KICAgICAgICBwYWRkaW5nOiAxMnB4IDE2cHg7DQogICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsNCiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsNCiAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsMCwwLDAuMSk7DQogICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC41cyBlYXNlLWluLW91dDsNCiAgICAgICAgb3BhY2l0eTogMTsNCiAgICAgICAgY29sb3I6ICNmZmY7DQogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dHlwZSA9PT0gInN1Y2Nlc3MiID8gIiMyOGE3NDUiIDogdHlwZSA9PT0gImVycm9yIiA/ICIjZGMzNTQ1IiA6ICIjZmZjMTA3In07DQogICAgYDsNCg0KICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChub3RpZmljYXRpb24pOw0KDQogICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIG5vdGlmaWNhdGlvbi5zdHlsZS5vcGFjaXR5ID0gJzAnOw0KICAgICAgICBzZXRUaW1lb3V0KCgpID0+IG5vdGlmaWNhdGlvbi5yZW1vdmUoKSwgNTAwKTsNCiAgICB9LCBkdXJhdGlvbik7DQp9DQoNCmNvbnN0IHF1aXpCYW5rID0gew0KICAgICJBaSBsw6AgaHV5bmggxJHhu4cgdsOgIGPFqW5nIGzDoCBuZ8aw4budaSB0aOG6p3kgbcOgIFbGsMahbmcgTMOibSB0cm9uZyBUacOqbiBOZ2jhu4tjaCBrw61uaCB0cuG7jW5nIG5o4bqldCA/IjogIlTGsCDEkOG7kyBOYW0iLA0KICAgICJBaSBsw6AgbeG6uSBj4bunYSDEkMaw4budbmcgVGFtPyI6ICJBIE5nw6JuIiwNCiAgICAiQWkgbMOgIG5nxrDhu51pIMSR4bupbmcgxJHhuqd1IFbFqSBI4buTbiDEkGnhu4duPyI6ICJC4buJIELhu4kgxJDDtG5nIiwNCiAgICAiQWkgbMOgIG5nxrDhu51pIHRo4bqneSBj4bunYSDEkMaw4budbmcgVGFtPyI6ICLEkOG6oWkgU8awIiwNCiAgICAiQWkgbMOgIG5ow6JuIHbhuq10IGNow61uaCB0cm9uZyBi4buZIHBoaW0gaG/huqF0IGjDrG5oIHRydW5nIHF14buRYyBUaOG6p24gTeG7mSA/IjogIlRo4bqnbiBOYW0iLA0KICAgICLDgW0gdGluaCBnaeG7m2kgxJHGsOG7o2MgeHXhuqV0IGhp4buHbiB0cm9uZyBi4buZIHBoaW0gaG/huqF0IGjDrG5oIG7DoG8gZMaw4bubaSDEkcOieSA/IjogIlRpbmggVGjhuqduIEJp4bq/biIsDQogICAgIkLDoWNoIEzDvSDEkMO0bmcgUXXDom4gbMOgIG5ow6JuIHbhuq10IHRyb25nIGLhu5kgaG/huqF0IGjDrG5oIHRydW5nIHF14buRYyBuw6BvIHNhdSDEkcOieSA/IjogIlRoaeG6v3UgTmnDqm4gQuG6oWNoIE3DoyBUdcO9IFh1w6JuIFBob25nIiwNCiAgICAiQuG6oWNoIE5ndXnhu4d0IEtow7RpIGzDoCB0w6puIG5ow6JuIHbhuq10IGNow61uaCB0cm9uZyBi4buZIHBoaW0gaG/huqF0IGjDrG5oIHRydW5nIHF14buRYyBuw6BvIHNhdSDEkcOieSA/IjogIkxpbmggTHVuZyIsDQogICAgIkLhuqFjaCBUaeG7g3UgVGh14bqnbiBsw6AgbmjDom4gduG6rXQgY2jDrW5oIHRyb25nIGLhu5kgaG/huqF0IGjDrG5oIHRydW5nIHF14buRYyBuw6BvID8iOiAiTmjhuqV0IE5p4buHbSBWxKluaCBI4bqxbmciLA0KICAgICJC4bqhY2ggVGnhu4N1IFRodeG6p24gdHJvbmcgTmjhuqV0IE5p4buHbSBWxKluaCBI4bqxbmcgbHXDtG4gxJHGsOG7o2MgYWkgw6JtIHRo4bqnbSBnacO6cCDEkeG7oSA/IjogIsSQ4buXIEzEg25nIFBo4buJIiwNCiAgICAiQuG7mSBwaGltIG7DoG8gc2F1IMSRw6J5IHRodeG7mWMgdGnhu4N1IHRodXnhur90IGPhu6dhIHTDoWMgZ2nhuqMgVGhpw6puIFThurFtIFRo4buVIMSQ4bqtdSI6ICJU4bqldCBj4bqjIMSRw6FwIMOhbiIsDQogICAgIkPDoWMgY+G6pXAgYuG6rWMgbsOgbyBzYXUgxJHDonkgdGh14buZYyBwaGltIMSQ4bqldSBQaMOhIFRoxrDGoW5nIEtodW5nID8iOiAixJDhuqV1IFTDtG5nIiwNCiAgICAiQ2jDoXUgZMaw4bujbmcgY+G7p2EgQuG6oWNoIFRp4buDdSBUaHXhuqduIHRyb25nIE5o4bqldCBOaeG7h20gVsSpbmggSOG6sW5nIGzDoCBhaSA/IjogIlThu5FuZyBLaHV54bq/dCIsDQogICAgIkNo4bunIG5ow6JuIMSR4budaSB0csaw4bubYyBj4bunYSBW4bqrbiBM4bqhYyBUw6JtIFZpw6ptIHRyb25nIMSQ4bqldSBQaMOhIFRoxrDGoW5nIEtodW5nIGzDoCBhaSA/IjogIkRp4buHdSBUaGnDqm4gSG/huqMiLA0KICAgICJDw7RuZyBwaMOhcCBnw6wgZ2nDunAgVGnDqnUgVmnDqm0gdHJvbmcgxJDhuqV1IFBow6EgVGjGsMahbmcgS2h1bmcgaOG6pXAgdGjhu6Ugbmhp4buBdSBsb+G6oWkgZOG7iyBo4buPYSA/IjogIlBo4bqnbiBRdXnhur90IiwNCiAgICAiQ8O0bmcgcGjDoXAgbsOgbyBzYXUgxJHDonkgbMOgIGPhu6dhIEjDoG4gTOG6rXAgdHJvbmcgUGjDoG0gTmjDom4gVHUgVGnDqm4gPyI6ICJU4bqldCBj4bqjIMSRw6FwIMOhbiIsDQogICAgIkPGoSBU4butIE5ndXnhu4d0IGzDoCBuaMOibiB24bqtdCB0cm9uZyBjw6FjIGLhu5kgaG/huqF0IGjDrG5oIHRydW5nIHF14buRYyBuw6BvIHNhdSDEkcOieSA/IjogIkdpw6AgVGhpw6puIiwNCiAgICAiROG6oSBUw6FuZyBjw7JuIGzDoCBiaeG7h3QgZGFuaCBj4bunYSBhaSB0cm9uZyBOaOG6pXQgTmnhu4dtIFbEqW5oIEjhurFuZyA/IjogIkLhuqFjaCBUaeG7g3UgVGh14bqnbiIsDQogICAgIkRhbmggeMawbmcgVMOgbiBUaGkgQuG6oWkgVGh14bq/IGzDoCBj4bunYSBuaMOibiB24bqtdCBuw6BvIHRyb25nIEhv4bqhIEdpYW5nIEjhu5MgQ2hpIELhuqV0IEzGsMahbmcgTmjDom4gPyI6ICJIw6BuZyBUaOG6p24iLA0KICAgICJEaeG7hW0gTGluaCBDxqEgbMOgIG5ow6JuIHbhuq10IHRyb25nIHBoaW0gaG/huqF0IGjDrG5oIHRydW5nIHF14buRYyBuw6BvID8iOiAiVGhpw6puIEjDoG5oIEPhu611IENhIiwNCiAgICAiRGnhu4dwIFBow6BtIGzDoCBuaMOibiB24bqtdCBjaMOtbmggdHJvbmcgYuG7mSBob+G6oXQgaMOsbmggdHJ1bmcgcXXhu5FjIG7DoG8gPyI6ICJHacOgIFRoacOqbiIsDQogICAgIkRp4buHcCBUaOG6p24gdHJvbmcgVGnDqm4gVsO1IMSQ4bq/IFTDtG4gZ2lhIG5o4bqtcCBUw7RuZyBNw7RuIG7DoG8gxJHhuqd1IHRpw6puID8iOiAiQ2jDrW5oIETGsMahbmcgVMO0bmciLA0KICAgICJExrDhu6NjIFRy4bqnbiB0cm9uZyDEkOG6pXUgUGjDoSBUaMawxqFuZyBLaHVuZyDEkcOjIHThu6tuZyBi4buLIMSR4buTIMSR4buHIG7DoG8gcGjhuqNuIGLhu5lpID8iOiAiSMOgbiBQaG9uZyIsDQogICAgIsSQ4bqhaSBjYSBj4bunYSBUacOqdSBWacOqbSB0cm9uZyDEkOG6pXUgUGjDoSBUaMawxqFuZyBLaHVuZyB0w6puIGfDrCA/IjogIlRpw6p1IMSQ4buJbmgiLA0KICAgICLEkMOgbSBWw6JuIGzDoCBuaMOibiB24bqtdCBjaMOtbmggdHJvbmcgYuG7mSBwaGltIGhv4bqhdCBow6xuaCB0cnVuZyBxdeG7kWMgbsOgbyBzYXUgxJHDonkgPyI6ICJOZ2jhu4tjaCBUaGnDqm4gQ2jDrSBUw7RuIiwNCiAgICAixJDhuqFvIGzhu68gY+G7p2EgSMOgbiBM4bqtcCBsw6AgYWkgPyI6ICJOYW0gQ3VuZyBVeeG7g24iLA0KICAgICLEkMOidSBsw6AgbmjDom4gduG6rXQgY2jDrW5oIHRyb25nIHBoaW0gQsOhY2ggTHV54buHbiBUaMOgbmggVGjhuqduID8iOiAiTGEgQ2hpbmgiLA0KICAgICLEkMOidSBsw6AgVGjDoWkgQ+G7lSBUaOG6rXAgSHVuZyB0cm9uZyBwaGltIFRo4bq/IEdp4bubaSBIb8OgbiBN4bu5ID8iOiAiVOG6pXQgY+G6oyDEkcOhcCDDoW4iLA0KICAgICLEkMOidSBsw6AgdHV54buHdCBr4bu5IHPhu5EgMSBI4bqhbyBUaGnDqm4gVMO0bmcgbcOgIMSQxrDhu51uZyBI4bqhbyBk4bqheSBjaG8gY29uIHRyYWkgdHJvbmcgxJDhuqV1IExhIMSQ4bqhaSBM4bulYyA/IjogIsSQ4bqhaSBUdSBEaSBDaMO5eSIsDQogICAgIsSQ4bqldSBTw6F0IFRvw6BuIFZpw6puIEtp4bq/bSBsw6AgbeG7mXQga+G7uSBuxINuZyB0cm9uZyBi4buZIHBoaW0gaG/huqF0IGjDrG5oIHRydW5nIHF14buRYyBuw6BvID8iOiAiVGjhuqduIOG6pG4gVsawxqFuZyBU4buNYSIsDQogICAgIsSQ4buZYyBDw7QgQsOhYyB0cm9uZyDEkOG6pXUgTGEgxJDhuqFpIEzhu6VjIGPDsyB2xakgaOG7k24gZ8OsID8iOiAiQsOtY2ggTMOibiBYw6AiLA0KICAgICJFbSB0cmFpIHJ14buZdCBj4bunYSBUaOG6oWNoIEjhuqFvIHRyb25nIFRo4bq/IEdp4bubaSBIb8OgbiBN4bu5IGzDoCBhaSA/IjogIlThuqduIEjhuqFvIiwNCiAgICAiSMOgbiBs4bqtcCBz4bufIGjhu691IG5o4buvbmcgduG6rXQgcGjhuqltIG7DoG8gZMaw4bubaSDEkcOieSA/IjogIlRoYW5oIFRyw7pjIFBob25nIFbDom4gS2nhur9tIiwNCiAgICAiSMOgbiBM4bqtcCB0cm9uZyBQaMOgbSBOaMOibiBUdSBUacOqbiDEkeG6v24gVGjhuqV0IEh1eeG7gW4gTcO0biBiw6FpIGFpIGzDoG0gdGjhuqd5ID8iOiAiTeG6t2MgxJDhuqFpIFBodSIsDQogICAgIkjDoG4gTOG6rXAgdHJvbmcgUGjDoG0gTmjDom4gVHUgVGnDqm4gZ2lhIG5o4bqtcCBtw7RuIHBow6FpIG7DoG8gxJHhuqd1IHRpw6puID8iOiAiVGjhuqV0IEh1eeG7gW4gTcO0biIsDQogICAgIkjDoG4gTOG6rXAgdHJvbmcgUGjDoG0gTmjDom4gVHUgVGnDqm4gdOG7q25nIGPhu6l1IGFpIG3DoCBi4buLIGjhuqVwIHRo4bulIHR1IHZpIGdp4bqjbSB4deG7kW5nIEx1eeG7h24gS2jDrSBL4buzID8iOiAiTmFtIEN1bmcgVXnhu4NuIiwNCiAgICAiSG9hbmcgVGhpw6puIMSQ4bq/IGzDoCBuaMOibiB24bqtdCBjaMOtbmggdHJvbmcgYuG7mSBwaGltIGhv4bqhdCBow6xuaCB0cnVuZyBxdeG7kWMgbuG7lWkgdGnhur9uZyBuw6BvID8iOiAiVGjhur8gR2nhu5tpIEhvw6BuIE3hu7kiLA0KICAgICJIb+G6r2MgVsWpIEjhuqFvIGzDoCBo4bqtdSBuaMOibiBj4bunYSBhaSB0cm9uZyBT4butIExhaSBLaOG6r2MgPyI6ICLEkMOhaSBN4buZYyBC4bqhY2giLA0KICAgICJI4buTbiBob8OgbiBtw6B1IG7DoG8gbeG6oW5oIG5o4bqldD8iOiAixJDhu48iLA0KICAgICJIdcOibiBOaGkgbMOgIGPDtG5nIGNow7phIGPhu6dhIGLhu5kgdOG7mWMgbsOgbz8iOiAiQ+G7lSB04buZYyIsDQogICAgIktow7QgTMOidSDEkMOgIENo4bunIHh14bqldCBoaeG7h24gdHJvbmcgYuG7mSBwaGltIGhv4bqhdCBow6xuaCBuw6BvIGTGsOG7m2kgxJHDonkgPyI6ICJWw7UgVGjhuqduIENow7phIFThu4MiLA0KICAgICJLaGkg4bufIEdpw6AgTmFtIEjhu41jIFZp4buHbiwgVGnDqnUgVmnDqm0gdGh1IHBo4bulYyDEkcaw4bujYyBsb+G6oWkgZOG7iyBo4buPYSBuw6BvID8iOiAiVuG6q24gTOG6oWMgVMOibSBWacOqbSIsDQogICAgIkvDrW5oIEh1eeG7gW4gdHJvbmcgUXV54bq/biBUxrAgTMaw4bujbmcgbMOgIGjhuq11IGR14buHIGPhu6dhIHThu5ljIG7DoG8gPyI6ICJUaOG6p24gVOG7mWMiLA0KICAgICJM4bqhYyBMeSB0cm9uZyDEkOG6oWkgQ2jDumEgVOG7gyBsw6AgbmjDom4gduG6rXQgdHJvbmcgVOG7mWMgbsOgbyA/IjogIkzhuqFjIFRo4bqnbiBU4buZYyIsDQogICAgIkzDom0gxJDhu5luZyB0cm9uZyBWxakgxJDhu5luZyBDw6BuIEtow7RuIGjhu41jIMSRxrDhu6NjIExpbmggVsO1IEjhu41jIG7DoG8ga2hpIHbDoG8gYmlhIGPhu5UgxJDhuqFpIEhvYW5nID8iOiAixJDhuqFpIEhvYW5nIFTDuSBUaGnDqm4gQ2jhu4kiLA0KICAgICJMw6JtIMSQ4buZbmcgdHJvbmcgVsWpIMSQ4buZbmcgQ8OgbiBLaMO0biBsdXnhu4duIGjDs2EgVOG7lSBQaMO5IG7DoG8gxJHhuqd1IHRpw6puID8iOiAiVGjDtG4gUGjhu4cgVOG7lSBQaMO5IiwNCiAgICAiTMOibSDEkOG7mW5nIHRyb25nIFbFqSDEkOG7mW5nIEPDoG4gS2jDtG4gc+G7rSBk4bulbmcgdsWpIGtow60gbG/huqFpIG7DoG8gc2F1IMSRw6J5ID8iOiAiVGjGsMahbmciLA0KICAgICJMw6JtIFBob25nIGzDoCBuaMOibiB24bqtdCB0cm9uZyBi4buZIGhv4bqhdCBow6xuaCB0cnVuZyBxdeG7kWMgbsOgbyBzYXUgxJHDonkgPyI6ICJW4bqhbiBHaeG7m2kgxJDhu5ljIFTDtG4iLA0KICAgICJMw6JtIFRo4bqldCBE4bqhIGzDoCBuaMOibiB24bqtdCB0cm9uZyBi4buZIGhv4bqhdCBow6xuaCB0cnVuZyBxdeG7kWMgbsOgbyBzYXUgxJHDonkgPyI6ICJUcuG6o20gVGjhuqduIiwNCiAgICAiTMOibSBUaOG6pXQgROG6oSB0cm9uZyBUcuG6o20gVGjhuqduIHPhu58gaOG7r3Ugc+G7qWMgbeG6oW5oIGPhu6dhIHbhu4sgdGjhuqduIG7DoG8gPyI6ICJUaGnDqm4gU+G7qSIsDQogICAgIkxvbmcgVHV54buBbiBLaeG6v20geHXhuqV0IGhp4buHbiB0cm9uZyBi4buZIHBoaW0gaG/huqF0IGjDrG5oIG7DoG8gZMaw4bubaSDEkcOieSA/IjogIkjhu41hIEdpYW5nIEjhu5MgQ2hpIELhuqV0IEzGsMahbmcgTmjDom4iLA0KICAgICJM4bulYyBUdXnhur90IEvhu7MgdHJvbmcgVHJ1IFRpw6puIHRodeG7mWMgUGhvbmcgbsOgbyB0cm9uZyBUaGFuaCBWw6JuIE3DtG4/IjogIlRp4buDdSBUcsO6YyBQaG9uZyIsDQogICAgIkzDvSBUaW5oIFbDom4gdHJvbmcgSOG7jWEgR2lhbmcgSOG7kyBDaGkgQuG6pXQgTMawxqFuZyBOaMOibiBz4butIGThu6VuZyB2xakga2jDrSBuw6BvIHNhdSDEkcOieSA/IjogIkxvbmcgVHV54buBbiBLaeG6v20iLA0KICAgICJMw70gVGluaCBWw6JuIGzDoCBt4buZdCBuaMOibiB24bqtdCB0cm9uZyBi4buZIHBoaW0gaG/huqF0IGjDrG5oIHRydW5nIHF14buRYyBuw6BvIHNhdSDEkcOieSA/IjogIkjhu41hIEdpYW5nIEjhu5MgQ2hpIELhuqV0IEzGsMahbmcgTmjDom4iLA0KICAgICJMw70gVHLGsOG7nW5nIFRo4buNIHRyb25nIFPGsCBIdXluaCBBIFPGsCBIdXluaCB4dXnDqm4ga2jDtG5nIHbhu4EgSOG7k25nIEhvYW5nIGLDoWkgc8awIOG7nyDEkcOidSA/IjogIsSQ4buZIFRpw6puIE3DtG4iLA0KICAgICJNYW4gSOG7kyBU4butIHRyb25nIHBoaW0gXCJQaMOgbSBOaMOibiBUdSBUacOqblwiIHR1IGx1eeG7h24gY8O0bmcgcGjDoXAgbsOgbz8iOiAiVGjDoWMgVGhpw6puIE1hIEPDtG5nIiwNCiAgICAiTeG6q3UgdGjDom4gY+G7p2EgTGEgUGhvbmcgdHJvbmcgVGjDtG4gUGjhu4cgVGluaCBLaMO0bmcgdMOqbiBsw6AgZ8OsID8iOiAiQ3VuZyBUw6JtIExhbiIsDQogICAgIk3hurkgY+G7p2EgTeG6oW5oIFh1ecOqbiB0cm9uZyBUaMawxqFuZyBOZ3V5w6puIMSQ4buTIHTDqm4gbMOgIGfDrCA/IjogIkLhuqFjaCBOaeG7h20gVsOibiIsDQogICAgIk3hurkgY+G7p2EgVOG6p24gVHLhuqduIGzDoCBhaSA/IjogIlThuqduIE5ndXnhu4d0IFRyw6wiLA0KICAgICJN4bq5IGPhu6dhIFRo4bqhY2ggSOG6oW8gdHJvbmcgVGjhur8gR2nhu5tpIEhvw6BuIE3hu7kgdMOqbiBsw6AgZ8OsIjogIlThuqduIERpIE5pbmgiLA0KICAgICJN4buRaSB0w6xuaCDEkeG6p3UgY+G7p2EgRGnhu4dwIFRo4bqnbiB0cm9uZyBUacOqbiBWw7UgxJDhur8gVMO0biBsw6AgYWkgPyI6ICJDxqEgTmfGsG5nIFPGsMahbmciLA0KICAgICJN4bulYyDEkcOtY2ggdHUgbHV54buHbiBj4bunYSBWxrDGoW5nIEzDom0gdHJvbmcgVGnDqm4gTmdo4buLY2ggdGhlbyBkaeG7hW4gYmnhur9uIHBoaW0gaGnhu4duIHThuqFpIGzDoCBnw6wgPyI6ICJCw6FvIFRow7kiLA0KICAgICJN4bulYyBUcuG6p24gdHJvbmcgxJDhuqFpIENow7phIFThu4MgbGnDqm4ga+G6v3QgSHV54bq/dCBN4bqhY2ggduG7m2kgPyI6ICJD4butdSBVIFTGsOG7m2MiLA0KICAgICJN4bulYyBWw6JuIGzDoCBuaMOibiB24bqtdCB0cm9uZyBi4buZIGhv4bqhdCBow6xuaCB0cnVuZyBxdeG7kWMgbsOgbyBzYXUgxJHDonkgPyI6ICJWw7QgVGjGsOG7o25nIFRo4bqnbiDEkOG6vyIsDQogICAgIk5hbSBjaMOtbmggdHJvbmcgYuG7mSBob+G6oXQgaMOsbmggdHJ1bmcgcXXhu5FjIMOBbSBIw6AgVHJ1eeG7h24gbMOgIGFpID8iOiAiVMO0IE3hu5kgVsWpIiwNCiAgICAiTmFtIGNow61uaCB0cm9uZyBi4buZIFF1eeG6v24gVMawIEzGsOG7o25nIGzDoCBhaSA/IjogIkvDrW5oIEh1eeG7gW4iLA0KICAgICJOZ2jhu4tjaCBIw6AgVMO0bmcgbMOgIFTDtG5nIE3DtG4gdHJvbmcgYuG7mSBob+G6oXQgaMOsbmggdHJ1bmcgcXXhu5FjIG7DoG8gc2F1IMSRw6J5ID8iOiAiTmjhuqV0IE5p4buHbSBWxKluaCBI4bqxbmciLA0KICAgICJOZ2jhu4tjaCBUaGnDqm4gTmhpIEjDoG5oIGzDoCBt4buZdCBuaMOibiB24bqtdCB0cm9uZyBi4buZIHBoaW0gaGgzZCBuw6BvIHNhdSDEkcOieSA/IjogIlbFqSBDYW5oIEvhu7ciLA0KICAgICJOZ+G7pXkgQW5oIChOZ+G7pXkgVsO0IFRp4buHbikgbMOgIG5ow6JuIHbhuq10IHRyb25nIGLhu5kgaGh0cSBuw6BvIHNhdSDEkcOieSA/IjogIk1hIMSQ4bqhbyBU4buVIFPGsCIsDQogICAgIk5nxrDhu51pIGLhuqFuIHRodeG7nyBuaOG7jyBj4bunYSBUcsawxqFuZyBUaeG7g3UgUGjDoG0gdHJvbmcgVHJ1IFRpw6puIGzDoCBhaSA/IjogIkzDom0gS2luaCBWxakiLA0KICAgICJOaMOibiB24bqtdCBCw6FjaCBMw70gxJDhu5MgTWluaCB4deG6pXQgaGnhu4duIHRyb25nIHBoaW0gaG/huqF0IGjDrG5oIG7DoG8gZMaw4bubaSDEkcOieSA/IjogIlRy4bqjbSBUaOG6p24gQ2hpIFBow6BtIFRy4bqnbiBUaOG6p24gVuG7sWMiLA0KICAgICJOaMOibiB24bqtdCBjaMOtbmggY+G7p2EgXCJUaOG6p24g4bqkbiBWxrDGoW5nIFThu41hXCIgbMOgIGFpPyI6ICJMb25nIEjhuqFvIFRo4bqnbiIsDQogICAgIk5ow6JuIHbhuq10IGNow61uaCBj4bunYSDEkOG6pXUgTGEgxJDhuqFpIEzhu6VjIGzDoCBhaT8iOiAixJDGsOG7nW5nIFRhbSIsDQogICAgIk5ow6JuIHbhuq10IGNow61uaCBMw70gVHLGsOG7nW5nIFRo4buNIHRyb25nIFPGsCBIdXluaCBBIFPGsCBIdXluaCDEkcOjIHThu48gdMOsbmggduG7m2kgYWkgPyI6ICJWw6JuIFRpw6p1IiwNCiAgICAiTmjDom4gduG6rXQgY2jDrW5oIHRyb25nIFRoxrDGoW5nIE5ndXnDqm4gxJHhu5MgbMOgIGFpID8iOiAiTeG6oW5oIFh1ecOqbiIsDQogICAgIk5ow6JuIHbhuq10IGNow61uaCB0cm9uZyBZw6p1IFRo4bqnbiBLw70gdMOqbiBsw6AgZ8OsID8iOiAiTmhp4bq/cCBMeSIsDQogICAgIk5ow6JuIHbhuq10IGNow61uaCB0cm9uZyBNYW4gSG9hbmcgVGnDqm4gR2nhu5tpIGzDoCBhaSA/IjogIkzhu6VjIEjDoG5nIENoaSIsDQogICAgIk5ow6JuIHbhuq10IG7DoG8gbHXDtG4gYuG6pXQgYuG6oWkgdHJvbmcgcGhpbSBIb+G6oXQgSMOsbmggVHJ1bmcgUXXhu5FjLCDEkcaw4bujYyB2w60gbmjGsCBPbmUtUHVuY2ggTWFuID8iOiAiVOG7qyBExrDGoW5nIiwNCiAgICAiTmjDom4gduG6rXQgbsOgbyBzYXUgxJHDonkgxJHGsOG7o2MgbeG7h25oIGRhbmggbMOgIFZ1YSBM4buzIMSQw7JuIHRyb25nIMSQ4bqldSBQaMOhIFRoxrDGoW5nIEtodW5nID8iOiAiUGjGsOG7o25nIFRoYW5oIE5oaSIsDQogICAgIk5o4buLIGNhIGPhu6dhIFRpw6p1IFZpw6ptIHRyb25nIMSQ4bqldSBQaMOhIFRoxrDGoW5nIEtodW5nIHTDqm4gZ8OsID8iOiAiVGnDqnUgTOG7hyIsDQogICAgIk5oaeG6v3AgUGhvbmcgbMOgIG5ow6JuIHbhuq10IGNow61uaCB0cm9uZyBwaGltIGhv4bqhdCBow6xuaCB0cnVuZyBxdeG7kWMgbsOgbyA/IjogIkNow6JuIFbDtSDEkOG7iW5oIFBob25nIiwNCiAgICAiTmluaCBEacOqdSBsw6AgbeG7mXQgbmjDom4gduG6rXQgdHJvbmcgYuG7mSBwaGltIGhv4bqhdCBow6xuaCB0cnVuZyBxdeG7kWMgbsOgbyBzYXUgxJHDonkgPyI6ICJLaeG6v20gTGFpIiwNCiAgICAiTuG7ryBjaMOtbmggY8WpbmcgbMOgIHbhu6MgxJDDtG5nIELDoSBUdXnhur90IMavbmcgdHJvbmcgVHV54bq/dCDGr25nIEzEqW5oIENo4bunIGzDoCBhaSBzYXUgxJHDonkgPyI6ICJExrAgVMSpbmggVGh1IiwNCiAgICAiTuG7ryBjaMOtbmggdHJvbmcgYuG7mSBRdXnhur9uIFTGsCBMxrDhu6NuZyBsw6AgYWkgPyI6ICLEkOG7kyBM4buHIiwNCiAgICAiw5RuZyBu4buZaSBj4bunYSBMw6JtIMSQ4buZbmcgdHJvbmcgVsWpIMSQ4buZbmcgQ8OgbiBLaMO0biBsw6AgYWkgPyI6ICJMw6JtIENo4bqlbiBUaGnDqm4iLA0KICAgICJQaOG7pSBUaMOibiBj4bunYSBMw6JtIMSQ4buZbmcgdHJvbmcgVsWpIMSQ4buZbmcgQ8OgbiBLaMO0biBsw6AgYWkgPyI6ICJMw6JtIEtoaeG6v3UiLA0KICAgICJQaMawxqFuZyBIw6BuIGzDoCBuaMOibiB24bqtdCB0cm9uZyBi4buZIGhv4bqhdCBow6xuaCB0cnVuZyBxdeG7kWMgbsOgbyBzYXUgxJHDonkgPyI6ICJWxKluaCBTaW5oIiwNCiAgICAiUGjGsMahbmcgSMOgbiB0cm9uZyBWxKluaCBTaW5oIG5o4bqtbiDEkcaw4bujYyBHaWFvIFBo4bulYyBIb8OgbmcgVHV54buBbiDEkOG7kyB04burIGFpID8iOiAiQuG6oWNoIEjhuqNpIFRoaeG7h24iLA0KICAgICJQaMawxqFuZyBIw6BuIHRyb25nIFbEqW5oIFNpbmggeHXhuqV0IHRow6JuIGzDoCBnw6wg4bufIG5ow6AgaOG7jSBQaMawxqFuZyA/IjogIk7DtCBC4buZYyIsDQogICAgIlBoxrDhu6NuZyBUaGFuaCBOaGkgdHJvbmcgxJDhuqV1IFBow6EgVGjGsMahbmcgS2h1bmcgdGh14buZYyBjaOG7p25nIHThu5ljIG7DoG8gPyI6ICJUaGnDqm4gWcOqdSBIb8OgbmcgVOG7mWMiLA0KICAgICJT4buRIGhp4buHdSB24buLIHRo4bqnbiBj4bunYSBtYWluIHRyb25nIFRy4bqjbSBUaOG6p246IFBow6BtIFRy4bqnbiBUaOG6p24gVuG7sWMgbMOgIHPhu5EgbeG6pXkgPyI6ICIwMDMiLA0KICAgICJT4butIExhaSBLaOG6r2MgVGjhuqV0IFF1w6FpIMSRw6MgdOG7q25nIMSR4bq/biBuxqFpIG7DoG8gxJHhu4MgbHV54buHbiB04bqtcD8iOiAiSOG6o2kgVGjhuqduIMSQ4bqjbyIsDQogICAgIlPGsCBt4bqrdSBj4bunYSBC4bqhY2ggVGnhu4N1IFRodeG6p24gdHJvbmcgTmjhuqV0IE5p4buHbSBWxKluaCBI4bqxbmcgbMOgIGFpID8iOiAiSOG7qWEgTeG7iyBOxrDGoW5nIiwNCiAgICAiU8awIHBo4bulIGPhu6dhIELhuqFjaCBUaeG7g3UgVGh14bqnbiB0cm9uZyBOaOG6pXQgTmnhu4dtIFbEqW5oIGjhurFuZyBsw6AgYWkgPyI6ICJMw70gVGhhbmggSOG6rXUiLA0KICAgICJTxrAgcGjhu6UgY+G7p2EgTMO9IFRyxrDhu51uZyBUaOG7jSBsw6AgYWkgPyI6ICJU4buBIE5ndXnDqm4iLA0KICAgICJTxrAgcGjhu6UgbcOgIERp4buHcCBUaOG6p24gecOqdSB0cm9uZyBUacOqbiBWw7UgxJDhur8gVMO0biBsw6AgYWkgPyI6ICJT4bufIEh1ecOqbiBOaGkiLA0KICAgICJTxrAgUGjhu6UgdGjhu6kgMiBj4bunYSBMw70gVHLGsOG7nW5nIFRo4buNIHRyb25nIHBoaW0iOiAiVGjDoWkgVGhhbmggVGjDoW5oIE5ow6JuIiwNCiAgICAiVOG6oWkgc2FvIMSQxrDhu51uZyBUYW0gYuG7iyDEkMaw4budbmcgTcO0biB0cnV5IHPDoXQg4bufIHThuq1wIMSR4bqndSBwaGltIMSQ4bqldSBMYSDEkOG6oWkgTOG7pWMgPyI6ICJI4buNYyB0cuG7mW0gdHV54buHdCBo4buNYyBi4buVbiBtw7RuIiwNCiAgICAiVOG6p24gVsWpIHRyb25nIFRpbmggVGjhuqduIEJp4bq/biDEkcaw4bujYyB04bq3bmcgcGjDoXAgYuG6o28gc2nDqnUgY+G6pXAgdmlwIHBybyBuw6BvIMSR4buDIHR1IGx1eeG7h24gbmhhbmggY2jDs25nID8iOiAiS2jGsMahbmcgTGFuIFRow6FwIiwNCiAgICAiVOG6p24gVsWpIHRyb25nIFRpbmggVGjhuqduIEJp4bq/biBraGnhur9tIGtodXnhur90IMSRYW4gxJFp4buBbiBuaOG7nSDEkcOidSBt4bubaSBjw7MgdGjhu4MgdHUgbHV54buHbiA/IjogIkzGsHUgVGluaCBM4buHIiwNCiAgICAiVGjDoW5oIG7hu68gbsOgbyB0cm9uZyBHacOgIFRoacOqbiBi4buLIG5ow6JuIHbhuq10IGNow61uaCBEaeG7h3AgUGjDoG0gbOG6pXkgbeG6pXQgY8OhaSDDoW8gbMOzdCA/IjogIkRpw6p1IEhpIiwNCiAgICAiVGjhuqduIFRow7RuZyBCw60gQ+G6o25oIHh14bqldCBoaeG7h24gdHJvbmcgYuG7mSBwaGltIGhv4bqhdCBow6xuaCBuw6BvIGTGsOG7m2kgxJHDonkgPyI6ICJWxKluaCBTaW5oIiwNCiAgICAiVGjhuqduIHbhu4sgbcOgIMSQxrDhu51uZyBUYW0gxJHhuqF0IMSRxrDhu6NjIGzDoCBnw6w/IjogIkjhuqNpIFRo4bqnbiB2w6AgVHUgTGEgVGjhuqduIiwNCiAgICAiVGjhur8gbOG7sWMgbsOgbyBsw6AgxJHhu5FpIHRo4bunIGzhu5tuIG5o4bqldCBj4bunYSBUacOqdSBWacOqbSB0cm9uZyDEkOG6pXUgUGjDoSBUaMawxqFuZyBLaHVuZz8iOiAiSOG7k24gxJBp4buHbiIsDQogICAgIlRoacOqbiBIb+G6oyBUw7RuIEdp4bqjIHRyb25nIMSQ4bqldSBQaMOhIFRoxrDGoW5nIEtodW5nIGTDuW5nIHRoaSB0aOG7gyBj4bunYSBhaSDEkeG7gyBo4buTaSBzaW5oID8iOiAiVsOibiBTxqFuIiwNCiAgICAiVGjDuiBjxrBuZyBUaMO0biBUaMO0biB0cm9uZyBOZ3V5w6puIFTDtG4gc2luaCByYSBjw7Mgc+G7qWMgbeG6oW5oIG5nYW5nIGPhuqNuaCBnaeG7m2kgbsOgbyA/IjogIlRow6FpIFPGoSBD4bqjbmgiLA0KICAgICJUacOqdSBLaGluaCBUdXnhur90IHh14bqldCBoaeG7h24gdHJvbmcgYuG7mSBob+G6oXQgaMOsbmggbsOgbyBkxrDhu5tpIMSRw6J5ID8iOiAiVHV54buHdCBUaOG6vyBDaGnhur9uIEjhu5NuIiwNCiAgICAiVGnDqnUgVmnDqm0gxJHDoyBs4bqtcCBuw6puIHRo4bq/IGzhu7FjIG7DoG8ga2hpIOG7nyBI4buNYyBWaeG7h24gR2nDoCBOYW0gPyI6ICJCw6BuIE3DtG4iLA0KICAgICJUacOqdSBWacOqbSB0cm9uZyDEkOG6pXUgUGjDoSBUaMawxqFuZyBLaHVuZyDEkcOjIEjhurluIMav4bubYyAzIE7Eg20gduG7m2kgYWkgPyI6ICJO4bqhcCBMYW4gWcOqbiBOaGnDqm4iLA0KICAgICJUacOqdSBWacOqbSB0cm9uZyDEkOG6pXUgUGjDoSBUaMawxqFuZyBLaHVuZyBz4butIGThu6VuZyBsb+G6oWkgdsWpIGtow60gbsOgbyBzYXUgxJHDonkgPyI6ICJUaMaw4bubYyIsDQogICAgIlRpw6p1IFZpw6ptIHRyb25nIMSQ4bqldSBQaMOhIFRoxrDGoW5nIEtodW5nIHRodeG7mWMgZ2lhIHThu5ljIG7DoG8/IjogIlRpw6p1IGdpYSIsDQogICAgIlRpw6p1IFRo4bqnbiBsw6AgbmjDom4gduG6rXQgY2jDrW5oIHRyb25nIGLhu5kgcGhpbSBob+G6oXQgaMOsbmggdHJ1bmcgcXXhu5FjIG7DoG8gc2F1IMSRw6J5ID8iOiAiVHLGsOG7nW5nIFNpbmggR2nhu5tpIiwNCiAgICAiVMOsbmggxJHhuqd1IGPhu6dhIERp4buHcCBQaMOgbSB0cm9uZyBHacOgIFRoacOqbiBsw6AgYWkgPyI6ICJMw70gVGnhu4N1IE3huqFuIiwNCiAgICAiVHLhuqduIELDrG5oIEFuIGzDoCBuYW0gY2jDrW5oIHRyb25nIGLhu5kgcGhpbSBob+G6oXQgaMOsbmggdHJ1bmcgcXXhu5FjIG7DoG8gPyI6ICJLaeG6v20gTGFpIiwNCiAgICAiVHJp4buHdSBOZ+G7jWMgQ2jDom4gbMOgIG5ow6JuIHbhuq10IHRyb25nIGLhu5kgaG/huqF0IGjDrG5oIHRydW5nIHF14buRYyBuw6BvIHNhdSDEkcOieSA/IjogIlRoaeG6v3UgTmnDqm4gQuG6oWNoIE3DoyBUdcO9IFh1w6JuIFBob25nIiwNCiAgICAiVHJvbmcgYuG7mSDEkOG6pXUgUGjDoSBUaMawxqFuZyBLaHVuZywgVGnDqnUgVmnDqm0gdMOsbSDEkeG6v24gYWkgxJHhu4MgY+G7qXUgRMaw4bujYyBMw6NvID8iOiAiUGhvbmcgVMO0biBHaeG6oyIsDQogICAgIlRyb25nIGLhu5kgVGnDqm4gTmdo4buLY2gsIG5ow6JuIHbhuq10IGNow61uaCBWxrDGoW5nIEzDom0ga2hpIOG7nyBxdcOqIG5ow6AgY8OybiBjw7MgdMOqbiBraMOhYyBsw6AgZ8OsID8iOiAiVGhp4bq/dCBUcuG7pSIsDQogICAgIlRyb25nIMSQ4bqldSBMYSDEkOG6oWkgTOG7pWMsIMSQxrDhu51uZyBI4bqhbyBsw6AgZ8OsIGPhu6dhIMSQxrDhu51uZyBUYW0/IjogIkNoYSIsDQogICAgIlRyb25nIEdpw6AgVGhpw6puLCB0aOG7gyBjaOG6pXQgRGnhu4dwIFBow6BtIGzDoCB0aOG7gyBjaOG6pXQgZ8OsID8iOiAiSG9hbmcgQ+G7lSBUaMOhbmggVGjhu4MiLA0KICAgICJUcm9uZyBQaMOgbSBOaMOibiBUdSBUacOqbiBhaSBi4buLIGx1eeG7h24gdGjDoG5oIGtow7RpIGzhu5dpIEtow7pjIEjhu5NuID8iOiAiVHLGsMahbmcgVGhp4bq/dCIsDQogICAgIlRyb25nIHBoaW0gVGnDqm4gTmdo4buLY2gsIFbGsMahbmcgTMOibSB2w7QgdMOsbmggY8OzIMSRxrDhu6NjIHBow6FwIGLhuqNvIG5naOG7i2NoIHRoacOqbiBuw6BvID8iOiAiVGhpw6puIE5naOG7i2NoIENow6J1IiwNCiAgICAiVHJvbmcgVGnDqm4gTmdo4buLY2gsIFbGsMahbmcgTMOibSBuaOG6rW4gxJHGsOG7o2MgdHJ1eeG7gW4gdGjhu6thIGfDrCDhu58gQ+G7lSBUaOG6p24gQ2hpIMSQ4buLYSA/IjogIkvDvSDhu6hjIiwNCiAgICAiVHJvbmcgVHJ1IFRpw6puLCDEkGnhu4FuIELhuqV0IEThu4tjaCBsw6AgdGjhu6cgdOG7jWEgY+G7p2EgUGhvbmcgbsOgbz8iOiAixJDhuqFpIFRyw7pjIFBob25nIiwNCiAgICAiVHJvbmcgVsSpbmggU2luaCAtIFBoxrDGoW5nIEjDoG4gaOG6uW4gxrDhu5tjIDEwIG7Eg20gY8O5bmcgduG7m2kgYWkgPyI6ICJIb2EgVGhpw6puIMSQw7QiLA0KICAgICJUcsaw4bubYyBraGkgxJHhur9uIExpbmggS2jDqiBUw7RuZywgQuG6oWNoIFRp4buDdSBUaHXhuqduIHRyb25nIE5o4bqldCBOaeG7h20gVsSpbmggSOG6sW5nIOG7nyDEkcOidSA/IjogIk3huqFvIE5oaSBTxqFuIFRow7RuIiwNCiAgICAiVHLGsMahbmcgVGnhu4N1IFBow6BtIHRyb25nIHBoaW0gVHJ1IFRpw6puIGPDsm4gY8OzIHTDqm4gZ+G7jWkgbMOgID8iOiAiUXXhu7cgTOG7hyIsDQogICAgIlRyxrDGoW5nIFRp4buDdSBQaMOgbSB0cm9uZyBUcnUgVGnDqm4gdOG7q25nIMSRxrDhu6NjIG5o4bqtbiB2w6BvIG3DtG4gcGjDoWkgbsOgbz8iOiAiVGhhbmggVsOibiBNw7RuIiwNCiAgICAiVOG7rSBOZ2hpw6puIHRyb25nIMSQ4bqldSBQaMOhIFRoxrDGoW5nIEtodW5nIHRodeG7mWMgY2jhu6duZyB04buZYyBuw6BvID8iOiAiVGjDoWkgSMawIEPhu5UgTG9uZyIsDQogICAgIlbDom4gVHJp4buHdCBsw6AgdMOqbiBuaMOibiB24bqtdCBjaMOtbmggdHJvbmcgYuG7mSBwaGltIGhv4bqhdCBow6xuaCB0cnVuZyBxdeG7kWMgbsOgbyBzYXUgxJHDonkgPyI6ICJOZ2jhu4tjaCBUaGnDqm4gVMOgIFRo4bqnbiIsDQogICAgIlThuqFpIHNhbyBIw6BuIEzhuq1wIGtoaSBn4bq3cCBQaG9uZyBIaSBraMO0bmcgY2jhuqF5IG3DoCDhu58gbOG6oWkgZ2nDunAgxJHhu6EgY2jhur8gdOG6oW8gUGhvbmcgTMO0aSBTw60gPyI6ICJWw6wgxJHDoW5oIGtow7RuZyBs4bqhaVwiLlwiIiwNCiAgICAiVsWpIENhbmggbMOgIG5ow6JuIHbhuq10IHRyb25nIGLhu5kgaG/huqF0IGjDrG5oIHRydW5nIHF14buRYyBuw6BvIHNhdSDEkcOieSA/IjogIlbFqSBDYW5oIEvhu7ciLA0KICAgICJWxakgaOG7k24gY+G7p2EgQ2h1IFRyw7pjIFRoYW5oIGzDoCBnw6w/IjogIlUgTWluaCBMaW5oIE1pw6p1IiwNCiAgICAiVsWpIGjhu5NuIGPhu6dhIMSQ4bubaSBN4buZYyBC4bqhY2ggbMOgIGfDrD8iOiAiQuG6oWNoIEjhu5UiLA0KICAgICJWxakgaOG7k24gY+G7p2EgTcOjIEjhu5NuZyBUdeG6pW4gbMOgIGfDrD8iOiAiSOG7j2EgUGjGsOG7o25nIEhvw6BuZyIsDQogICAgIlbFqSBo4buTbiBj4bunYSBUaeG7g3UgVsWpIGzDoCBnw6w/IjogIk5odSBD4buRdCBUaOG7jyIsDQogICAgIlbFqSBo4buTbiB0aOG7qSBoYWkgY+G7p2EgxJDGsOG7nW5nIFRhbSBsw6AgZ8OsPyI6ICJI4bqhbyBUaGnDqm4gQ2jDuXkiLA0KICAgICJWxakga2jDrSBj4bunYSDEkMOgbSBWw6JuIHRyb25nIE5naOG7i2NoIFRoacOqbiBDaMOtIFTDtG4gbMOgIGfDrCA/IjogIkjhu5NuZyBNw7RuZyBUaOG6p24gS2nhur9tIiwNCiAgICAiVsWpIGtow60gbcOgIFRpw6p1IFZpw6ptIHRyb25nIMSQ4bqldSBQaMOhIFRoxrDGoW5nIEtodW5nIGx1w7RuIG1hbmcgYsOqbiBtw6xuaCBjw7MgdMOqbiBn4buNaSBsw6AgZ8OsID8iOiAiSHV54buBbiBUcuG7jW5nIFjDrWNoIiwNCiAgICAiVsawxqFuZyBMw6JtIHRyb25nIHBoaW0gVGnDqm4gTmdo4buLY2ggZOG7sWEgdsOgbyBnw6wgxJHhu4MgdsO0IMSR4buLY2ggY8O5bmcgY+G6o25oIGdp4bubaSA/IjogIkPhu7FjIGPhuqNuaCIsDQogICAgIlkgTGFpIEto4bqvYyBUxrAgbMOgIG3hu5l0IG5ow6JuIHbhuq10IHRyb25nIGLhu5kgcGhpbSBob+G6oXQgaMOsbmggdHJ1bmcgcXXhu5FjIG7DoG8gc2F1IMSRw6J5ID8iOiAiQ+G6oyAxIHbDoCAyIiwNCiAgICAiVOG6p24gTeG7pWMgbMOgIG5ow6JuIHbhuq10IGNow61uaCB0cm9uZyBi4buZIHBoaW0gaG/huqF0IGjDrG5oIHRydW5nIHF14buRYyBuw6BvIHNhdSDEkcOieSA/IjogIk3hu6VjIFRo4bqnbiBLw70iLA0KICAgICJN4bulYyDEkcOtY2ggY2jDrW5oIHR1IGx1eeG7h24gY+G7p2EgVOG6p24gVsWpIHRyb25nIFRpbmggVGjhuqduIEJp4bq/biBsw6AgZ8OsID8/IjogIlbDrCBtdeG7kW4gxJHGsOG7o2MgY8aw4bubaSBLaMawxqFuZyBM4bqtcCIsDQogICAgIlRyb25nIMSQ4bqldSBQaMOhIFRoxrDGoW5nIEtodW5nLCBUacOqdSBWacOqbSBoxqFuIEPhu5UgSMOgIOG7nyDEkWnhu4NtIGfDrCA/IjogIkThu4sgSOG7j2EiLA0KICAgICJU4bqhaSBzYW8gSMOgbiBM4bqtcCBraGkgZ+G6t3AgUGhvbmcgSGkga2jDtG5nIGNo4bqheSBtw6Ag4bufIGzhuqFpIGdpw7pwIMSR4buhIGNo4bq/IHThuqFvIFBob25nIEzDtGkgU8OtID8iOiAiVsOsIMSRw6FuaCBraMO0bmcgbOG6oWkuIiwNCiAgICAiTmjDom4gduG6rXQgY2jDrW5oIHRyb25nIFRhIEPDsyBUaOG7gyBHacOhYyBOZ+G7mSBWw7QgSOG6oW4gbMOgIGFpID8iOiAiVGnDqnUgVsOibiIsDQogICAgIk5ow6JuIHbhuq10IGNow61uaCB0cm9uZyDEkOG6pXUgQ2hp4bq/biBUaGnDqm4gSOG6oSBsw6AgYWkgPyI6ICLEkOG6oWkgUGhvbmciLA0KICAgICJOaMOibiB24bqtdCBjaMOtbmggdHJvbmcgUXXDom4gVOG7rSBWw7QgVOG6rXQgbMOgIGFpID8iOiAiRGFvIEPGoSIsDQogICAgIk5ow6JuIHbhuq10IGNow61uaCB0cm9uZyBNYW4gSG9hbmcgVGnDqm4gR2nhu5tpIGzDoCBhaSA/IjogIkzhu6VjIEjDoG5nIENoaSIsDQogICAgIjEgVHJvbmcgMiBBZG1pbiBj4bunYSB3ZWJzaXRlIEhvYXRIaW5oM0QgbMOgIGFpID8gKEJp4buHdCBkYW5oIGNow61uaCB4w6FjIOG7nyB3ZWIpIjogIlThu6sgRMawxqFuZyIsDQogICAgIlThu4luaCBD4butdSBsw6AgbmjDom4gduG6rXQgY2jDrW5oIHRyb25nIGLhu5kgcGhpbSBob+G6oXQgaMOsbmggdHJ1bmcgcXXhu5FjIG7DoG8gc2F1IMSRw6J5ID8iOiAixJDhuqFpIMSQ4bqhbyBUcmnhu4F1IFRoacOqbiIsDQogICAgIlThuqduIE5hbSBsw6AgbmjDom4gduG6rXQgY2jDrW5oIHRyb25nIGLhu5kgaG/huqF0IGjDrG5oIHRydW5nIHF14buRYyBuw6BvIHNhdSDEkcOieSA/IjogIlR1eeG7h3QgVGjhur8gQ2hp4bq/biBI4buTbiIsDQp9Ow0KDQpjb25zdCBsYXRpbk1hcCA9IHsNCiAgICAvLyBDeXJpbGxpYyBsb3dlcmNhc2UNCiAgICAn0LAnOiAnYScsICfRgSc6ICdjJywgJ9C1JzogJ2UnLCAn0L4nOiAnbycsICfRgCc6ICdwJywgJ9GFJzogJ3gnLCAn0YMnOiAneScsICfRgic6ICd0JywNCiAgICAn0LInOiAnYicsICfQvSc6ICdoJywgJ9C6JzogJ2snLCAn0LwnOiAnbScsICfQuyc6ICduJywgJ9GVJzogJ3MnLCAn0ZgnOiAnaicsICfRlic6ICdpJywNCiAgICAn0bUnOiAndicsICfTjyc6ICdsJywgJ9C0JzogJ2QnLCAn0ZEnOiAnZScsICfQsyc6ICdnJywgJ9K7JzogJ2gnLCAn0psnOiAnaycsICfQtyc6ICd6JywNCg0KICAgIC8vIEN5cmlsbGljIHVwcGVyY2FzZQ0KICAgICfQkCc6ICdBJywgJ9ChJzogJ0MnLCAn0JUnOiAnRScsICfQnic6ICdPJywgJ9CgJzogJ1AnLCAn0KUnOiAnWCcsICfQoyc6ICdZJywgJ9CiJzogJ1QnLA0KICAgICfQkic6ICdCJywgJ9CdJzogJ0gnLCAn0JonOiAnSycsICfQnCc6ICdNJywgJ9CbJzogJ04nLCAn0IUnOiAnUycsICfQiCc6ICdKJywgJ9CGJzogJ0knLA0KICAgICfRtCc6ICdWJywgJ9OAJzogJ0wnLCAn0JQnOiAnRCcsICfQgSc6ICdFJywgJ9CTJzogJ0cnLCAn0ronOiAnSCcsICfSmic6ICdLJywgJ9CXJzogJ1onLA0KDQogICAgLy8gR3JlZWsgbG93ZXJjYXNlDQogICAgJ86xJzogJ2EnLCAnzrInOiAnYicsICfOsyc6ICdnJywgJ860JzogJ2QnLCAnzrUnOiAnZScsICfOtic6ICd6JywgJ863JzogJ2gnLCAnzrgnOiAndGgnLA0KICAgICfOuSc6ICdpJywgJ866JzogJ2snLCAnzrsnOiAnbCcsICfOvCc6ICdtJywgJ869JzogJ24nLCAnzr4nOiAna3MnLCAnzr8nOiAnbycsICfPgCc6ICdwJywNCiAgICAnz4EnOiAncicsICfPgyc6ICdzJywgJ8+EJzogJ3QnLCAnz4UnOiAndScsICfPhic6ICdwaCcsICfPhyc6ICd4JywgJ8+IJzogJ3BzJywgJ8+JJzogJ3cnLA0KDQogICAgLy8gR3JlZWsgdXBwZXJjYXNlDQogICAgJ86RJzogJ0EnLCAnzpInOiAnQicsICfOkyc6ICdHJywgJ86UJzogJ0QnLCAnzpUnOiAnRScsICfOlic6ICdaJywgJ86XJzogJ0gnLCAnzpgnOiAnVEgnLA0KICAgICfOmSc6ICdJJywgJ86aJzogJ0snLCAnzpsnOiAnTCcsICfOnCc6ICdNJywgJ86dJzogJ04nLCAnzp4nOiAnS1MnLCAnzp8nOiAnTycsICfOoCc6ICdQJywNCiAgICAnzqEnOiAnUicsICfOoyc6ICdTJywgJ86kJzogJ1QnLCAnzqUnOiAnVScsICfOpic6ICdQSCcsICfOpyc6ICdYJywgJ86oJzogJ1BTJywgJ86pJzogJ1cnLA0KDQogICAgLy8gQXJtZW5pYW4gbG93ZXJjYXNlDQogICAgJ8mRJzogJ2EnLCAn1oUnOiAnbycsICfVvSc6ICdzJywgJ9WlJzogJ2UnLCAn1aYnOiAneicsICfVryc6ICdrJywgJ9W4JzogJ24nLCAn1bwnOiAncicsDQogICAgJ9WwJzogJ2gnLCAn1awnOiAnbCcsICfVtCc6ICdtJywgJ9W2JzogJ24nLCAn1b4nOiAndicsICfVvyc6ICd0JywgJ9WiJzogJ2InLCAn1aQnOiAnZCcsDQogICAgJ9WzJzogJ2MnLCAn1bsnOiAnaicsICfVtSc6ICd5JywgJ9aEJzogJ2snLCAn1acnOiAnZScsDQoNCiAgICAvLyBBcm1lbmlhbiB1cHBlcmNhc2UNCiAgICAn1LEnOiAnQScsICfVlSc6ICdPJywgJ9WNJzogJ1MnLCAn1LUnOiAnRScsICfUtic6ICdaJywgJ9S/JzogJ0snLCAn1YgnOiAnTicsICfVkCc6ICdSJywNCiAgICAn1YAnOiAnSCcsICfUvCc6ICdMJywgJ9WEJzogJ00nLCAn1YYnOiAnTicsICfVjic6ICdWJywgJ9WPJzogJ1QnLCAn1LInOiAnQicsICfUtCc6ICdEJywNCiAgICAn1YMnOiAnQycsICfViyc6ICdKJywgJ9WFJzogJ1knLCAn1ZQnOiAnSycsDQoNCiAgICAvLyBWaWV0bmFtZXNlIGxvd2VyY2FzZQ0KICAgICfDoCc6ICdhJywgJ8OhJzogJ2EnLCAn4bqjJzogJ2EnLCAnw6MnOiAnYScsICfhuqEnOiAnYScsICfEgyc6ICdhJywgJ+G6sSc6ICdhJywgJ+G6ryc6ICdhJywNCiAgICAn4bqzJzogJ2EnLCAn4bq1JzogJ2EnLCAn4bq3JzogJ2EnLCAnw6InOiAnYScsICfhuqcnOiAnYScsICfhuqUnOiAnYScsICfhuqknOiAnYScsICfhuqsnOiAnYScsDQogICAgJ+G6rSc6ICdhJywgJ8OoJzogJ2UnLCAnw6knOiAnZScsICfhursnOiAnZScsICfhur0nOiAnZScsICfhurknOiAnZScsICfDqic6ICdlJywgJ+G7gSc6ICdlJywNCiAgICAn4bq/JzogJ2UnLCAn4buDJzogJ2UnLCAn4buFJzogJ2UnLCAn4buHJzogJ2UnLCAnw6wnOiAnaScsICfDrSc6ICdpJywgJ+G7iSc6ICdpJywgJ8SpJzogJ2knLA0KICAgICfhu4snOiAnaScsICfDsic6ICdvJywgJ8OzJzogJ28nLCAn4buPJzogJ28nLCAnw7UnOiAnbycsICfhu40nOiAnbycsICfDtCc6ICdvJywgJ+G7kyc6ICdvJywNCiAgICAn4buRJzogJ28nLCAn4buVJzogJ28nLCAn4buXJzogJ28nLCAn4buZJzogJ28nLCAnxqEnOiAnbycsICfhu50nOiAnbycsICfhu5snOiAnbycsICfhu58nOiAnbycsDQogICAgJ+G7oSc6ICdvJywgJ+G7oyc6ICdvJywgJ8O5JzogJ3UnLCAnw7onOiAndScsICfhu6cnOiAndScsICfFqSc6ICd1JywgJ+G7pSc6ICd1JywgJ8awJzogJ3UnLA0KICAgICfhu6snOiAndScsICfhu6knOiAndScsICfhu60nOiAndScsICfhu68nOiAndScsICfhu7EnOiAndScsICfhu7MnOiAneScsICfDvSc6ICd5JywgJ+G7tyc6ICd5JywNCiAgICAn4bu5JzogJ3knLCAn4bu1JzogJ3knLCAnxJEnOiAnZCcsDQoNCiAgICAvLyBWaWV0bmFtZXNlIHVwcGVyY2FzZQ0KICAgICfDgCc6ICdBJywgJ8OBJzogJ0EnLCAn4bqiJzogJ0EnLCAnw4MnOiAnQScsICfhuqAnOiAnQScsICfEgic6ICdBJywgJ+G6sCc6ICdBJywgJ+G6ric6ICdBJywNCiAgICAn4bqyJzogJ0EnLCAn4bq0JzogJ0EnLCAn4bq2JzogJ0EnLCAnw4InOiAnQScsICfhuqYnOiAnQScsICfhuqQnOiAnQScsICfhuqgnOiAnQScsICfhuqonOiAnQScsDQogICAgJ+G6rCc6ICdBJywgJ8OIJzogJ0UnLCAnw4knOiAnRScsICfhuronOiAnRScsICfhurwnOiAnRScsICfhurgnOiAnRScsICfDiic6ICdFJywgJ+G7gCc6ICdFJywNCifDiSc6ICdFJywgJ+G7gic6ICdFJywgJ+G7hCc6ICdFJywgJ+G7hic6ICdFJywgJ8OMJzogJ0knLCAnw40nOiAnSScsICfhu4gnOiAnSScsICfEqCc6ICdJJywNCiAgICAn4buKJzogJ0knLCAnw5InOiAnTycsICfDkyc6ICdPJywgJ+G7jic6ICdPJywgJ8OVJzogJ08nLCAn4buMJzogJ08nLCAnw5QnOiAnTycsICfhu5InOiAnTycsDQogICAgJ+G7kCc6ICdPJywgJ+G7lCc6ICdPJywgJ+G7lic6ICdPJywgJ+G7mCc6ICdPJywgJ8agJzogJ08nLCAn4bucJzogJ08nLCAn4buaJzogJ08nLCAn4bueJzogJ08nLA0KICAgICfhu6AnOiAnTycsICfhu6InOiAnTycsICfDmSc6ICdVJywgJ8OaJzogJ1UnLCAn4bumJzogJ1UnLCAnxagnOiAnVScsICfhu6QnOiAnVScsICfGryc6ICdVJywNCiAgICAn4buqJzogJ1UnLCAn4buoJzogJ1UnLCAn4busJzogJ1UnLCAn4buuJzogJ1UnLCAn4buwJzogJ1UnLCAn4buyJzogJ1knLCAnw50nOiAnWScsICfhu7YnOiAnWScsDQogICAgJ+G7uCc6ICdZJywgJ+G7tCc6ICdZJywgJ8SQJzogJ0QnLA0KDQogICAgLy8gRnVsbHdpZHRoIExhdGluIGxvd2VyY2FzZQ0KICAgICfvvYEnOiAnYScsICfvvYInOiAnYicsICfvvYMnOiAnYycsICfvvYQnOiAnZCcsICfvvYUnOiAnZScsICfvvYYnOiAnZicsICfvvYcnOiAnZycsICfvvYgnOiAnaCcsDQogICAgJ++9iSc6ICdpJywgJ++9iic6ICdqJywgJ++9iyc6ICdrJywgJ++9jCc6ICdsJywgJ++9jSc6ICdtJywgJ++9jic6ICduJywgJ++9jyc6ICdvJywgJ++9kCc6ICdwJywNCiAgICAn772RJzogJ3EnLCAn772SJzogJ3InLCAn772TJzogJ3MnLCAn772UJzogJ3QnLCAn772VJzogJ3UnLCAn772WJzogJ3YnLCAn772XJzogJ3cnLCAn772YJzogJ3gnLA0KICAgICfvvZknOiAneScsICfvvZonOiAneicsDQoNCiAgICAvLyBGdWxsd2lkdGggTGF0aW4gdXBwZXJjYXNlDQogICAgJ++8oSc6ICdBJywgJ++8oic6ICdCJywgJ++8oyc6ICdDJywgJ++8pCc6ICdEJywgJ++8pSc6ICdFJywgJ++8pic6ICdGJywgJ++8pyc6ICdHJywgJ++8qCc6ICdIJywNCiAgICAn77ypJzogJ0knLCAn77yqJzogJ0onLCAn77yrJzogJ0snLCAn77ysJzogJ0wnLCAn77ytJzogJ00nLCAn77yuJzogJ04nLCAn77yvJzogJ08nLCAn77ywJzogJ1AnLA0KICAgICfvvLEnOiAnUScsICfvvLInOiAnUicsICfvvLMnOiAnUycsICfvvLQnOiAnVCcsICfvvLUnOiAnVScsICfvvLYnOiAnVicsICfvvLcnOiAnVycsICfvvLgnOiAnWCcsDQogICAgJ++8uSc6ICdZJywgJ++8uic6ICdaJywNCg0KICAgIC8vIEZ1bGx3aWR0aCBkaWdpdHMNCiAgICAn77yQJzogJzAnLCAn77yRJzogJzEnLCAn77ySJzogJzInLCAn77yTJzogJzMnLCAn77yUJzogJzQnLCAn77yVJzogJzUnLCAn77yWJzogJzYnLCAn77yXJzogJzcnLA0KICAgICfvvJgnOiAnOCcsICfvvJknOiAnOScsDQoNCiAgICAvLyBMYXRpbiBleHRlbmRlZA0KICAgICfisaUnOiAnYScsICfisaYnOiAndCcsICfisa8nOiAnQScsICfisaQnOiAnUicsICfGgCc6ICdiJywgJ8aDJzogJ2InLCAnxognOiAnYycsICfJlyc6ICdkJywNCiAgICAnxpInOiAnZicsICfJoCc6ICdnJywgJ8mmJzogJ2gnLCAnyagnOiAnaScsICfGmSc6ICdrJywgJ8mxJzogJ20nLCAnybInOiAnbicsICfJtSc6ICdvJywNCiAgICAnyqAnOiAncScsICfKgic6ICdzJywgJ8qIJzogJ3QnLCAn4rGzJzogJ3cnLCAn4rG5JzogJ3InLCAnyosnOiAndicsICfisbonOiAnbycsICfGtCc6ICd5JywNCiAgICAnxrYnOiAneicsICfGgSc6ICdCJywgJ8aHJzogJ0MnLCAnxoonOiAnRCcsICfGkSc6ICdGJywgJ8aTJzogJ0cnLCAnxpgnOiAnSycsICfGnSc6ICdOJywNCiAgICAnxp8nOiAnTycsICfGoic6ICdPSScsICfGrCc6ICdUJywgJ8ayJzogJ1YnLCAnxrMnOiAnWScsICfGtSc6ICdaJywNCg0KICAgIC8vIENoZXJva2VlIGxldHRlcnMNCiAgICAn4Y6qJzogJ2dvJywgJ+GOqyc6ICdndScsICfhjqwnOiAnZ3YnLCAn4Y+MJzogJ3NhJywgJ+GPjSc6ICdzJywgJ+GPjic6ICdzZScsDQogICAgJ+GPjyc6ICdzaScsICfhj5AnOiAnc28nLCAn4Y+RJzogJ3N1JywgJ+GPkic6ICdzdicsDQoNCiAgICAvLyBJUEEgbGV0dGVycw0KICAgICfJoSc6ICdnJywgJ8miJzogJ0cnLCAnybQnOiAnTicsICfKgCc6ICdSJywgJ8qfJzogJ0wnLCAnyo8nOiAnWScsICfKgyc6ICdzJywNCiAgICAnypInOiAneicsICfJvic6ICdyJywgJ8qwJzogJ2gnLA0KDQogICAgLy8gU3VwZXJzY3JpcHQgbGV0dGVycyBhbmQgbW9kaWZpZXIgbGV0dGVycw0KICAgICfhtYMnOiAnYScsICfhtYcnOiAnYicsICfhtpwnOiAnYycsICfhtYgnOiAnZCcsICfhtYknOiAnZScsICfhtqAnOiAnZicsICfhtY0nOiAnZycsDQogICAgJ8qwJzogJ2gnLCAn4oGxJzogJ2knLCAnyrInOiAnaicsICfhtY8nOiAnaycsICfLoSc6ICdsJywgJ+G1kCc6ICdtJywgJ+KBvyc6ICduJywNCiAgICAn4bWSJzogJ28nLCAn4bWWJzogJ3AnLCAnyrMnOiAncicsICfLoic6ICdzJywgJ+G1lyc6ICd0JywgJ+G1mCc6ICd1JywgJ+G1myc6ICd2JywNCiAgICAnyrcnOiAndycsICfLoyc6ICd4JywgJ8q4JzogJ3knLCAn4ba7JzogJ3onLA0KDQogICAgLy8gU3BlY2lhbCBVbmljb2RlIGxldHRlcmxpa2Ugc3ltYm9scw0KICAgICfihJMnOiAnbCcsICfihK4nOiAnZScsICfihIonOiAnZycsICfihI0nOiAnSCcsICfihJUnOiAnTicsICfihJknOiAnUCcsDQogICAgJ+KEmic6ICdRJywgJ+KEnSc6ICdSJywgJ+KEpCc6ICdaJywgJ+KEgic6ICdDJywgJ+KErCc6ICdCJywgJ+KEsCc6ICdFJywNCiAgICAn4oSxJzogJ0YnLCAn4oSzJzogJ00nLA0KfQ0KDQpjb25zdCBub3JtYWxpemUgPSAodmFsdWUpID0+IHsNCiAgICByZXR1cm4gdmFsdWUNCiAgICAgICAgLnNwbGl0KCcnKQ0KICAgICAgICAubWFwKGNoYXJhY3RlciA9PiBsYXRpbk1hcFtjaGFyYWN0ZXJdIHx8IGNoYXJhY3RlcikNCiAgICAgICAgLmpvaW4oJycpDQogICAgICAgIC5ub3JtYWxpemUoIk5GRCIpDQogICAgICAgIC5yZXBsYWNlKC9bXHUwMzAwLVx1MDM2Zl0vZywgJycpDQogICAgICAgIC50b0xvd2VyQ2FzZSgpDQogICAgICAgIC5yZXBsYWNlKC9bXmEtejAtOSBdKy9nLCAnJykNCiAgICAgICAgLnJlcGxhY2UoL1xzKy9nLCAnICcpDQogICAgICAgIC50cmltKCk7DQp9Ow0KDQpjb25zdCBsZXZlbnNodGVpbkRpc3RhbmNlID0gKGxocywgcmhzKSA9PiB7DQogICAgY29uc3QgbWF0cml4ID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogbGhzLmxlbmd0aCArIDEgfSwgKF8sIHJvdykgPT4NCiAgICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogcmhzLmxlbmd0aCArIDEgfSwgKF8sIGNvbCkgPT4NCiAgICAgICAgICAgIHJvdyA9PT0gMCA/IGNvbCA6IGNvbCA9PT0gMCA/IHJvdyA6IDANCiAgICAgICAgKQ0KICAgICk7DQogICAgZm9yIChsZXQgcm93ID0gMTsgcm93IDw9IGxocy5sZW5ndGg7IHJvdysrKSB7DQogICAgICAgIGZvciAobGV0IGNvbCA9IDE7IGNvbCA8PSByaHMubGVuZ3RoOyBjb2wrKykgew0KICAgICAgICAgICAgbWF0cml4W3Jvd11bY29sXSA9IE1hdGgubWluKA0KICAgICAgICAgICAgICAgIG1hdHJpeFtyb3cgLSAxXVtjb2xdICsgMSwNCiAgICAgICAgICAgICAgICBtYXRyaXhbcm93XVtjb2wgLSAxXSArIDEsDQogICAgICAgICAgICAgICAgbWF0cml4W3JvdyAtIDFdW2NvbCAtIDFdICsgKGxoc1tyb3cgLSAxXSA9PT0gcmhzW2NvbCAtIDFdID8gMCA6IDEpDQogICAgICAgICAgICApOw0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiBtYXRyaXhbbGhzLmxlbmd0aF1bcmhzLmxlbmd0aF07DQp9DQoNCmNvbnN0IHNpbWlsYXJpdHlQZXJjZW50ID0gKGxocywgcmhzKSA9PiB7DQogICAgaWYgKCFsaHMgJiYgIXJocykgcmV0dXJuIDEwMDsNCiAgICBjb25zdCBkaXN0YW5jZSA9IGxldmVuc2h0ZWluRGlzdGFuY2UobGhzLCByaHMpOw0KICAgIGNvbnN0IG1heExlbmd0aCA9IE1hdGgubWF4KGxocy5sZW5ndGgsIHJocy5sZW5ndGgpOw0KICAgIHJldHVybiAoKDEgLSBkaXN0YW5jZSAvIG1heExlbmd0aCkgKiAxMDApLnRvRml4ZWQoMik7DQp9DQoNCmNvbnN0IGJlc3RNYXRjaCA9IChvcHRpb25zLCB0YXJnZXQpID0+IHsNCiAgICBjb25zdCBub3JtYWxpemVkVGFyZ2V0ID0gbm9ybWFsaXplKHRhcmdldCk7DQogICAgbGV0IGJlc3RJbmRleCA9IC0xOw0KICAgIGxldCBiZXN0U2NvcmUgPSAtMTsNCiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgb3B0aW9ucy5sZW5ndGg7IGluZGV4KyspIHsNCiAgICAgICAgY29uc3Qgbm9ybWFsaXplZE9wdGlvbiA9IG5vcm1hbGl6ZShvcHRpb25zW2luZGV4XSk7DQogICAgICAgIGNvbnN0IHNjb3JlID0gcGFyc2VGbG9hdChzaW1pbGFyaXR5UGVyY2VudChub3JtYWxpemVkT3B0aW9uLCBub3JtYWxpemVkVGFyZ2V0KSk7DQogICAgICAgIGlmIChzY29yZSA+IGJlc3RTY29yZSkgew0KICAgICAgICAgICAgYmVzdEluZGV4ID0gaW5kZXg7DQogICAgICAgICAgICBiZXN0U2NvcmUgPSBzY29yZTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5SQIHRhcmdldDogJHt0YXJnZXR9IC0gcmVzdWx0OiAke29wdGlvbnNbYmVzdEluZGV4XX0gKCR7YmVzdFNjb3JlfSlgKTsNCiAgICByZXR1cm4gYmVzdEluZGV4Ow0KfQ0KDQpjb25zdCBnZXRSZXF1ZXN0RGF0YSA9IChodG1sKSA9PiB7DQogICAgcmV0dXJuIFsuLi5odG1sLm1hdGNoQWxsKC9kYXRhXHMqKD86PXw6KVxzKnsoW1xzXFNdKj8pfS9nKV0NCiAgICAgICAgLm1hcChyZXN1bHQgPT4gew0KICAgICAgICAgICAgY29uc3QgY29udGVudCA9IHJlc3VsdFsxXTsNCiAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9IChjb250ZW50Lm1hdGNoKC9bJyJdP2FjdGlvblsnIl0/XHMqOlxzKlsnIl0oW14nIl0rKVsnIl0vKSB8fCBbXSlbMV0gfHwgJyc7DQogICAgICAgICAgICBjb25zdCBub25jZSA9IChjb250ZW50Lm1hdGNoKC9bJyJdP25vbmNlWyciXT9ccyo6XHMqWyciXShbYS1mMC05XSspWyciXS8pIHx8IFtdKVsxXSB8fCAnJzsNCiAgICAgICAgICAgIGNvbnN0IHNlY3VyaXR5ID0gKGNvbnRlbnQubWF0Y2goL1snIl0/c2VjdXJpdHlbJyJdP1xzKjpccypbJyJdKFthLWYwLTldKylbJyJdLykgfHwgW10pWzFdIHx8ICcnOw0KICAgICAgICAgICAgcmV0dXJuIGFjdGlvbiA/IHsgYWN0aW9uLCBub25jZSwgc2VjdXJpdHkgfSA6IG51bGw7DQogICAgICAgIH0pDQogICAgICAgIC5maWx0ZXIoQm9vbGVhbik7DQp9Ow0KDQpjb25zdCBwb3N0UmVxdWVzdCA9IGFzeW5jICh1cmwsIHsgaGVhZGVycywgYm9keSB9KSA9PiB7DQogICAgdHJ5IHsNCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHsgbWV0aG9kOiAnUE9TVCcsIGhlYWRlcnMsIGJvZHkgfSk7DQogICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7DQogICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgY29uc29sZS5lcnJvciggYPCflLQgUE9TVDogJHt1cmx9IC0gJHtlcnJvcn1gKTsNCiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvciB9Ow0KICAgIH0NCn07DQoNCmNvbnN0IGxvYWRQYWdlID0gYXN5bmMgKHVybCkgPT4gew0KICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTsNCiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpOw0KICAgIGNvbnN0IGRvYyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoaHRtbCwgJ3RleHQvaHRtbCcpOw0KICAgIHJldHVybiB7IGh0bWwsIGRvYyB9Ow0KfTsNCg0KLy8gxJBp4buDbSBEYW5oDQphc3luYyBmdW5jdGlvbiBjaGVja0luKCkgew0KICAgIGNvbnN0IG5vbmNlID0gQmV0dGVyX01lc3NhZ2VzLm5vbmNlOw0KICAgIGlmICghbm9uY2UpIHsNCiAgICAgICAgcmV0dXJuIHNob3dOb3RpZmljYXRpb25VSSggYPCflLQgW8SQaeG7g20gRGFuaF0gLSBLaMO0bmcgdMOsbSB0aOG6pXkgbm9uY2UgZGFpbHlfY2hlY2tfaW5gKTsNCiAgICB9Ow0KICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvc3RSZXF1ZXN0KEFDVElPTl9VUkwsIHsNCiAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICAgICAgICAgICdYLVdQLU5vbmNlJzogbm9uY2UNCiAgICAgICAgfSwNCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhY3Rpb246ICdkYWlseV9jaGVja19pbicgfSksDQogICAgfSk7DQogICAgY29uc3QgbWVzc2FnZSA9IHJlc3VsdC5zdWNjZXNzDQogICAgICAgID8gYPCfn6IgW8SQaeG7g20gRGFuaF0gLSBUaMOgbmggY8O0bmcuYA0KICAgICAgICA6IGDwn5+hIFvEkGnhu4NtIERhbmhdIC0gJHtyZXN1bHQubWVzc2FnZX1gOw0KICAgICAgICBzaG93Tm90aWZpY2F0aW9uVUkoIG1lc3NhZ2UpOw0KfQ0KDQovLyBIb2FuZyBW4buxYw0KYXN5bmMgZnVuY3Rpb24gY2xhaW1Cb3NzQ2hlc3Qobm9uY2UpIHsNCiAgICBpZiAoIW5vbmNlKSB7DQogICAgICAgIHJldHVybiBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5S0IFtIb2FuZyBW4buxY10gLSBLaMO0bmcgdMOsbSB0aOG6pXkgbm9uY2UgY2xhaW1fY2hlc3RgKTsNCiAgICB9Ow0KICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvc3RSZXF1ZXN0KEFETUlOX0FKQVhfVVJMLCB7DQogICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnIH0sDQogICAgICAgIGJvZHk6IG5ldyBVUkxTZWFyY2hQYXJhbXMoew0KICAgICAgICAgICAgYWN0aW9uOiAnY2xhaW1fY2hlc3QnLA0KICAgICAgICAgICAgbm9uY2U6IG5vbmNlDQogICAgICAgIH0pDQogICAgfSk7DQogICAgaWYgKHJlc3VsdC5lcnJvcikgew0KICAgICAgICByZXR1cm4gc2hvd05vdGlmaWNhdGlvblVJKCBg8J+UtCBbSG9hbmcgVuG7sWNdIC0gJHtyZXN1bHQuZXJyb3J9YCk7DQogICAgfTsNCiAgICBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5+iIFtIb2FuZyBW4buxY10gLSBOaOG6rW4gdGjGsOG7n25nIHRow6BuaCBjw7RuZy5gKTsNCiAgICBjb25zdCByZXdhcmRzID0gcmVzdWx0LnRvdGFsX3Jld2FyZHMgfHwge307DQogICAgY29uc3QgcmV3YXJkTG9ncyA9IFtdOw0KICAgIGlmIChyZXdhcmRzLnR1X3ZpKSByZXdhcmRMb2dzLnB1c2goYOKcqCBUdSBWaTogJHtyZXdhcmRzLnR1X3ZpfWApOw0KICAgIGlmIChyZXdhcmRzLnRpbmhfdGhhY2gpIHJld2FyZExvZ3MucHVzaChg8J+SjiBUaW5oIFRo4bqhY2g6ICR7cmV3YXJkcy50aW5oX3RoYWNofWApOw0KICAgIGlmIChyZXdhcmRzLnRpbmhfaHV5ZXQpIHJld2FyZExvZ3MucHVzaChg8J+puCBUaW5oIEh1eeG6v3Q6ICR7cmV3YXJkcy50aW5oX2h1eWV0fWApOw0KICAgIGlmIChyZXdhcmRMb2dzLmxlbmd0aCkgew0KICAgICAgICBzaG93Tm90aWZpY2F0aW9uVUkocmV3YXJkTG9ncy5qb2luKCcgfCAnKSk7DQogICAgfQ0KfQ0KDQphc3luYyBmdW5jdGlvbiBhdHRhY2tCb3NzKCkgew0KICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCBsb2FkUGFnZShET01BSU4gKyAnL2hvYW5nLXZ1YycpOw0KICAgIGNvbnN0IGhhc1Jld2FyZCA9IHBhZ2UuaHRtbC5pbmNsdWRlcygnaWQ9InJld2FyZC1idXR0b24iJyk7DQogICAgY29uc3Qgbm9uY2UgPSBwYWdlLmh0bWwubWF0Y2goL3ZhclxzK2FqYXhfYm9zc19ub25jZVxzKj1ccyonKFteJ10rKScvKT8uWzFdOw0KICAgIGlmIChoYXNSZXdhcmQpIHsNCiAgICAgICAgYXdhaXQgY2xhaW1Cb3NzQ2hlc3Qobm9uY2UpOw0KICAgICAgICBhd2FpdCBhdHRhY2tCb3NzKCk7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgY29uc3QgYm9zc0lkID0gcGFnZS5odG1sLm1hdGNoKC9ib3NzX2lkXHMqPT1ccyoiKFxkKykiLyk/LlsxXTsNCiAgICBpZiAoIW5vbmNlKSB7DQogICAgICAgIHJldHVybiBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5S0IFtIb2FuZyBW4buxY10gLSBLaMO0bmcgdMOsbSB0aOG6pXkgbm9uY2UgYXR0YWNrX2Jvc3NgKTsNCiAgICB9Ow0KICAgIGlmICghYm9zc0lkKSB7DQogICAgICAgIHJldHVybiBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5S0IFtIb2FuZyBW4buxY10gLSBLaMO0bmcgdMOsbSB0aOG6pXkgYm9zc0lkIGF0dGFja19ib3NzYCk7DQogICAgfTsNCiAgICBjb25zdCByZXF1ZXN0SWQgPSAncmVxXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCAxMSkgKyAnXycgKyBEYXRlLm5vdygpOw0KICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvc3RSZXF1ZXN0KEhIM0RfQUpBWF9VUkwsIHsNCiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgfSwNCiAgICAgICAgYm9keTogbmV3IFVSTFNlYXJjaFBhcmFtcyh7DQogICAgICAgICAgICBhY3Rpb246ICdhdHRhY2tfYm9zcycsDQogICAgICAgICAgICBib3NzX2lkOiBib3NzSWQsDQogICAgICAgICAgICBub25jZTogbm9uY2UsDQogICAgICAgICAgICByZXF1ZXN0X2lkOiByZXF1ZXN0SWQNCiAgICAgICAgfSkNCiAgICB9KTsNCiAgICBjb25zdCBtZXNzYWdlID0gcmVzdWx0LnN1Y2Nlc3MNCiAgICAgICAgPyAn8J+foiBbSG9hbmcgVuG7sWNdIC0gVOG6pW4gY8O0bmcgdGjDoG5oIGPDtG5nLicNCiAgICAgICAgOiBg8J+foSBbSG9hbmcgVuG7sWNdIC0gVOG6pW4gY8O0bmcgdGjhuqV0IGLhuqFpIC0gJHtyZXN1bHQuZGF0YT8uZXJyb3J9YDsNCiAgICBzaG93Tm90aWZpY2F0aW9uVUkoIG1lc3NhZ2UpOw0KfQ0KDQovLyBQaMO6YyBM4bujaSDEkMaw4budbmcNCmFzeW5jIGZ1bmN0aW9uIGNsYWltQm9udXNSZXdhcmQocGFnZSkgew0KICAgIGNvbnN0IGNsYWltUmVxdWVzdCA9IGFzeW5jIChpZCwgc2VjdXJpdHkpID0+IHsNCiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9zdFJlcXVlc3QoSEgzRF9BSkFYX1VSTCwgew0KICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgfSwNCiAgICAgICAgICAgIGJvZHk6IG5ldyBVUkxTZWFyY2hQYXJhbXMoew0KICAgICAgICAgICAgICAgIGFjdGlvbjogJ2NsYWltX2JvbnVzX3Jld2FyZCcsDQogICAgICAgICAgICAgICAgY2hlc3RfaWQ6IGlkLA0KICAgICAgICAgICAgICAgIHNlY3VyaXR5DQogICAgICAgICAgICB9KQ0KICAgICAgICB9KTsNCiAgICAgICAgc2hvd05vdGlmaWNhdGlvblVJKGAke3Jlc3VsdC5zdWNjZXNzID8gJ+KchScgOiAn4p2MJ30gW1Bow7pjIEzhu6NpIMSQxrDhu51uZ10gLSAke3Jlc3VsdC5kYXRhPy5tZXNzYWdlfWApOw0KICAgICAgICByZXR1cm4gISFyZXN1bHQuc3VjY2VzczsNCiAgICB9Ow0KDQogICAgaWYgKCFwYWdlKSB7DQogICAgICAgIHBhZ2UgPSBhd2FpdCBsb2FkUGFnZShET01BSU4gKyAnL3BodWMtbG9pLWR1b25nJyk7DQogICAgfQ0KICAgIGNvbnN0IGlkcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJld2FyZC1wcm9ncmVzcy1jb250YWluZXIgLm1pbGVzdG9uZScpKQ0KICAgICAgICAubWFwKG1pbGVzdG9uZSA9PiB7DQogICAgICAgICAgICBjb25zdCBnaWZ0Qm94ID0gbWlsZXN0b25lLnF1ZXJ5U2VsZWN0b3IoJy5naWZ0LWJveCcpOw0KICAgICAgICAgICAgaWYgKCFnaWZ0Qm94KSByZXR1cm4gbnVsbDsNCiAgICAgICAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IGdpZnRCb3guY2xhc3NMaXN0Ow0KICAgICAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBjbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpOw0KICAgICAgICAgICAgY29uc3QgaXNSZWNlaXZlZCA9IGNsYXNzTGlzdC5jb250YWlucygncmVjZWl2ZWQtcmV3YXJkJyk7DQogICAgICAgICAgICBjb25zdCBwb2ludGVyRXZlbnRzID0gKGdpZnRCb3guZ2V0QXR0cmlidXRlKCdzdHlsZScpIHx8ICcnKS5tYXRjaCgvcG9pbnRlci1ldmVudHNccyo6XHMqKFthLXpBLVotXSspLyk7DQogICAgICAgICAgICBjb25zdCBwb2ludGVydmFsdWUgPSBwb2ludGVyRXZlbnRzPy5bMV0/LnRyaW0oKTsNCiAgICAgICAgICAgIHJldHVybiAoaXNBY3RpdmUgJiYgIWlzUmVjZWl2ZWQgJiYgKCFwb2ludGVydmFsdWUgfHwgcG9pbnRlcnZhbHVlID09PSAnYXV0bycpKSA/IG1pbGVzdG9uZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSA6IG51bGw7DQogICAgICAgIH0pDQogICAgICAgIC5maWx0ZXIoQm9vbGVhbik7DQogICAgY29uc3QgcmVxdWVzdERhdGEgPSBnZXRSZXF1ZXN0RGF0YShwYWdlLmh0bWwpOw0KICAgIGNvbnN0IHNlY3VyaXR5ID0gcmVxdWVzdERhdGEuZmluZCh2YWx1ZSA9PiB2YWx1ZS5hY3Rpb24gPT09ICdjbGFpbV9ib251c19yZXdhcmQnKT8uc2VjdXJpdHk7DQogICAgaWYgKCFzZWN1cml0eSkgew0KICAgICAgICByZXR1cm4gc2hvd05vdGlmaWNhdGlvblVJKCBg8J+UtCBbUGjDumMgTOG7o2kgxJDGsOG7nW5nXSAtIEtow7RuZyB0w6xtIHRo4bqleSBzZWN1cml0eSBjbGFpbV9ib251c19yZXdhcmRgKTsNCiAgICB9DQogICAgZm9yIChjb25zdCBpZCBvZiBpZHMpIHsNCiAgICAgICAgaWYgKGF3YWl0IGNsYWltUmVxdWVzdChpZCwgc2VjdXJpdHkpICYmIE51bWJlcihpZCkgPT09IDMpIHsNCiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyNTApKTsNCiAgICAgICAgICAgIHJldHVybiBhd2FpdCBjbGFpbVJlcXVlc3QoNCwgc2VjdXJpdHkpOw0KICAgICAgICB9DQogICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyNTApKTsNCiAgICB9DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGdldE5leHRUaW1lUEwoc2VjdXJpdHkpIHsNCiAgICBpZiAoIXNlY3VyaXR5KSB7DQogICAgICAgIHJldHVybiBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5S0IFtQaMO6YyBM4bujaSDEkMaw4budbmddIC0gS2jDtG5nIHTDrG0gdGjhuqV5IHNlY3VyaXR5IGdldF9uZXh0X3RpbWVfcGxgKTsNCiAgICB9Ow0KICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvc3RSZXF1ZXN0KEhIM0RfQUpBWF9VUkwsIHsNCiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgfSwNCiAgICAgICAgYm9keTogbmV3IFVSTFNlYXJjaFBhcmFtcyh7DQogICAgICAgICAgICBhY3Rpb246ICdnZXRfbmV4dF90aW1lX3BsJywNCiAgICAgICAgICAgIHNlY3VyaXR5OiBzZWN1cml0eQ0KICAgICAgICB9KQ0KICAgIH0pOw0KICAgIGNvbnN0IGxldmVsID0gcGFyc2VJbnQocmVzdWx0LmRhdGE/LmNoZXN0X2xldmVsLCAxMCk7DQogICAgY29uc3QgdGltZSA9IHJlc3VsdC5kYXRhPy50aW1lOw0KICAgIGlmIChyZXN1bHQuc3VjY2VzcyAmJiAhaXNOYU4obGV2ZWwpKSB7DQogICAgICAgIGlmIChsZXZlbCA9PT0gNCkgew0KICAgICAgICAgICAgc2hvd05vdGlmaWNhdGlvblVJKCBg8J+foiBbUGjDumMgTOG7o2kgxJDGsOG7nW5nXSAtIMSQw6MgbeG7nyDEkeG7pyA0IHLGsMahbmcuYCk7DQogICAgICAgIH0gZWxzZSBpZiAodGltZSAhPT0gJzAwOjAwJykgew0KICAgICAgICAgICAgc2hvd05vdGlmaWNhdGlvblVJKCBg8J+foSBbUGjDumMgTOG7o2kgxJDGsOG7nW5nXSAtIENoxrBhIMSR4bq/biB0aOG7nWkgZ2lhbiBt4bufIHwgJHt0aW1lfWApOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuIGxldmVsICsgMTsNCiAgICAgICAgfQ0KICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5S0IFtQaMO6YyBM4bujaSDEkMaw4budbmddIC0gS2jDtG5nIGzhuqV5IMSRxrDhu6NjIGThu68gbGnhu4d1IGdldF9uZXh0X3RpbWVfcGxgKTsNCiAgICB9DQogICAgcmV0dXJuIG51bGwNCn0NCg0KYXN5bmMgZnVuY3Rpb24gb3BlbkNoZXN0UEwoKSB7DQogICAgY29uc3QgcGFnZSA9IGF3YWl0IGxvYWRQYWdlKERPTUFJTiArICcvcGh1Yy1sb2ktZHVvbmcnKTsNCiAgICBhd2FpdCBjbGFpbUJvbnVzUmV3YXJkKHBhZ2UpOw0KICAgIGNvbnN0IHNlY3VyaXR5ID0gcGFnZS5odG1sLm1hdGNoKC9nZXRfbmV4dF90aW1lX3BsW1xzXFNdKj9zZWN1cml0eVxzKjpccyonKFteJ10rKScvKT8uWzFdOw0KICAgIGNvbnN0IG5leHQgPSBhd2FpdCBnZXROZXh0VGltZVBMKHNlY3VyaXR5KTsNCiAgICBpZiAobmV4dCA9PT0gbnVsbCkgcmV0dXJuOw0KICAgIGlmICghc2VjdXJpdHkpIHsNCiAgICAgICAgcmV0dXJuIHNob3dOb3RpZmljYXRpb25VSSggYPCflLQgW1Bow7pjIEzhu6NpIMSQxrDhu51uZ10gLSBLaMO0bmcgdMOsbSB0aOG6pXkgc2VjdXJpdHkgb3Blbl9jaGVzdF9wbGApOw0KICAgIH07DQogICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9zdFJlcXVlc3QoSEgzRF9BSkFYX1VSTCwgew0KICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyB9LA0KICAgICAgICBib2R5OiBuZXcgVVJMU2VhcmNoUGFyYW1zKHsNCiAgICAgICAgICAgIGFjdGlvbjogJ29wZW5fY2hlc3RfcGwnLA0KICAgICAgICAgICAgc2VjdXJpdHk6IHNlY3VyaXR5LA0KICAgICAgICAgICAgY2hlc3RfaWQ6IG5leHQNCiAgICAgICAgfSkNCiAgICB9KTsNCiAgICBjb25zdCBtZXNzYWdlID0gcmVzdWx0LnN1Y2Nlc3MNCiAgICAgICAgPyBg8J+foiBbUGjDumMgTOG7o2kgxJDGsOG7nW5nXSAtIFLGsMahbmcgJHtuZXh0fSAtICR7cmVzdWx0LmRhdGE/Lm1lc3NhZ2V9YA0KICAgICAgICA6IGDwn5+hIFtQaMO6YyBM4bujaSDEkMaw4budbmddIC0gS2jDtG5nIHRow6BuaCBjw7RuZyAtICR7cmVzdWx0LmRhdGE/Lm1lc3NhZ2V9YDsNCiAgICBzaG93Tm90aWZpY2F0aW9uVUkoIG1lc3NhZ2UpOw0KfQ0KDQovLyBUaMOtIEx1eeG7h24gVMO0bmcgTcO0bg0KYXN5bmMgZnVuY3Rpb24gZ2V0UmVtYWluaW5nVGltZVRMVE0oc2VjdXJpdHkpIHsNCiAgICBpZiAoIXNlY3VyaXR5KSB7DQogICAgICAgIHJldHVybiBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5S0IFtUaMOtIEx1eeG7h24gVMO0bmcgTcO0bl0gLSBLaMO0bmcgdMOsbSB0aOG6pXkgc2VjdXJpdHkgZ2V0X3JlbWFpbmluZ190aW1lX3RsdG1gKTsNCiAgICB9Ow0KICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvc3RSZXF1ZXN0KEhIM0RfQUpBWF9VUkwsIHsNCiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgfSwNCiAgICAgICAgYm9keTogbmV3IFVSTFNlYXJjaFBhcmFtcyh7DQogICAgICAgICAgICBhY3Rpb246ICdnZXRfcmVtYWluaW5nX3RpbWVfdGx0bScsDQogICAgICAgICAgICBzZWN1cml0eTogc2VjdXJpdHksDQogICAgICAgIH0pLA0KICAgIH0pOw0KICAgIGNvbnN0IHRpbWUgPSByZXN1bHQuZGF0YT8udGltZV9yZW1haW5pbmc7DQogICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7DQogICAgICAgIGlmICh0aW1lICE9PSAnMDA6MDAnKSB7DQogICAgICAgICAgICBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5+hIFtUaMOtIEx1eeG7h24gVMO0bmcgTcO0bl0gLSBDaMawYSDEkeG6v24gdGjhu51pIGdpYW4gbeG7nyB8ICR7dGltZX1gKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJldHVybiB0aW1lOw0KICAgICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIHNob3dOb3RpZmljYXRpb25VSSggYPCflLQgW1Row60gTHV54buHbiBUw7RuZyBNw7RuXSAtIEtow7RuZyBs4bqleSDEkcaw4bujYyBk4buvIGxp4buHdSBnZXRfbmV4dF90aW1lX3BsYCk7DQogICAgfQ0KICAgIHJldHVybiBudWxsOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBvcGVuQ2hlc3RUTFRNKCkgew0KICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCBsb2FkUGFnZShET01BSU4gKyAnL3RoaS1sdXllbi10b25nLW1vbi1oaDNkJyk7DQogICAgY29uc3Qgc2VjdXJpdHkgPSBwYWdlLmh0bWwubWF0Y2goL2dldF9yZW1haW5pbmdfdGltZV90bHRtW1xzXFNdKj9zZWN1cml0eVxzKjpccyonKFteJ10rKScvKT8uWzFdOw0KICAgIGNvbnN0IG5leHQgPSBhd2FpdCBnZXRSZW1haW5pbmdUaW1lVExUTShzZWN1cml0eSk7DQogICAgaWYgKG5leHQgPT09IG51bGwpIHJldHVybjsNCiAgICBpZiAoIXNlY3VyaXR5KSB7DQogICAgICAgIHJldHVybiBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5S0IFtUaMOtIEx1eeG7h24gVMO0bmcgTcO0bl0gLSBLaMO0bmcgdMOsbSB0aOG6pXkgc2VjdXJpdHkgb3Blbl9jaGVzdF90bHRtYCk7DQogICAgfTsNCiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb3N0UmVxdWVzdChISDNEX0FKQVhfVVJMLCB7DQogICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnIH0sDQogICAgICAgIGJvZHk6IG5ldyBVUkxTZWFyY2hQYXJhbXMoew0KICAgICAgICAgICAgYWN0aW9uOiAnb3Blbl9jaGVzdF90bHRtJywNCiAgICAgICAgICAgIHNlY3VyaXR5OiBzZWN1cml0eSwNCiAgICAgICAgfSksDQogICAgfSk7DQogICAgY29uc3QgbWVzc2FnZSA9IHJlc3VsdC5zdWNjZXNzDQogICAgICAgID8gYPCfn6IgW1Row60gTHV54buHbiBUw7RuZyBNw7RuXSAtIE3hu58gdGjDoG5oIGPDtG5nIC0gJHtyZXN1bHQuZGF0YT8ubWVzc2FnZX1gDQogICAgICAgIDogYPCfn6EgW1Row60gTHV54buHbiBUw7RuZyBNw7RuXSAtICR7cmVzdWx0LmRhdGE/Lm1lc3NhZ2V9YDsNCiAgICBzaG93Tm90aWZpY2F0aW9uVUkoIG1lc3NhZ2UpOw0KfQ0KDQovLyBW4bqlbiDEkMOhcA0KYXN5bmMgZnVuY3Rpb24gcnVuUXVpeigpIHsNCiAgICBjb25zdCBiYW5rID0gT2JqZWN0LmZyb21FbnRyaWVzKA0KICAgICAgICBPYmplY3QuZW50cmllcyhxdWl6QmFuaykubWFwKChba2V5LCB2YWx1ZV0pID0+IFtub3JtYWxpemUoa2V5KSwgbm9ybWFsaXplKHZhbHVlKV0pDQogICAgKTsNCiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb3N0UmVxdWVzdChISDNEX0FKQVhfVVJMLCB7DQogICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnIH0sDQogICAgICAgIGJvZHk6IG5ldyBVUkxTZWFyY2hQYXJhbXMoeyBhY3Rpb246ICdsb2FkX3F1aXpfZGF0YScgfSksDQogICAgfSk7DQogICAgY29uc3QgeyBzdWNjZXNzLCBkYXRhIH0gPSByZXN1bHQgfHwge307DQogICAgY29uc3QgeyBxdWVzdGlvbnMsIGNvbXBsZXRlZCB9ID0gZGF0YSB8fCB7fTsNCiAgICBpZiAoIXN1Y2Nlc3MgfHwgIWRhdGEgfHwgIXF1ZXN0aW9ucykgew0KICAgICAgICByZXR1cm4gc2hvd05vdGlmaWNhdGlvblVJKCBg8J+UtCBbVuG6pW4gxJDDoXBdIC0gS2jDtG5nIGzhuqV5IMSRxrDhu6NjIGThu68gbGnhu4d1IGxvYWRfcXVpel9kYXRhYCk7DQogICAgfQ0KICAgIGlmIChjb21wbGV0ZWQpIHsNCiAgICAgICAgcmV0dXJuIHNob3dOb3RpZmljYXRpb25VSSggJ/Cfn6EgW1bhuqVuIMSQw6FwXSAtIMSQw6MgaG/DoG4gdGjDoG5oIScpOw0KICAgIH0NCiAgICBmb3IgKGNvbnN0IFtpbmRleCwgdmFsdWVdIG9mIHF1ZXN0aW9ucy5lbnRyaWVzKCkpIHsNCiAgICAgICAgY29uc3QgY29ycmVjdCA9IHBhcnNlSW50KHZhbHVlLmlzX2NvcnJlY3QsIDEwKSB8fCAwOw0KICAgICAgICBpZiAoY29ycmVjdCA9PT0gMSkgew0KICAgICAgICAgICAgc2hvd05vdGlmaWNhdGlvblVJKGDinIUgW1bhuqVuIMSQw6FwXSAtIEPDonUgJHtpbmRleCArIDF9YCk7DQogICAgICAgIH0gZWxzZSBpZiAoY29ycmVjdCA9PT0gMikgew0KICAgICAgICAgICAgc2hvd05vdGlmaWNhdGlvblVJKGDinYwgW1bhuqVuIMSQw6FwXSAtIEPDonUgJHtpbmRleCArIDF9YCk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBjb25zdCBxdWVzdGlvbiA9IG5vcm1hbGl6ZSh2YWx1ZS5xdWVzdGlvbik7DQogICAgICAgICAgICBjb25zdCBhbnN3ZXIgPSBiYW5rW3F1ZXN0aW9uXSA/PyAnJzsNCiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB2YWx1ZS5vcHRpb25zLm1hcChvcHRpb24gPT4gdHlwZW9mIG9wdGlvbiA9PT0gJ3N0cmluZycgPyBvcHRpb24gOiBvcHRpb24uY29udGVudCk7DQogICAgICAgICAgICBjb25zdCBhbnN3ZXJJbmRleCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDMsIGJlc3RNYXRjaChvcHRpb25zLCBhbnN3ZXIpKSk7DQogICAgICAgICAgICBhd2FpdCBzYXZlUXVpelJlc3VsdCh2YWx1ZS5pZCwgYW5zd2VySW5kZXgsIGluZGV4KTsNCiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyNTApKTsNCiAgICAgICAgfQ0KICAgIH07DQogICAgc2hvd05vdGlmaWNhdGlvblVJKCBg8J+foiBbVuG6pW4gxJDDoXBdIC0gxJDDoyBob8OgbiB0aMOgbmguYCk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHNhdmVRdWl6UmVzdWx0KHF1ZXN0aW9uX2lkLCBhbnN3ZXIsIGluZGV4KSB7DQogICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9zdFJlcXVlc3QoSEgzRF9BSkFYX1VSTCwgew0KICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyB9LA0KICAgICAgICBib2R5OiBuZXcgVVJMU2VhcmNoUGFyYW1zKHsNCiAgICAgICAgICAgIGFjdGlvbjogJ3NhdmVfcXVpel9yZXN1bHQnLA0KICAgICAgICAgICAgcXVlc3Rpb25faWQ6IHF1ZXN0aW9uX2lkLA0KICAgICAgICAgICAgYW5zd2VyOiBhbnN3ZXINCiAgICAgICAgfSksDQogICAgfSk7DQogICAgaWYgKHJlc3VsdC5zdWNjZXNzKSB7DQogICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXJzZUludChyZXN1bHQuZGF0YT8uaXNfY29ycmVjdCwgMTApID09PSAxDQogICAgICAgICAgICA/IGDinIUgW1bhuqVuIMSQw6FwXSAtIEPDonUgJHtpbmRleCArIDF9YA0KICAgICAgICAgICAgOiBg4p2MIFtW4bqlbiDEkMOhcF0gLSBDw6J1ICR7aW5kZXggKyAxfWA7DQogICAgICAgIHNob3dOb3RpZmljYXRpb25VSShtZXNzYWdlKTsNCiAgICB9IGVsc2Ugew0KICAgICAgICBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5S0IFtW4bqlbiDEkMOhcF0gLSBDaMawYSB0cuG6oyBs4budaSBjw6J1ICR7aW5kZXggKyAxfWApOw0KICAgIH0NCn0NCg0KLy8gVOG6vyBM4buFDQphc3luYyBmdW5jdGlvbiB0ZUxlVG9uZ01vbigpIHsNCiAgICBjb25zdCBub25jZSA9IEJldHRlcl9NZXNzYWdlcy5ub25jZTsNCiAgICBpZiAoIW5vbmNlKSB7DQogICAgICAgIHJldHVybiBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5S0IFtU4bq/IEzhu4VdIC0gS2jDtG5nIHTDrG0gdGjhuqV5IG5vbmNlIHRlX2xlX3RvbmdfbW9uYCk7DQogICAgfTsNCiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb3N0UmVxdWVzdChBRE1JTl9BSkFYX1VSTCwgew0KICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyB9LA0KICAgICAgICBib2R5OiBuZXcgVVJMU2VhcmNoUGFyYW1zKHsNCiAgICAgICAgICAgIGFjdGlvbjogJ3RlX2xlX3RvbmdfbW9uJywNCiAgICAgICAgICAgIG5vbmNlOiBub25jZQ0KICAgICAgICB9KSwNCiAgICB9KTsNCiAgICBjb25zdCBtZXNzYWdlID0gcmVzdWx0LnN1Y2Nlc3MNCiAgICAgICAgPyBg8J+foiBbVOG6vyBM4buFXSAtIFRow6BuaCBjw7RuZy5gDQogICAgICAgIDogYPCfn6EgW1Thur8gTOG7hV0gLSAke3Jlc3VsdC5kYXRhfWA7DQogICAgICAgIHNob3dOb3RpZmljYXRpb25VSSggbWVzc2FnZSk7DQp9DQoNCi8vIEhv4bqhdCDEkOG7mW5nIEjhurFuZyBOZ8OgeQ0KYXN5bmMgZnVuY3Rpb24gY2xhaW1EYWlseUFjdGl2aXR5UmV3YXJkKCkgew0KICAgIGNvbnN0IGNsYWltUmVxdWVzdCA9IGFzeW5jIChzdGFnZSkgPT4gew0KICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb3N0UmVxdWVzdChBRE1JTl9BSkFYX1VSTCwgew0KICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgfSwNCiAgICAgICAgICAgIGJvZHk6IG5ldyBVUkxTZWFyY2hQYXJhbXMoew0KICAgICAgICAgICAgICAgIGFjdGlvbjogJ2RhaWx5X2FjdGl2aXR5X3Jld2FyZCcsDQogICAgICAgICAgICAgICAgc3RhZ2U6ICdzdGFnZScgKyBzdGFnZQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSk7DQogICAgICAgIGNvbnN0IG1lc3NhZ2UgPSByZXN1bHQuc3VjY2Vzcw0KICAgICAgICAgICAgPyBg4pyFIFtIb+G6oXQgxJDhu5luZyBI4bqxbmcgTmfDoHldIC0gTmjhuq1uIHRow6BuaCBjw7RuZyAtICR7c3RhZ2V9YA0KICAgICAgICAgICAgOiBg4p2MIFtIb+G6oXQgxJDhu5luZyBI4bqxbmcgTmfDoHldIC0gTmjhuq1uIHRo4bqldCBi4bqhaSAtICR7cmVzdWx0LmRhdGE/Lm1lc3NhZ2V9YA0KICAgICAgICBzaG93Tm90aWZpY2F0aW9uVUkobWVzc2FnZSk7DQogICAgICAgIHJldHVybiAhIXJlc3VsdC5zdWNjZXNzOw0KICAgIH07DQoNCiAgICBjb25zdCBwYWdlID0gYXdhaXQgbG9hZFBhZ2UoRE9NQUlOICsgJy9iYW5nLWhvYXQtZG9uZy1uZ2F5Jyk7DQogICAgY29uc3QgYm94ZXMgPSBwYWdlLmRvYy5xdWVyeVNlbGVjdG9yQWxsKCdbaWRePSJyZXdhcmQtYm94LSJdJyk7DQogICAgbGV0IGNvdW50ID0gMDsNCiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJveGVzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGNvbnN0IGJveCA9IGJveGVzW2ldOw0KICAgICAgICBjb25zdCBzdGFnZSA9IGkgKyAxOw0KICAgICAgICBpZiAoYm94LmNsYXNzTGlzdC5jb250YWlucygnY2xhaW1lZCcpKSB7DQogICAgICAgICAgICBjb3VudCArPSAxOw0KICAgICAgICB9IGVsc2UgaWYgKGJveC5jbGFzc0xpc3QuY29udGFpbnMoJ3VubG9ja2VkJykpIHsNCiAgICAgICAgICAgIGlmIChhd2FpdCBjbGFpbVJlcXVlc3Qoc3RhZ2UpKSB7DQogICAgICAgICAgICAgICAgY291bnQgKz0gMTsNCiAgICAgICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjUwKSk7DQogICAgICAgICAgICB9Ow0KICAgICAgICB9DQogICAgfQ0KICAgIHNob3dOb3RpZmljYXRpb25VSSggYPCfn6IgW0hv4bqhdCDEkOG7mW5nIEjhurFuZyBOZ8OgeV0gLSDEkMOjIG5o4bqtbiAke2NvdW50fWApOw0KfQ0KDQovLyBMdeG6rW4gVsO1DQphc3luYyBmdW5jdGlvbiBoYW5kbGVGb2xsb3coeyBpZHMsIGNsZWFuID0gZmFsc2UgfSkgew0KICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCBsb2FkUGFnZShET01BSU4gKyAnL2x1YW4tdm8tZHVvbmcnKTsNCiAgICBjb25zdCBzY3JpcHQgPSBwYWdlLmRvYy5nZXRFbGVtZW50QnlJZCgnY3VzdG9tLWFqYXgtY2hhbGxlbmdlLWpzLWV4dHJhJyk/LnRleHRDb250ZW50Ow0KICAgIGNvbnN0IG1hdGNoID0gc2NyaXB0Py5tYXRjaCgvXHtbXHNcU10qXH0vKTsNCiAgICBjb25zdCBkYXRhID0gbWF0Y2ggPyBKU09OLnBhcnNlKG1hdGNoWzBdLnJlcGxhY2UoL1xcXC8vZywgJy8nKSkgOiB7fTsNCiAgICBpZiAoY2xlYW4pIHsNCiAgICAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCBnZXRVc2Vycyh7IGFjdGlvbjogJ2dldF9mb2xsb3dpbmdfdXNlcnMnLCBub25jZTogZGF0YS5ub25jZSwgbG9hZG1vcmU6IHRydWUgfSk7DQogICAgICAgIGF3YWl0IGhhbmRsZVVuZm9sbG93KHVzZXJzKTsNCiAgICB9Ow0KICAgIGNvbnN0IGN1cnJlbnRJZCA9IHBhcnNlSW50KGRhdGEuY3VycmVudF91c2VyX2lkKTsNCiAgICBpZiAoIWRhdGEubm9uY2UpIHsNCiAgICAgICAgcmV0dXJuIHNob3dOb3RpZmljYXRpb25VSSggYPCflLQgW0x14bqtbiBWw7VdIC0gS2jDtG5nIHTDrG0gdGjhuqV5IG5vbmNlIGhhbmRsZV9mb2xsb3dgKTsNCiAgICB9Ow0KICAgIGZvciAoY29uc3QgaWQgb2YgaWRzKSB7DQogICAgICAgIGlmIChpZCA9PT0gY3VycmVudElkKSBjb250aW51ZTsNCiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9zdFJlcXVlc3QoSEgzRF9BSkFYX1VSTCwgew0KICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgfSwNCiAgICAgICAgICAgIGJvZHk6IG5ldyBVUkxTZWFyY2hQYXJhbXMoew0KICAgICAgICAgICAgICAgIGFjdGlvbjogJ2hhbmRsZV9mb2xsb3cnLA0KICAgICAgICAgICAgICAgIGZvbGxvd2VkX3VzZXJfaWQ6IGlkLA0KICAgICAgICAgICAgICAgIG5vbmNlOiBkYXRhLm5vbmNlDQogICAgICAgICAgICB9KQ0KICAgICAgICB9KTsNCiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHJlc3VsdC5zdWNjZXNzDQogICAgICAgICAgICA/IGDinIUgW0x14bqtbiBWw7VdIC0gVGhlbyBkw7VpIHRow6BuaCBjw7RuZyBJRDogJHtpZH1gDQogICAgICAgICAgICA6IGDinYwgW0x14bqtbiBWw7VdIC0gVGhlbyBkw7VpIHRo4bqldCBi4bqhaSBJRDogJHtpZH1gOw0KICAgICAgICAgICAgc2hvd05vdGlmaWNhdGlvblVJKG1lc3NhZ2UpOw0KICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjUwKSk7DQogICAgfQ0KICAgIHNob3dOb3RpZmljYXRpb25VSSggYPCfn6IgW0x14bqtbiBWw7VdIC0gSG/DoG4gdGjDoG5oIHjhu60gbMO9IHRoZW8gZMO1aS5gKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gaGFuZGxlVW5mb2xsb3codXNlcnMpIHsNCiAgICBjb25zdCBwYWdlID0gYXdhaXQgbG9hZFBhZ2UoRE9NQUlOICsgJy9sdWFuLXZvLWR1b25nJyk7DQogICAgY29uc3Qgc2NyaXB0ID0gcGFnZS5kb2MuZ2V0RWxlbWVudEJ5SWQoJ2N1c3RvbS1hamF4LWNoYWxsZW5nZS1qcy1leHRyYScpPy50ZXh0Q29udGVudDsNCiAgICBjb25zdCBtYXRjaCA9IHNjcmlwdD8ubWF0Y2goL1x7W1xzXFNdKlx9Lyk7DQogICAgY29uc3QgZGF0YSA9IG1hdGNoID8gSlNPTi5wYXJzZShtYXRjaFswXS5yZXBsYWNlKC9cXFwvL2csICcvJykpIDoge307DQogICAgaWYgKCFkYXRhLm5vbmNlKSB7DQogICAgICAgIHJldHVybiBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5S0IFtMdeG6rW4gVsO1XSAtIEtow7RuZyB0w6xtIHRo4bqleSBub25jZSBoYW5kbGVfdW5mb2xsb3dgKTsNCiAgICB9Ow0KICAgIGNvbnN0IGN1cnJlbnRJZCA9IHBhcnNlSW50KGRhdGEuY3VycmVudF91c2VyX2lkKTsNCiAgICBmb3IgKGNvbnN0IHVzZXIgb2YgdXNlcnMpIHsNCiAgICAgICAgY29uc3QgaWQgPSB1c2VyLmlkOw0KICAgICAgICBpZiAoaWQgPT09IGN1cnJlbnRJZCkgY29udGludWU7DQogICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvc3RSZXF1ZXN0KEhIM0RfQUpBWF9VUkwsIHsNCiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnIH0sDQogICAgICAgICAgICBib2R5OiBuZXcgVVJMU2VhcmNoUGFyYW1zKHsNCiAgICAgICAgICAgICAgICBhY3Rpb246ICdoYW5kbGVfdW5mb2xsb3cnLA0KICAgICAgICAgICAgICAgIHVuZm9sbG93X3VzZXJfaWQ6IGlkLA0KICAgICAgICAgICAgICAgIG5vbmNlOiBkYXRhLm5vbmNlDQogICAgICAgICAgICB9KQ0KICAgICAgICB9KTsNCiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHJlc3VsdC5zdWNjZXNzDQogICAgICAgICAgICA/IGDinIUgW0x14bqtbiBWw7VdIC0gSOG7p3kgdGhlbyBkw7VpIHRow6BuaCBjw7RuZyBJRDogJHtpZH1gDQogICAgICAgICAgICA6IGDinYwgW0x14bqtbiBWw7VdIC0gSOG7p3kgdGhlbyBkw7VpIHRo4bqldCBi4bqhaSBJRDogJHtpZH1gOw0KICAgICAgICAgICAgc2hvd05vdGlmaWNhdGlvblVJKG1lc3NhZ2UpOw0KICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjUwKSk7DQogICAgfQ0KICAgIHNob3dOb3RpZmljYXRpb25VSSggYPCfn6IgW0x14bqtbiBWw7VdIC0gSG/DoG4gdGjDoG5oIHjhu60gbMO9IGjhu6d5IHRoZW8gZMO1aS5gKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gZ2V0VXNlcnMoeyBhY3Rpb24sIG5vbmNlLCBwYWdlID0gMSwgY3VycmVudCA9IFtdLCBsb2FkbW9yZSB9KSB7DQogICAgaWYgKCFub25jZSkgew0KICAgICAgICByZXR1cm4gc2hvd05vdGlmaWNhdGlvblVJKCBg8J+UtCBbTHXhuq1uIFbDtV0gLSBLaMO0bmcgdMOsbSB0aOG6pXkgbm9uY2UgJHthY3Rpb259YCk7DQogICAgfTsNCiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb3N0UmVxdWVzdChISDNEX0FKQVhfVVJMLCB7DQogICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnIH0sDQogICAgICAgIGJvZHk6IG5ldyBVUkxTZWFyY2hQYXJhbXMoew0KICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sDQogICAgICAgICAgICBwYWdlOiBwYWdlLA0KICAgICAgICAgICAgbm9uY2U6IG5vbmNlDQogICAgICAgIH0pDQogICAgfSk7DQogICAgaWYgKCFyZXN1bHQuc3VjY2VzcyB8fCAhcmVzdWx0LmRhdGE/Lmh0bWwpIHJldHVybiBjdXJyZW50Ow0KICAgIGNvbnN0IGRvYyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcocmVzdWx0LmRhdGEuaHRtbCwgJ3RleHQvaHRtbCcpOw0KICAgIGNvbnN0IGNhcmRzID0gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJkLWJveCcpOw0KICAgIGNvbnN0IHVzZXJzID0gQXJyYXkuZnJvbShjYXJkcykubWFwKGNhcmQgPT4gew0KICAgICAgICBjb25zdCBpZCA9IHBhcnNlSW50KGNhcmQucXVlcnlTZWxlY3RvcignYVtocmVmKj0iL3Byb2ZpbGUvIl0nKT8uaHJlZj8ubWF0Y2goL1wvcHJvZmlsZVwvKFxkKykvKT8uWzFdKTsNCiAgICAgICAgaWYgKCFpZCkgcmV0dXJuIG51bGw7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBpZDogaWQsDQogICAgICAgICAgICByYW5rOiBjYXJkLnF1ZXJ5U2VsZWN0b3IoJ2g0Jyk/LnRleHRDb250ZW50LnRyaW0oKSB8fCAnJywNCiAgICAgICAgICAgIGNoYWxsZW5nZXNMZWZ0OiArKGNhcmQucXVlcnlTZWxlY3RvcignLmNoYWxsZW5nZV9udW1iZXJfYWNjZXB0Jyk/LnRleHRDb250ZW50LnJlcGxhY2UoL1xEL2csICcnKSB8fCAnMCcpLA0KICAgICAgICAgICAgYXV0b0FjY2VwdDogISFjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5hdXRvLWFjY2VwdC1vbicpDQogICAgICAgIH07DQogICAgfSkuZmlsdGVyKEJvb2xlYW4pOw0KICAgIGNvbnN0IGFsbFVzZXJzID0gWy4uLmN1cnJlbnQsIC4uLnVzZXJzXTsNCiAgICBpZiAocmVzdWx0LmRhdGEubG9hZF9tb3JlICYmIGxvYWRtb3JlKSB7DQogICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyNTApKTsNCiAgICAgICAgcmV0dXJuIGF3YWl0IGdldFVzZXJzKHsgYWN0aW9uLCBub25jZSwgcGFnZTogcGFnZSArIDEsIGN1cnJlbnQ6IGFsbFVzZXJzLCBsb2FkbW9yZTogdHJ1ZSB9KTsNCiAgICB9DQogICAgcmV0dXJuIGFsbFVzZXJzOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBqb2luQmF0dGxlKCkgew0KICAgIGNvbnN0IG5vbmNlID0gQmV0dGVyX01lc3NhZ2VzLm5vbmNlOw0KICAgIGlmICghbm9uY2UpIHsNCiAgICAgICAgc2hvd05vdGlmaWNhdGlvblVJKCBg8J+UtCBbTHXhuq1uIFbDtV0gLSBLaMO0bmcgdMOsbSB0aOG6pXkgbm9uY2Ugam9pbl9iYXR0bGVfbmV3YCk7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9Ow0KICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvc3RSZXF1ZXN0KEFDVElPTl9VUkwsIHsNCiAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICAgICAgICAgICd4LXdwLW5vbmNlJzogbm9uY2UNCiAgICAgICAgfSwNCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhY3Rpb246ICdqb2luX2JhdHRsZV9uZXcnIH0pDQogICAgfSk7DQogICAgY29uc3QgbWVzc2FnZSA9IHJlc3VsdC5zdWNjZXNzDQogICAgICAgID8gYOKchSBbTHXhuq1uIFbDtV0gLSBUaGFtIGdpYSB0aMOgbmggY8O0bmcuYA0KICAgICAgICA6IGDinYwgW0x14bqtbiBWw7VdIC0gVGhhbSBnaWEgdGjhuqV0IGLhuqFpLmANCiAgICAgICAgc2hvd05vdGlmaWNhdGlvblVJKG1lc3NhZ2UpOw0KICAgIHJldHVybiAhIXJlc3VsdC5zdWNjZXNzOw0KfQ0KDQphc3luYyBmdW5jdGlvbiB0b2dnbGVBdXRvQWNjZXB0KGlzT24pIHsNCiAgICBjb25zdCBub25jZSA9IEJldHRlcl9NZXNzYWdlcy5ub25jZTsNCiAgICBpZiAoIW5vbmNlKSB7DQogICAgICAgIHJldHVybiBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5S0IFtMdeG6rW4gVsO1XSAtIEtow7RuZyB0w6xtIHRo4bqleSBub25jZSB0b2dnbGVfYXV0b19hY2NlcHRgKTsNCiAgICB9Ow0KICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvc3RSZXF1ZXN0KEFDVElPTl9VUkwsIHsNCiAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICAgICAgICAgICd4LXdwLW5vbmNlJzogbm9uY2UNCiAgICAgICAgfSwNCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhY3Rpb246ICd0b2dnbGVfYXV0b19hY2NlcHQnIH0pLA0KICAgIH0pOw0KICAgIGNvbnN0IG1lc3NhZ2UgPSByZXN1bHQuc3VjY2Vzcw0KICAgICAgICA/IGDinIUgW0x14bqtbiBWw7VdIC0gJHtpc09uID8gJ0Lhuq10JyA6ICdU4bqvdCd9IHThu7EgxJHhu5luZyBraGnDqnUgY2hp4bq/biB0aMOgbmggY8O0bmcuYA0KICAgICAgICA6IGDinYwgW0x14bqtbiBWw7VdIC0gJHtpc09uID8gJ0Lhuq10JyA6ICdU4bqvdCd9IHThu7EgxJHhu5luZyBraGnDqnUgY2hp4bq/biB0aOG6pXQgYuG6oWkuYDsNCiAgICBzaG93Tm90aWZpY2F0aW9uVUkobWVzc2FnZSk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHJlY2VpdmVSZXdhcmQobm9uY2UpIHsNCiAgICBpZiAoIW5vbmNlKSB7DQogICAgICAgIHJldHVybiBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5S0IFtMdeG6rW4gVsO1XSAtIEtow7RuZyB0w6xtIHRo4bqleSBub25jZSByZWNlaXZlX3Jld2FyZGApOw0KICAgIH07DQogICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9zdFJlcXVlc3QoSEgzRF9BSkFYX1VSTCwgew0KICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyB9LA0KICAgICAgICBib2R5OiBuZXcgVVJMU2VhcmNoUGFyYW1zKHsNCiAgICAgICAgICAgIGFjdGlvbjogJ3JlY2VpdmVfcmV3YXJkJywNCiAgICAgICAgICAgIG5vbmNlOiBub25jZQ0KICAgICAgICB9KQ0KICAgIH0pOw0KICAgIGNvbnN0IG1lc3NhZ2UgPSByZXN1bHQuc3VjY2Vzcw0KICAgICAgICA/IGDinIUgW0x14bqtbiBWw7VdIC0gTmjhuq1uIHRoxrDhu59uZyB0aMOgbmggY8O0bmcgLSAke3Jlc3VsdC5kYXRhPy5tZXNzYWdlfWANCiAgICAgICAgOiBg4p2MIFtMdeG6rW4gVsO1XSAtIE5o4bqtbiB0aMaw4bufbmcgdGjhuqV0IGLhuqFpIC0gJHtyZXN1bHQuZGF0YT8ubWVzc2FnZX1gOw0KICAgIHNob3dOb3RpZmljYXRpb25VSShtZXNzYWdlKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gZ2V0UmVjZWl2ZWRDaGFsbGVuZ2VzKCkgew0KICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCBsb2FkUGFnZShET01BSU4gKyAnL2x1YW4tdm8tZHVvbmcnKTsNCiAgICBjb25zdCBzY3JpcHQgPSBwYWdlLmRvYy5nZXRFbGVtZW50QnlJZCgnY3VzdG9tLWFqYXgtY2hhbGxlbmdlLWpzLWV4dHJhJyk/LnRleHRDb250ZW50Ow0KICAgIGNvbnN0IG1hdGNoID0gc2NyaXB0Py5tYXRjaCgvXHtbXHNcU10qXH0vKTsNCiAgICBjb25zdCBkYXRhID0gbWF0Y2ggPyBKU09OLnBhcnNlKG1hdGNoWzBdLnJlcGxhY2UoL1xcXC8vZywgJy8nKSkgOiB7fTsNCiAgICBpZiAoIWRhdGEubm9uY2UpIHsNCiAgICAgICAgc2hvd05vdGlmaWNhdGlvblVJKCc8PicsIGDwn5S0IFtMdeG6rW4gVsO1XSAtIEtow7RuZyB0w6xtIHRo4bqleSBub25jZSBnZXRfcmVjZWl2ZWRfY2hhbGxlbmdlc2ApOw0KICAgICAgICByZXR1cm4gW107DQogICAgfTsNCiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb3N0UmVxdWVzdChISDNEX0FKQVhfVVJMLCB7DQogICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnIH0sDQogICAgICAgIGJvZHk6IG5ldyBVUkxTZWFyY2hQYXJhbXMoew0KICAgICAgICAgICAgYWN0aW9uOiAnZ2V0X3JlY2VpdmVkX2NoYWxsZW5nZXMnLA0KICAgICAgICAgICAgbm9uY2U6IGRhdGEubm9uY2UNCiAgICAgICAgfSkNCiAgICB9KTsNCiAgICBpZiAoIXJlc3VsdC5zdWNjZXNzIHx8ICFyZXN1bHQuZGF0YT8uaHRtbCkgcmV0dXJuIHsgY2hhbGxlbmdlczogW10sIG5vbmNlIH07DQogICAgY29uc3QgZG9jID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhyZXN1bHQuZGF0YS5odG1sLCAndGV4dC9odG1sJyk7DQogICAgY29uc3QgY2hhbGxlbmdlcyA9IEFycmF5LmZyb20oZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJ3Rib2R5IHRyJykpLm1hcChyb3cgPT4gew0KICAgICAgICBjb25zdCBidXR0b24gPSByb3cucXVlcnlTZWxlY3RvcignLmFwcHJvdmUtcmVxdWVzdCcpOw0KICAgICAgICBjb25zdCBuYW1lID0gcm93LnF1ZXJ5U2VsZWN0b3IoJy5jaGFsbGVuZ2VyLW5hbWUnKT8udGV4dENvbnRlbnQudHJpbSgpIHx8ICcnOw0KICAgICAgICBjb25zdCBwb3dlciA9IHBhcnNlSW50KHJvdy5jaGlsZHJlblsxXT8udGV4dENvbnRlbnQudHJpbSgpIHx8ICcwJyk7DQogICAgICAgIGNvbnN0IHRhcmdldF91c2VyX2lkID0gcGFyc2VJbnQoYnV0dG9uPy5kYXRhc2V0LnVzZXJJZCB8fCAnMCcpOw0KICAgICAgICBjb25zdCBjaGFsbGVuZ2VfaWQgPSBidXR0b24/LmRhdGFzZXQuY2hhbGxlbmdlSWQgfHwgJyc7DQogICAgICAgIHJldHVybiB7IG5hbWUsIHBvd2VyLCB0YXJnZXRfdXNlcl9pZCwgY2hhbGxlbmdlX2lkIH07DQogICAgfSkuZmlsdGVyKGNoYWxsZW5nZSA9PiBjaGFsbGVuZ2UudGFyZ2V0X3VzZXJfaWQgJiYgY2hhbGxlbmdlLmNoYWxsZW5nZV9pZCk7DQogICAgcmV0dXJuIHsgY2hhbGxlbmdlcywgbm9uY2UgfTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVqZWN0UmVjZWl2ZWRDaGFsbGVuZ2UoY2hhbGxlbmdlLCBub25jZSkgew0KICAgIGlmICghbm9uY2UpIHsNCiAgICAgICAgcmV0dXJuIHNob3dOb3RpZmljYXRpb25VSSgnPD4nLCBg8J+UtCBbTHXhuq1uIFbDtV0gLSBLaMO0bmcgdMOsbSB0aOG6pXkgbm9uY2UgaGFuZGxlX3JlamVjdF9yZWNlaXZlZF9jaGFsbGVuZ2VgKTsNCiAgICB9Ow0KICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvc3RSZXF1ZXN0KEhIM0RfQUpBWF9VUkwsIHsNCiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgfSwNCiAgICAgICAgYm9keTogbmV3IFVSTFNlYXJjaFBhcmFtcyh7DQogICAgICAgICAgICBhY3Rpb246ICdoYW5kbGVfcmVqZWN0X3JlY2VpdmVkX2NoYWxsZW5nZScsDQogICAgICAgICAgICB0YXJnZXRfdXNlcl9pZDogY2hhbGxlbmdlLnRhcmdldF91c2VyX2lkLA0KICAgICAgICAgICAgY2hhbGxlbmdlX2lkOiBjaGFsbGVuZ2UuY2hhbGxlbmdlX2lkLA0KICAgICAgICAgICAgbm9uY2U6IG5vbmNlDQogICAgICAgIH0pDQogICAgfSk7DQogICAgY29uc3QgbWVzc2FnZSA9IHJlc3VsdC5zdWNjZXNzDQogICAgICAgID8gYOKchSBbTHXhuq1uIFbDtV0gLSBU4burIGNo4buRaSB0aMOgbmggY8O0bmcgecOqdSBj4bqndSBj4bunYSAke2NoYWxsZW5nZS5uYW1lfSAoJHtjaGFsbGVuZ2UudGFyZ2V0X3VzZXJfaWR9KWANCiAgICAgICAgOiBg4p2MIFtMdeG6rW4gVsO1XSAtVOG7qyBjaOG7kWkgdGjhuqV0IGLhuqFpIHnDqnUgY+G6p3UgY+G7p2EgJHtjaGFsbGVuZ2UubmFtZX0gKCR7Y2hhbGxlbmdlLnRhcmdldF91c2VyX2lkfSlgOw0KICAgIHNob3dOb3RpZmljYXRpb25VSShtZXNzYWdlKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gc2VuZENoYWxsZW5nZSh1c2VyLCBub25jZSkgew0KICAgIGlmICghbm9uY2UpIHsNCiAgICAgICAgc2hvd05vdGlmaWNhdGlvblVJKCc8PicsIGDwn5S0IFtMdeG6rW4gVsO1XSAtIEtow7RuZyB0w6xtIHRo4bqleSBub25jZSBzZW5kX2NoYWxsZW5nZWApOw0KICAgICAgICByZXR1cm4gbnVsbDsNCiAgICB9Ow0KICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvc3RSZXF1ZXN0KEhIM0RfQUpBWF9VUkwsIHsNCiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgfSwNCiAgICAgICAgYm9keTogbmV3IFVSTFNlYXJjaFBhcmFtcyh7DQogICAgICAgICAgICBhY3Rpb246ICdzZW5kX2NoYWxsZW5nZScsDQogICAgICAgICAgICB0YXJnZXRfdXNlcl9pZDogdXNlci5pZCwNCiAgICAgICAgICAgIG5vbmNlOiBub25jZQ0KICAgICAgICB9KQ0KICAgIH0pOw0KICAgIGlmIChyZXN1bHQuc3VjY2VzcyAmJiByZXN1bHQuZGF0YSkgew0KICAgICAgICBzaG93Tm90aWZpY2F0aW9uVUkoYOKalO+4jyBbTHXhuq1uIFbDtV0gxJDDoyBn4butaSBraGnDqnUgY2hp4bq/biDEkeG6v24gJHt1c2VyLnJhbmt9ICgke3VzZXIuaWR9KWApDQogICAgfSBlbHNlIHsNCiAgICAgICAgc2hvd05vdGlmaWNhdGlvblVJKGDinYwgW0x14bqtbiBWw7VdIEfhu61pIGtoacOqdSBjaGnhur9uIGtow7RuZyB0aMOgbmggY8O0bmcgxJHhur9uICR7dXNlci5yYW5rfSAoJHt1c2VyLmlkfSlgKQ0KICAgIH0NCiAgICByZXR1cm4gcmVzdWx0LmRhdGE7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGF1dG9IYW5kbGVBcHByb3ZlQ2hhbGxlbmdlKGNoYWxsZW5nZSwgbm9uY2UpIHsNCiAgICBpZiAoIW5vbmNlKSB7DQogICAgICAgIHNob3dOb3RpZmljYXRpb25VSSgnPD4nLCBg8J+UtCBbTHXhuq1uIFbDtV0gLSBLaMO0bmcgdMOsbSB0aOG6pXkgbm9uY2UgYXV0b19oYW5kbGVfYXBwcm92ZV9jaGFsbGVuZ2VgKTsNCiAgICAgICAgcmV0dXJuIG51bGw7DQogICAgfTsNCiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb3N0UmVxdWVzdChISDNEX0FKQVhfVVJMLCB7DQogICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnIH0sDQogICAgICAgIGJvZHk6IG5ldyBVUkxTZWFyY2hQYXJhbXMoew0KICAgICAgICAgICAgYWN0aW9uOiAnYXV0b19oYW5kbGVfYXBwcm92ZV9jaGFsbGVuZ2UnLA0KICAgICAgICAgICAgdGFyZ2V0X3VzZXJfaWQ6IGNoYWxsZW5nZS50YXJnZXRfdXNlcl9pZCwNCiAgICAgICAgICAgIGNoYWxsZW5nZV9pZDogY2hhbGxlbmdlLmNoYWxsZW5nZV9pZCwNCiAgICAgICAgICAgIG5vbmNlOiBub25jZQ0KICAgICAgICB9KQ0KICAgIH0pOw0KICAgIGlmIChyZXN1bHQuc3VjY2VzcyAmJiByZXN1bHQuZGF0YSkgew0KICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7DQogICAgfQ0KICAgIGlmIChyZXN1bHQuc3VjY2VzcyAmJiByZXN1bHQuZGF0YSkgew0KICAgICAgICBzaG93Tm90aWZpY2F0aW9uVUkoYOKchSBbTHXhuq1uIFbDtV0gSG/DoG4gdGjDoG5oIGtoacOqdSBjaGnhur9uLmApDQogICAgfSBlbHNlIHsNCiAgICAgICAgc2hvd05vdGlmaWNhdGlvblVJKGDinYwgW0x14bqtbiBWw7VdIEtow7RuZyBob8OgbiB0aMOgbmggxJHGsOG7o2Mga2hpw6p1IGNoaeG6v24uYCkNCiAgICB9DQogICAgcmV0dXJuIHJlc3VsdC5kYXRhOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBoYW5kbGVSZWplY3RBbGxSZWNlaXZlZENoYWxsZW5nZXMoKSB7DQogICAgY29uc3QgeyBjaGFsbGVuZ2VzLCBub25jZSB9ID0gYXdhaXQgZ2V0UmVjZWl2ZWRDaGFsbGVuZ2VzKCk7DQogICAgZm9yIChjb25zdCBjaGFsbGVuZ2Ugb2YgY2hhbGxlbmdlcykgew0KICAgICAgICBhd2FpdCBoYW5kbGVSZWplY3RSZWNlaXZlZENoYWxsZW5nZShjaGFsbGVuZ2UsIG5vbmNlKTsNCiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDI1MCkpOw0KICAgIH0NCn0NCg0KYXN5bmMgZnVuY3Rpb24gYXV0b0JhdHRsZShpc09uID0gdHJ1ZSkgew0KICAgIGNvbnN0IGdldFZhbHVlID0gKHRleHQsIGRvYykgPT4gew0KICAgICAgICBjb25zdCBwID0gQXJyYXkuZnJvbShkb2MucXVlcnlTZWxlY3RvckFsbCgncCcpKQ0KICAgICAgICAgICAgLmZpbmQocCA9PiBwLnRleHRDb250ZW50LnRyaW0oKS5zdGFydHNXaXRoKHRleHQpKTsNCiAgICAgICAgcmV0dXJuIHA/LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4uaGlnaGxpZ2h0Jyk/LnRleHRDb250ZW50IHx8IG51bGw7DQogICAgfTsNCiAgICBsZXQgcGFnZSA9IGF3YWl0IGxvYWRQYWdlKERPTUFJTiArICcvbHVhbi12by1kdW9uZycpOw0KICAgIGlmIChwYWdlLmRvYy5xdWVyeVNlbGVjdG9yKCdbb25jbGljayo9ImpvaW5CYXR0bGVGdW5jdGlvbigpIl0nKSkgew0KICAgICAgICBpZiAoYXdhaXQgam9pbkJhdHRsZSgpKSB7DQogICAgICAgICAgICBwYWdlID0gYXdhaXQgbG9hZFBhZ2UoRE9NQUlOICsgJy9sdWFuLXZvLWR1b25nJyk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICB9DQogICAgY29uc3Qgc2VudCA9IGdldFZhbHVlKCLEkMOjIGfhu61pOiIsIHBhZ2UuZG9jKTsNCiAgICBjb25zdCByZWNlaXZlZCA9IGdldFZhbHVlKCLEkMOjIG5o4bqtbjoiLCBwYWdlLmRvYyk7DQogICAgaWYgKHNlbnQgPT09ICc1LzUnICYmIHJlY2VpdmVkID09PSAnNS81Jykgew0KICAgICAgICBjb25zdCByZXdhcmRCdG4gPSBwYWdlLmRvYy5nZXRFbGVtZW50QnlJZCgncmVjZWl2ZS1yZXdhcmQtYnRuJyk7DQogICAgICAgIGNvbnN0IHJlcXVlc3REYXRhID0gZ2V0UmVxdWVzdERhdGEocGFnZS5odG1sKTsNCiAgICAgICAgY29uc3QgcmV3YXJkTm9uY2UgPSByZXF1ZXN0RGF0YS5maW5kKHZhbHVlID0+IHZhbHVlLmFjdGlvbiA9PT0gJ3JlY2VpdmVfcmV3YXJkJyk/Lm5vbmNlOw0KICAgICAgICBpZiAocmV3YXJkQnRuICYmIHJld2FyZE5vbmNlKSB7DQogICAgICAgICAgICBhd2FpdCByZWNlaXZlUmV3YXJkKHJld2FyZE5vbmNlKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHNob3dOb3RpZmljYXRpb25VSShg8J+foiBbTHXhuq1uIFbDtV0gLSDEkMOjIG5o4bqtbiB0aMaw4bufbmcuYCk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICBjb25zdCByZWNlaXZlZEJhZGdlVmFsdWUgPSBwYXJzZUludChwYWdlLmRvYy5xdWVyeVNlbGVjdG9yKCcjVmlld1JlY2VpdmVkQ2hhbGxlbmdlc0J0biAubm90aWZpY2F0aW9uLWJhZGdlJyk/LnRleHRDb250ZW50LnRyaW0oKSB8fCAnMCcpOw0KICAgIGlmIChpc09uICYmIHJlY2VpdmVkQmFkZ2VWYWx1ZSA+IDApIHsNCiAgICAgICAgYXdhaXQgaGFuZGxlUmVqZWN0QWxsUmVjZWl2ZWRDaGFsbGVuZ2VzKCk7DQogICAgfQ0KICAgIGNvbnN0IGlzQXV0b09uID0gISFwYWdlLmRvYy5nZXRFbGVtZW50QnlJZCgnYXV0b19hY2NlcHRfdG9nZ2xlJyk/LmNoZWNrZWQ7DQogICAgaWYgKGlzQXV0b09uICE9PSBpc09uKSB7DQogICAgICAgIGF3YWl0IHRvZ2dsZUF1dG9BY2NlcHQoaXNPbik7DQogICAgfSBlbHNlIHsNCiAgICAgICAgc2hvd05vdGlmaWNhdGlvblVJKCBg8J+foiBbTHXhuq1uIFbDtV0gLSDEkGFuZyAke2lzT24gPyAnYuG6rXQnIDogJ3Thuq90J30gdOG7sSDEkeG7mW5nIGtoacOqdSBjaGnhur9uLmApOw0KICAgIH0NCiAgICByZXR1cm4gdHJ1ZTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gcnVuQmF0dGxlKHsgZm9sbG93aW5nID0gdHJ1ZSwgb25saW5lID0gZmFsc2UsIHJldHJ5ID0gMywgcGFnZSA9IG51bGwgfSA9IHt9KSB7DQogICAgaWYgKCFwYWdlKSB7DQogICAgICAgIHBhZ2UgPSBhd2FpdCBsb2FkUGFnZShET01BSU4gKyAnL2x1YW4tdm8tZHVvbmcnKTsNCiAgICB9DQogICAgY29uc3Qgc2NyaXB0ID0gcGFnZS5kb2MuZ2V0RWxlbWVudEJ5SWQoJ2N1c3RvbS1hamF4LWNoYWxsZW5nZS1qcy1leHRyYScpPy50ZXh0Q29udGVudDsNCiAgICBjb25zdCBtYXRjaCA9IHNjcmlwdD8ubWF0Y2goL1x7W1xzXFNdKlx9Lyk7DQogICAgY29uc3QgZGF0YSA9IG1hdGNoID8gSlNPTi5wYXJzZShtYXRjaFswXS5yZXBsYWNlKC9cXFwvL2csICcvJykpIDoge307DQogICAgbGV0IHVzZXJzID0gW107DQogICAgaWYgKGZvbGxvd2luZykgew0KICAgICAgICB1c2VycyA9IGF3YWl0IGdldFVzZXJzKHsgYWN0aW9uOiAnZ2V0X2ZvbGxvd2luZ191c2VycycsIG5vbmNlOiBkYXRhLm5vbmNlLCBsb2FkbW9yZTogdHJ1ZSB9KTsNCiAgICB9IGVsc2Ugew0KICAgICAgICBjb25zdCBuZXdTY3JpcHQgPSBwYWdlLmRvYy5nZXRFbGVtZW50QnlJZCgnY3VzdG9tLWFqYXgtY2hhbGxlbmdlX25ldy1qcy1leHRyYScpPy50ZXh0Q29udGVudDsNCiAgICAgICAgY29uc3QgbmV3TWF0Y2ggPSBuZXdTY3JpcHQ/Lm1hdGNoKC9ce1tcc1xTXSpcfS8pOw0KICAgICAgICBjb25zdCBuZXdEYXRhID0gbmV3TWF0Y2ggPyBKU09OLnBhcnNlKG5ld01hdGNoWzBdLnJlcGxhY2UoL1xcXC8vZywgJy8nKSkgOiB7fTsNCiAgICAgICAgdXNlcnMgPSBhd2FpdCBnZXRVc2Vycyh7IGFjdGlvbjogJ2dldF91c2Vyc19jaGFsbGVuZ2Vfb25saW5lJywgbm9uY2U6IG5ld0RhdGEubm9uY2UsIGxvYWRtb3JlOiBmYWxzZSB9KTsNCiAgICB9DQogICAgbGV0IHZhbGlkVXNlcnMgPSB1c2Vycy5maWx0ZXIodXNlciA9PiB1c2VyLmF1dG9BY2NlcHQgJiYgdXNlci5jaGFsbGVuZ2VzTGVmdCA+IDApOw0KICAgIHdoaWxlICh2YWxpZFVzZXJzLmxlbmd0aCkgew0KICAgICAgICBjb25zdCBjdXJyZW50ID0gdmFsaWRVc2Vyc1swXTsNCiAgICAgICAgaWYgKGN1cnJlbnQuY2hhbGxlbmdlc0xlZnQgPCAxKSB7DQogICAgICAgICAgICB2YWxpZFVzZXJzLnNoaWZ0KCk7DQogICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgfQ0KICAgICAgICBjb25zdCBzZW50RGF0YSA9IGF3YWl0IHNlbmRDaGFsbGVuZ2UoY3VycmVudCwgZGF0YS5ub25jZSk7DQogICAgICAgIGlmICh0eXBlb2Ygc2VudERhdGEgPT09ICdzdHJpbmcnICYmIHNlbnREYXRhLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ3Thu5FpIMSRYScpKSB7DQogICAgICAgICAgICBpZiAoc2VudERhdGEudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnbmjhuq1uIHThu5FpIMSRYScpKSB7DQogICAgICAgICAgICAgICAgdmFsaWRVc2Vycy5zaGlmdCgpOw0KICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5+hIFtMdeG6rW4gVsO1XSAtIMSQw6MgZ+G7rWkgdOG7kWkgxJFhIC0gJHtzZW50RGF0YX1gKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKHR5cGVvZiBzZW50RGF0YSA9PT0gJ29iamVjdCcgJiYgc2VudERhdGEgIT09IG51bGwpIHsNCiAgICAgICAgICAgIGNvbnN0IHNlbnRSZXN1bHQgPSBhd2FpdCBhdXRvSGFuZGxlQXBwcm92ZUNoYWxsZW5nZShzZW50RGF0YSwgZGF0YS5ub25jZSk7DQogICAgICAgICAgICBpZiAoIXNlbnRSZXN1bHQpIHsNCiAgICAgICAgICAgICAgICB2YWxpZFVzZXJzLnNoaWZ0KCk7DQogICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjb25zdCByZW1haW5pbmcgPSArc2VudFJlc3VsdC5yZWNlaXZlZF9yZW1haW5pbmcgfHwgMDsNCiAgICAgICAgICAgIGN1cnJlbnQuY2hhbGxlbmdlc0xlZnQgPSBNYXRoLm1pbihjdXJyZW50LmNoYWxsZW5nZXNMZWZ0IC0gMSwgcmVtYWluaW5nKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHZhbGlkVXNlcnMuc2hpZnQoKTsNCiAgICAgICAgfQ0KICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwMCkpOw0KICAgIH0NCiAgICBpZiAob25saW5lICYmIHJldHJ5ID4gMCkgew0KICAgICAgICByZXR1cm4gcnVuQmF0dGxlKHsgZm9sbG93aW5nOiBmYWxzZSwgb25saW5lLCByZXRyeTogcmV0cnkgLSAxLCBwYWdlIH0pOw0KICAgIH0NCiAgICBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5+hIFtMdeG6rW4gVsO1XSAtIENoxrBhIGhvw6BuIHRow6BuaCBn4butaSBraGnDqnUgY2hp4bq/bi5gKTsNCn0NCg0KLy8gVGnDqm4gRHV5w6puDQphc3luYyBmdW5jdGlvbiBzaG93QWxsV2VkZGluZygpIHsNCiAgICBjb25zdCBub25jZSA9IEJldHRlcl9NZXNzYWdlcy5ub25jZTsNCiAgICBpZiAoIW5vbmNlKSB7DQogICAgICAgIHJldHVybiBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5S0IFtUacOqbiBEdXnDqm5dIC0gS2jDtG5nIHTDrG0gdGjhuqV5IG5vbmNlIHNob3dfYWxsX3dlZGRpbmdgKTsNCiAgICB9Ow0KICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvc3RSZXF1ZXN0KEFDVElPTl9VUkwsIHsNCiAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICAgICAgICAgICdYLVdQLU5vbmNlJzogbm9uY2UNCiAgICAgICAgfSwNCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhY3Rpb246ICdzaG93X2FsbF93ZWRkaW5nJyB9KQ0KICAgIH0pOw0KICAgIHJldHVybiBBcnJheS5pc0FycmF5KHJlc3VsdC5kYXRhKSA/IHJlc3VsdC5kYXRhIDogW107DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHJlY2VpdmVMaVhpKHJvb21JZCkgew0KICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCBsb2FkUGFnZShET01BSU4gKyAnL3Bob25nLWN1b2k/aWQ9JyArIHJvb21JZCk7DQogICAgY29uc3QgcmVzdE5vbmNlID0gQXJyYXkuZnJvbShwYWdlLmRvYy5xdWVyeVNlbGVjdG9yQWxsKCdzY3JpcHQnKSkNCiAgICAgICAgLm1hcChzY3JpcHQgPT4gc2NyaXB0LnRleHRDb250ZW50Lm1hdGNoKC9jb25zdFxzK3Jlc3Rfbm9uY2Vccyo9XHMqWyciXShbXiciXSspWyciXS8pKQ0KICAgICAgICAuZmluZChtYXRjaCA9PiBtYXRjaCk/LlsxXTsNCiAgICBpZiAoIXJlc3ROb25jZSkgew0KICAgICAgICByZXR1cm4gc2hvd05vdGlmaWNhdGlvblVJKCBg8J+UtCBbVGnDqm4gRHV5w6puXSAtIEtow7RuZyB0w6xtIHRo4bqleSBub25jZSBoaDNkX3JlY2VpdmVfbGlfeGlgKTsNCiAgICB9Ow0KICAgIGNvbnN0IGhhc0xpWGlNb2RhbCA9IHBhZ2UuZG9jLmdldEVsZW1lbnRCeUlkKCdsaVhpTW9kYWwnKSAhPT0gbnVsbDsNCiAgICBpZiAoIWhhc0xpWGlNb2RhbCkgcmV0dXJuOw0KICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvc3RSZXF1ZXN0KEFDVElPTl9VUkwsIHsNCiAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywNCiAgICAgICAgICAgICdYLVdQLU5vbmNlJzogcmVzdE5vbmNlDQogICAgICAgIH0sDQogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsNCiAgICAgICAgICAgIGFjdGlvbjogJ2hoM2RfcmVjZWl2ZV9saV94aScsDQogICAgICAgICAgICB3ZWRkaW5nX3Jvb21faWQ6IHJvb21JZA0KICAgICAgICB9KQ0KICAgIH0pOw0KICAgIGNvbnN0IG1lc3NhZ2UgPSByZXN1bHQuc3VjY2Vzcw0KICAgICAgICA/IGDinIUgW1Rpw6puIER1ecOqbl0gLSBN4bufIEzDrCBYw6wgdGjDoG5oIGPDtG5nIHBow7JuZyAke3Jvb21JZH0gLSBOaOG6rW4gJHtyZXN1bHQuZGF0YT8uYW1vdW50fSAke3Jlc3VsdC5kYXRhPy5uYW1lfWANCiAgICAgICAgOiBg4p2MIFtUacOqbiBEdXnDqm5dIC0gTeG7nyBMw6wgWMOsIHRo4bqldCBi4bqhaSAtICR7cmVzdWx0LmRhdGE/Lm1lc3NhZ2V9YDsNCiAgICBzaG93Tm90aWZpY2F0aW9uVUkobWVzc2FnZSk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIHJlY2VpdmVBbGxMaVhpKCkgew0KICAgIGNvbnN0IHJvb21zID0gYXdhaXQgc2hvd0FsbFdlZGRpbmcoKTsNCiAgICBmb3IgKGNvbnN0IHJvb20gb2Ygcm9vbXMpIHsNCiAgICAgICAgaWYgKHJvb20uaGFzX2JsZXNzZWQgIT09IHRydWUpIHsNCiAgICAgICAgICAgIHNob3dOb3RpZmljYXRpb25VSShg4pqg77iPIFtUacOqbiBEdXnDqm5dIC0gQ2jGsGEgY2jDumMgcGjDumMgcGjDsm5nICR7cm9vbS53ZWRkaW5nX3Jvb21faWR9YCk7DQogICAgICAgIH0gZWxzZSBpZiAocm9vbS5oYXNfc2VudF9saV94aSA9PT0gdHJ1ZSkgew0KICAgICAgICAgICAgYXdhaXQgcmVjZWl2ZUxpWGkocm9vbS53ZWRkaW5nX3Jvb21faWQpOw0KICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDI1MCkpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgc2hvd05vdGlmaWNhdGlvblVJKGDinYwgW1Rpw6puIER1ecOqbl0gLSBQaMOybmcgJHtyb29tLndlZGRpbmdfcm9vbV9pZH0gY2jGsGEgcGjDoXQgTMOsIFjDrC5gKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZiAocm9vbXMubGVuZ3RoKSB7DQogICAgICAgIHNob3dOb3RpZmljYXRpb25VSSggYPCfn6IgW1Rpw6puIER1ecOqbl0gLSDEkMOjIG5o4bqtbiBo4bq/dCBMw6wgWMOsLmApOw0KICAgIH0gZWxzZSB7DQogICAgICAgIHNob3dOb3RpZmljYXRpb25VSSggYPCfn6EgW1Rpw6puIER1ecOqbl0gLSBLaMO0bmcgY8OzIHBow7JuZyBjxrDhu5tpIG7DoG8uYCk7DQogICAgfQ0KfQ0KDQovLyBMaW5oIFRo4bqhY2gNCmFzeW5jIGZ1bmN0aW9uIHJlZGVlbUNvZGUoY29kZSkgew0KICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCBsb2FkUGFnZShET01BSU4gKyAnL2xpbmgtdGhhY2gnKTsNCiAgICBjb25zdCBub25jZSA9IHBhZ2UuaHRtbC5tYXRjaCgvJ25vbmNlJ1xzKjpccyonKFthLWYwLTldKyknL2kpPy5bMV07DQogICAgaWYgKCFub25jZSkgew0KICAgICAgICByZXR1cm4gc2hvd05vdGlmaWNhdGlvblVJKCBg8J+UtCBbTGluaCBUaOG6oWNoXSAtIEtow7RuZyB0w6xtIHRo4bqleSBub25jZSByZWRlZW1fbGluaF90aGFjaGApOw0KICAgIH07DQogICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9zdFJlcXVlc3QoSEgzRF9BSkFYX1VSTCwgew0KICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyB9LA0KICAgICAgICBib2R5OiBuZXcgVVJMU2VhcmNoUGFyYW1zKHsNCiAgICAgICAgICAgICdhY3Rpb24nOiAncmVkZWVtX2xpbmhfdGhhY2gnLA0KICAgICAgICAgICAgJ2NvZGUnOiBjb2RlLA0KICAgICAgICAgICAgJ25vbmNlJzogbm9uY2UsDQogICAgICAgICAgICAnaG9sZF90aW1lc3RhbXAnOiBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKQ0KICAgICAgICB9KQ0KICAgIH0pOw0KICAgIGNvbnN0IG1lc3NhZ2UgPSByZXN1bHQuc3VjY2VzcyA9IGAke3Jlc3VsdC5zdWNjZXNzID8gJ+KchScgOiAn4pqg77iPJ30gW0xpbmggVGjhuqFjaF0gLSAke2NvZGV9IC0gJHtyZXN1bHQuZGF0YT8ubWVzc2FnZX1gOw0KICAgIHNob3dOb3RpZmljYXRpb25VSShtZXNzYWdlKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gcmVkZWVtQ29kZXMoY29kZXMpIHsNCiAgICBmb3IgKGNvbnN0IGNvZGUgb2YgY29kZXMpIHsNCiAgICAgICAgYXdhaXQgcmVkZWVtQ29kZShjb2RlKTsNCiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDI1MCkpOw0KICAgIH0NCiAgICBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5+iIFtMaW5oIFRo4bqhY2hdIC0gxJDDoyBuaOG6rXAgeG9uZy5gKTsNCn0NCg0KLy8gxJDhu5UgVGjhuqFjaA0KYXN5bmMgZnVuY3Rpb24gZ2l2ZU5ld2JpZUdpZnQocmVxdWVzdERhdGEpIHsNCiAgICBjb25zdCBzZWN1cml0eSA9IHJlcXVlc3REYXRhLmZpbmQodmFsdWUgPT4gdmFsdWUuYWN0aW9uID09PSAnZ2l2ZV9uZXdiaWVfZ2lmdCcpPy5zZWN1cml0eTsNCiAgICBpZiAoIXNlY3VyaXR5KSB7DQogICAgICAgIHJldHVybiBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5S0IFvEkOG7lSBUaOG6oWNoXSAtIEtow7RuZyB0w6xtIHRo4bqleSBzZWN1cml0eSBnaXZlX25ld2JpZV9naWZ0YCk7DQogICAgfTsNCiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb3N0UmVxdWVzdChISDNEX0FKQVhfVVJMLCB7DQogICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnIH0sDQogICAgICAgIGJvZHk6IG5ldyBVUkxTZWFyY2hQYXJhbXMoew0KICAgICAgICAgICAgYWN0aW9uOiAnZ2l2ZV9uZXdiaWVfZ2lmdCcsDQogICAgICAgICAgICBzZWN1cml0eQ0KICAgICAgICB9KQ0KICAgIH0pOw0KICAgIGNvbnN0IG1lc3NhZ2UgPSByZXN1bHQuc3VjY2Vzcw0KICAgICAgICA/IGDwn5+iIFvEkOG7lSBUaOG6oWNoXSAtIE5o4bqtbiBxdcOgIHTDom4gdGjhu6cgdGjDoG5oIGPDtG5nIC0gJHtyZXN1bHQuZGF0YX1gDQogICAgICAgIDogYPCflLQgW8SQ4buVIFRo4bqhY2hdIC0gTmjhuq1uIHF1w6AgdMOibiB0aOG7pyB0aOG6pXQgYuG6oWkgLSAke3Jlc3VsdC5kYXRhfWA7DQogICAgc2hvd05vdGlmaWNhdGlvblVJKCBtZXNzYWdlKTsNCn0NCg0KYXN5bmMgZnVuY3Rpb24gY2xhaW1Eb1RoYWNoUmV3YXJkKHJlcXVlc3REYXRhKSB7DQogICAgY29uc3Qgc2VjdXJpdHkgPSByZXF1ZXN0RGF0YS5maW5kKHZhbHVlID0+IHZhbHVlLmFjdGlvbiA9PT0gJ2NsYWltX2RvX3RoYWNoX3Jld2FyZCcpPy5zZWN1cml0eTsNCiAgICBpZiAoIXNlY3VyaXR5KSB7DQogICAgICAgIHJldHVybiBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5S0IFvEkOG7lSBUaOG6oWNoXSAtIEtow7RuZyB0w6xtIHRo4bqleSBzZWN1cml0eSBjbGFpbV9kb190aGFjaF9yZXdhcmRgKTsNCiAgICB9Ow0KICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvc3RSZXF1ZXN0KEhIM0RfQUpBWF9VUkwsIHsNCiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcgfSwNCiAgICAgICAgYm9keTogbmV3IFVSTFNlYXJjaFBhcmFtcyh7DQogICAgICAgICAgICBhY3Rpb246ICdjbGFpbV9kb190aGFjaF9yZXdhcmQnLA0KICAgICAgICAgICAgc2VjdXJpdHkNCiAgICAgICAgfSkNCiAgICB9KTsNCiAgICBjb25zdCBtZXNzYWdlID0gcmVzdWx0LnN1Y2Nlc3MNCiAgICAgICAgPyBg8J+foiBbxJDhu5UgVGjhuqFjaF0gLSBOaOG6rW4gdGjGsOG7n25nIHRow6BuaCBjw7RuZyAtICR7cmVzdWx0LmRhdGE/Lm1lc3NhZ2V9YA0KICAgICAgICA6IGDwn5S0IFvEkOG7lSBUaOG6oWNoXSAtICR7cmVzdWx0LmRhdGE/Lm1lc3NhZ2V9YDsNCiAgICBzaG93Tm90aWZpY2F0aW9uVUkoIG1lc3NhZ2UpOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBsb2FkRG9UaGFjaERhdGEocmVxdWVzdERhdGEpIHsNCiAgICBjb25zdCBzZWN1cml0eSA9IHJlcXVlc3REYXRhLmZpbmQodmFsdWUgPT4gdmFsdWUuYWN0aW9uID09PSAnbG9hZF9kb190aGFjaF9kYXRhJyk/LnNlY3VyaXR5Ow0KICAgIGlmICghc2VjdXJpdHkpIHsNCiAgICAgICAgcmV0dXJuIHNob3dOb3RpZmljYXRpb25VSSggYPCflLQgW8SQ4buVIFRo4bqhY2hdIC0gS2jDtG5nIHTDrG0gdGjhuqV5IHNlY3VyaXR5IGxvYWRfZG9fdGhhY2hfZGF0YWApOw0KICAgIH07DQogICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9zdFJlcXVlc3QoSEgzRF9BSkFYX1VSTCwgew0KICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyB9LA0KICAgICAgICBib2R5OiBuZXcgVVJMU2VhcmNoUGFyYW1zKHsNCiAgICAgICAgICAgIGFjdGlvbjogJ2xvYWRfZG9fdGhhY2hfZGF0YScsDQogICAgICAgICAgICBzZWN1cml0eQ0KICAgICAgICB9KQ0KICAgIH0pOw0KICAgIGNvbnN0IHsgc3VjY2VzcywgZGF0YSB9ID0gcmVzdWx0IHx8IHt9Ow0KICAgIGNvbnN0IHsgc3RvbmVzLCBpc19yZXdhcmRfdGltZSwgd2lubmluZ19zdG9uZV9pZCB9ID0gZGF0YSB8fCB7fTsNCiAgICBpZiAoIXN1Y2Nlc3MgfHwgIXN0b25lcykgew0KICAgICAgICBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5S0IFvEkOG7lSBUaOG6oWNoXSAtIEtow7RuZyBs4bqleSDEkcaw4bujYyBk4buvIGxp4buHdSBsb2FkX2RvX3RoYWNoX2RhdGFgKTsNCiAgICAgICAgcmV0dXJuIFtdOw0KICAgIH07DQogICAgaWYgKCFpc19yZXdhcmRfdGltZSkgcmV0dXJuIHN0b25lczsNCiAgICBjb25zdCByZXdhcmRTdG9uZSA9IHN0b25lcy5maW5kKHN0b25lID0+IHN0b25lLmlkID09IHdpbm5pbmdfc3RvbmVfaWQgJiYgc3RvbmUuYmV0X3BsYWNlZCA9PT0gdHJ1ZSk7DQogICAgaWYgKCFyZXdhcmRTdG9uZSkgew0KICAgICAgICBzaG93Tm90aWZpY2F0aW9uVUkoIGDwn5+hIFvEkOG7lSBUaOG6oWNoXSAtIEtow7RuZyBjw7MgdGjGsOG7n25nIWApOw0KICAgICAgICByZXR1cm4gW107DQogICAgfTsNCiAgICBpZiAocmV3YXJkU3RvbmUucmV3YXJkX2NsYWltZWQgPT09IHRydWUpIHsNCiAgICAgICAgc2hvd05vdGlmaWNhdGlvblVJKCBg8J+foiBbxJDhu5UgVGjhuqFjaF0gLSDEkMOjIG5o4bqtbiB0aMaw4bufbmcuYCk7DQogICAgICAgIHJldHVybiBbXTsNCiAgICB9Ow0KICAgIGF3YWl0IGNsYWltRG9UaGFjaFJld2FyZChyZXF1ZXN0RGF0YSk7DQogICAgcmV0dXJuIFtdOw0KfQ0KDQphc3luYyBmdW5jdGlvbiBwbGFjZURvVGhhY2hCZXQocmVxdWVzdERhdGEsIHN0b25lLCBhbW91bnQgPSAyMCkgew0KICAgIGNvbnN0IHNlY3VyaXR5ID0gcmVxdWVzdERhdGEuZmluZCh2YWx1ZSA9PiB2YWx1ZS5hY3Rpb24gPT09ICdwbGFjZV9kb190aGFjaF9iZXQnKT8uc2VjdXJpdHk7DQogICAgaWYgKCFzZWN1cml0eSkgew0KICAgICAgICByZXR1cm4gc2hvd05vdGlmaWNhdGlvblVJKCBg8J+UtCBbxJDhu5UgVGjhuqFjaF0gLSBLaMO0bmcgdMOsbSB0aOG6pXkgc2VjdXJpdHkgcGxhY2VfZG9fdGhhY2hfYmV0YCk7DQogICAgfTsNCiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb3N0UmVxdWVzdChISDNEX0FKQVhfVVJMLCB7DQogICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnIH0sDQogICAgICAgIGJvZHk6IG5ldyBVUkxTZWFyY2hQYXJhbXMoew0KICAgICAgICAgICAgYWN0aW9uOiAncGxhY2VfZG9fdGhhY2hfYmV0JywNCiAgICAgICAgICAgIHNlY3VyaXR5LA0KICAgICAgICAgICAgc3RvbmVfaWQ6IHN0b25lLnN0b25lX2lkLA0KICAgICAgICAgICAgYmV0X2Ftb3VudDogYW1vdW50DQogICAgICAgIH0pDQogICAgfSk7DQogICAgY29uc3QgbWVzc2FnZSA9IHJlc3VsdC5zdWNjZXNzDQogICAgICAgID8gYPCfn6IgW8SQ4buVIFRo4bqhY2hdIC0gxJDhurd0IGPGsOG7o2MgdGjDoG5oIGPDtG5nIC0gJHtzdG9uZS5uYW1lfSAoeCR7c3RvbmUucmV3YXJkX211bHRpcGxpZXJ9KSAtICR7YW1vdW50fSBUacOqbiBOZ+G7jWNgDQogICAgICAgIDogYPCflLQgW8SQ4buVIFRo4bqhY2hdIC0gxJDhurd0IGPGsOG7o2MgdGjhuqV0IGLhuqFpIC0gJHtyZXN1bHQuZGF0YX1gOw0KICAgIHNob3dOb3RpZmljYXRpb25VSSggbWVzc2FnZSk7DQp9DQoNCmFzeW5jIGZ1bmN0aW9uIGF1dG9Eb1RoYWNoKGluZGljZXMsIGFtb3VudCA9IDIpIHsNCiAgICBjb25zdCBwYWdlID0gYXdhaXQgbG9hZFBhZ2UoRE9NQUlOICsgJy9kby10aGFjaC1oaDNkJyk7DQogICAgY29uc3QgcmVxdWVzdERhdGEgPSBnZXRSZXF1ZXN0RGF0YShwYWdlLmh0bWwpOw0KICAgIGNvbnN0IGhhc0dpZnQgPSBwYWdlLmRvYy5xdWVyeVNlbGVjdG9yKCcuY3VzdG9tLWJ1dHRvbi5naWZ0LWJ1dHRvbicpOw0KICAgIGlmIChoYXNHaWZ0KSB7DQogICAgICAgIGF3YWl0IGdpdmVOZXdiaWVHaWZ0KHJlcXVlc3REYXRhKTsNCiAgICB9Ow0KICAgIGNvbnN0IGhhc1Jld2FyZCA9IHBhZ2UuZG9jLnF1ZXJ5U2VsZWN0b3IoJyNjbGFpbS1yZXdhcmQtYnV0dG9uJyk7DQogICAgaWYgKGhhc1Jld2FyZCkgew0KICAgICAgICBhd2FpdCBjbGFpbURvVGhhY2hSZXdhcmQocmVxdWVzdERhdGEpOw0KICAgICAgICByZXR1cm4gYXdhaXQgYXV0b0RvVGhhY2goaW5kaWNlcywgYW1vdW50KTsNCiAgICB9Ow0KICAgIGNvbnN0IHN0b25lcyA9IGF3YWl0IGxvYWREb1RoYWNoRGF0YShyZXF1ZXN0RGF0YSk7DQogICAgaWYgKHN0b25lcy5sZW5ndGggPT09IDApIHJldHVybjsNCiAgICBzdG9uZXMuc29ydCgobGhzLCByaHMpID0+IChOdW1iZXIocmhzLnJld2FyZF9tdWx0aXBsaWVyKSB8fCAwKSAtIChOdW1iZXIobGhzLnJld2FyZF9tdWx0aXBsaWVyKSB8fCAwKSk7DQogICAgY29uc3Qgc2VsZWN0ZWRTdG9uZXMgPSBzdG9uZXMuZmlsdGVyKChfLCBpbmRleCkgPT4gaW5kaWNlcy5pbmNsdWRlcyhpbmRleCArIDEpKTsNCiAgICBmb3IgKGNvbnN0IHN0b25lIG9mIHNlbGVjdGVkU3RvbmVzKSB7DQogICAgICAgIGlmIChzdG9uZS5iZXRfcGxhY2VkID09PSBmYWxzZSkgew0KICAgICAgICAgICAgYXdhaXQgcGxhY2VEb1RoYWNoQmV0KHJlcXVlc3REYXRhLCBzdG9uZSwgYW1vdW50KTsNCiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAyNTApKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHNob3dOb3RpZmljYXRpb25VSShgW8SQ4buVIFRo4bqhY2hdIC0gxJDDoyBk4bq3dCBjxrDhu6NjIHbDoG8gJHtzdG9uZS5uYW1lfSAoeCR7c3RvbmUucmV3YXJkX211bHRpcGxpZXJ9KWApOw0KICAgICAgICB9Ow0KICAgIH07DQp9DQoNCi8vIERhbmggc8OhY2ggY8OhYyBuaGnhu4dtIHbhu6UgY+G6p24gdGjhu7FjIGhp4buHbi4NCi8vIOKepCBO4bq/dSBtdeG7kW4gY2jhuqF5IG5oaeG7h20gduG7pSBuw6BvLCBjaOG7iSBj4bqnbiB0aMOqbSBJRCB0xrDGoW5nIOG7qW5nIHbDoG8gbeG6o25nIGB0YXNrc2AuDQovLyBEYW5oIHPDoWNoIG5oaeG7h20gduG7pToNCi8vICAxIC0gxJBp4buDbSBEYW5oIC0gVuG6pW4gxJDDoXAgLSBU4bq/IEzhu4UNCi8vICAyIC0gxJDhu5UgVGjhuqFjaA0KLy8gIDMgLSBUaMOtIEx1eeG7h24gVMO0bmcgTcO0bg0KLy8gIDQgLSBQaMO6YyBM4bujaQ0KLy8gIDUgLSBIb2FuZyBW4buxYw0KLy8gIDggLSBUacOqbiBEdXnDqm4gLSBOaOG6rW4gTMOsIFjDrA0KLy8gMTAgLSBMdeG6rW4gVsO1IC0gR+G7rWkgS2hpw6p1IENoaeG6v24NCmNvbnN0IHRhc2tzID0gWzEsIDIsIDMsIDQsIDUsIDgsIDEwXTsNCg0KLy8gTG/huqFpIMSRw6EgYuG6oW4gbXXhu5FuIGPGsOG7o2MgdHJvbmcgxJDhu5UgVGjhuqFjaCAtIFPhu5EgdOG7qyAxIMSR4bq/biA2Lg0KLy8g4p6kIE7hur91IG114buRbiB0aGF5IMSR4buVaSBsb+G6oWkgxJHDoSDEkeG7gyBjxrDhu6NjLCBjaOG7iSBj4bqnbiBjaOG7iW5oIGzhuqFpIGPDoWMgY29uIHPhu5EgdHJvbmcgbeG6o25nIGBiZXRzYC4NCi8vIOKepCBWw60gZOG7pTogWzEsIDRdIC0gQ8aw4bujYyB2w6BvIDIgbG/huqFpIMSRw6EgY8OzIHThu4kgbOG7hyB0aMaw4bufbmcgY2FvIHRo4bupIDEgdsOgIHRo4bupIDQuDQpjb25zdCBiZXRzID0gWzEsIDJdOw0KDQovLyBU4buxIMSR4buZbmcgbmjhuq1uIGtoacOqdSBjaGnhur9uIHRyb25nIEx14bqtbiBWw7UgKHRydWUgaG/hurdjIGZhbHNlKS4NCi8vIOKepCB0cnVlID0gQuG6rXQgdOG7sSDEkeG7mW5nIG5o4bqtbiBraGnDqnUgY2hp4bq/bi4NCi8vIOKepCBmYWxzZSA9IFThuq90IHThu7EgxJHhu5luZyBuaOG6rW4ga2hpw6p1IGNoaeG6v24uDQpjb25zdCBiYXR0bGVBdXRvT24gPSB0cnVlOw0KDQovLyBUw7l5IGNo4buNbiBn4butaSBraGnDqnUgY2hp4bq/biB0cm9uZyBMdeG6rW4gVsO1IC0gb25saW5lICh0cnVlIGhv4bq3YyBmYWxzZSkgLSByZXRyeSAoc+G7kSkuDQovLyDinqQgb25saW5lOiBmYWxzZSA9IEtow7RuZyB04buxIMSR4buZbmcgdMOsbSDEkcOhbmggbmfGsOG7nWkgT25saW5lIGtoaSBsxrDhu6N0IGfhu61pIG5nxrDhu51pIFRoZW8gZMO1aSBjaMawYSDEkeG6oXQgdOG7kWkgxJFhLg0KLy8g4p6kIG9ubGluZTogdHJ1ZSA9IFThu7EgxJHhu5luZyB0w6xtIMSRw6FuaCBuZ8aw4budaSBPbmxpbmUga2hpIGzGsOG7o3QgZ+G7rWkgbmfGsOG7nWkgVGhlbyBkw7VpIGNoxrBhIMSR4bqhdCB04buRaSDEkWEuDQovLyDinqQgcmV0cnk6IDMgPSBT4buRIGzhuqduIHThuqNpIGzhuqFpIGRhbmggc8OhY2ggbmfGsOG7nWkgT25saW5lLg0KY29uc3QgYmF0dGxlT3B0aW9ucyA9IHsgb25saW5lOiBmYWxzZSwgcmV0cnk6IDMgfTsNCg0KLy8gRGFuaCBzw6FjaCBjb2RlIGPhuqduIG5o4bqtcCB0cm9uZyBMaW5oIFRo4bqhY2ggKHRleHQpLg0KLy8g4p6kIFbDrSBk4bulOiBbIkhIM0QiLCAiTElOSFRIQUNIIl0gaG/hurdjICBbJ0hIM0QnLCAnTElOSFRIQUNIJ10NCmNvbnN0IGNvZGVzID0gWydDQU9MT0lUSUVORFVZRU4nLCAnVElFTkRVWUVOJywgJ0hBUFRIVUxJTkhUSEFDSCddOw0KDQooYXN5bmMgKCkgPT4gew0KICAgIGlmICh0YXNrcy5pbmNsdWRlcygxKSkgew0KICAgICAgICBhd2FpdCBjaGVja0luKCk7DQogICAgICAgIGF3YWl0IHJ1blF1aXooKTsNCiAgICAgICAgYXdhaXQgdGVMZVRvbmdNb24oKTsNCiAgICB9DQogICAgaWYgKHRhc2tzLmluY2x1ZGVzKDIpKSB7DQogICAgICAgIGF3YWl0IGF1dG9Eb1RoYWNoKGJldHMpOw0KICAgIH0NCiAgICBpZiAodGFza3MuaW5jbHVkZXMoMykpIHsNCiAgICAgICAgYXdhaXQgb3BlbkNoZXN0VExUTSgpOw0KICAgIH0NCiAgICBpZiAodGFza3MuaW5jbHVkZXMoNCkpIHsNCiAgICAgICAgYXdhaXQgb3BlbkNoZXN0UEwoKTsNCiAgICB9DQogICAgaWYgKHRhc2tzLmluY2x1ZGVzKDUpKSB7DQogICAgICAgIGF3YWl0IGF0dGFja0Jvc3MoKTsNCiAgICB9DQogICAgaWYgKHRhc2tzLmluY2x1ZGVzKDgpKSB7DQogICAgICAgIGF3YWl0IHJlY2VpdmVBbGxMaVhpKCk7DQogICAgfQ0KICAgIGlmICh0YXNrcy5pbmNsdWRlcygxMCkpIHsNCiAgICAgICAgaWYgKGF3YWl0IGF1dG9CYXR0bGUoYmF0dGxlQXV0b09uKSkgew0KICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDMwMDApKTsNCiAgICAgICAgICAgIGF3YWl0IHJ1bkJhdHRsZShiYXR0bGVPcHRpb25zKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBhd2FpdCBhdXRvQmF0dGxlKGJhdHRsZUF1dG9Pbik7DQogICAgYXdhaXQgY2xhaW1EYWlseUFjdGl2aXR5UmV3YXJkKCk7DQogICAgYXdhaXQgcmVkZWVtQ29kZXMoY29kZXMpOw0KICAgIHNob3dOb3RpZmljYXRpb25VSShg4p2k77iP4pml77iP4p2k77iP4pml77iP4p2k77iP4pml77iP4p2k77iP4pml77iP4p2k77iP4pml77iP4p2k77iPYCk7DQp9KSgpOw==';

  // ðŸ”’ Tá»± Ä‘á»™ng kiá»ƒm tra DevTools
  (function detectDevTools() {
    const threshold = 160;
    setInterval(() => {
      const widthThreshold = window.outerWidth - window.innerWidth > threshold;
      const heightThreshold = window.outerHeight - window.innerHeight > threshold;
      if (widthThreshold || heightThreshold) {
        console.clear();
        alert('ðŸš« HÃ nh Ä‘á»™ng bá»‹ cháº·n vÃ¬ phÃ¡t hiá»‡n Developer Tools!');
        window.location.reload();
      }
    }, 1000);
  })();

  // ðŸ”’ Cháº·n Chuá»™t pháº£i, F12, Ctrl+Shift+I, Ctrl+U
  document.addEventListener('contextmenu', e => e.preventDefault());
  document.addEventListener('keydown', e => {
    if (e.keyCode == 123 || // F12
        (e.ctrlKey && e.shiftKey && (e.keyCode == 73 || e.keyCode == 74)) || // Ctrl+Shift+I/J
        (e.ctrlKey && (e.keyCode == 85 || e.keyCode == 83))) { // Ctrl+U/Ctrl+S
      e.preventDefault();
      alert('ðŸš« KhÃ´ng Ä‘Æ°á»£c phÃ©p thao tÃ¡c!');
    }
  });

  // ðŸ”’ Ká»¹ thuáº­t console.dir + Image
  const element = new Image();
  Object.defineProperty(element, 'id', {
    get: function() {
      console.clear();
      alert('ðŸš« DevTools Ä‘ang má»Ÿ! Ngá»«ng hoáº¡t Ä‘á»™ng.');
      window.location.reload();
      throw new Error('DevTools Detected!');
    }
  });
  setInterval(function() {
    console.dir(element);
  }, 500);

  // ðŸ”¥ Decode Base64 vÃ  Inject mÃ£
  try {
    const decoded = atob(encoded);
    const script = document.createElement('script');
    script.textContent = decoded;
    document.body.appendChild(script);
  } catch (e) {
    console.clear();
    alert('ðŸš« Lá»—i mÃ£ hÃ³a dá»¯ liá»‡u. Tá»± Ä‘á»™ng dá»«ng.');
    window.location.reload();
  }
})();
